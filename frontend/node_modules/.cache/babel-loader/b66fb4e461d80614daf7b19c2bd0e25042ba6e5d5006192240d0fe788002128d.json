{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{useAuth}from'../../Context/AuthContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductDetails=()=>{const{id}=useParams();const{isAuthenticated}=useAuth();const[product,setProduct]=useState(null);const[loading,setLoading]=useState(true);const[quantity,setQuantity]=useState(1);const[selectedImage,setSelectedImage]=useState(0);const[showNotification,setShowNotification]=useState(false);useEffect(()=>{const fetchProductDetails=async()=>{try{setLoading(true);// First, get all products to find the one with matching ID\nconst response=await axios.get('http://localhost:5000/CustomerPurchases/products/all');if(response.data.success){const products=response.data.products;// Find product by ID (which is now the MongoDB _id)\nconst foundProduct=products.find(p=>p._id===id);if(foundProduct){// Transform the product data to match the expected format\nconst transformedProduct={id:foundProduct._id,name:foundProduct.name,category:foundProduct.category,price:foundProduct.price,originalPrice:foundProduct.originalPrice||foundProduct.price*1.2,image:foundProduct.image,images:foundProduct.images&&foundProduct.images.length>0?foundProduct.images:foundProduct.image?[foundProduct.image]:[`/product-default.jpg`],description:foundProduct.description,longDescription:foundProduct.longDescription||foundProduct.description,stock:foundProduct.quantity,warranty:foundProduct.warranty,rating:foundProduct.rating,reviews:foundProduct.reviews,specifications:foundProduct.specifications||{},features:foundProduct.features||[]};console.log('Product data:',foundProduct);console.log('Transformed product:',transformedProduct);setProduct(transformedProduct);}}}catch(error){console.error('Error fetching product details:',error);}finally{setLoading(false);}};fetchProductDetails();},[id]);const handleAddToCart=()=>{if(!isAuthenticated()){// Redirect to login\nreturn;}// Add to cart logic here\nsetShowNotification(true);setTimeout(()=>setShowNotification(false),3000);};const handleQuantityChange=newQuantity=>{if(newQuantity>=1&&newQuantity<=product.stock){setQuantity(newQuantity);}};const renderStars=rating=>{const stars=[];for(let i=1;i<=5;i++){stars.push(/*#__PURE__*/_jsx(\"span\",{className:i<=rating?'text-yellow-400':'text-gray-300',children:\"\\u2605\"},i));}return stars;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-50 via-teal-50 to-slate-100 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-4 border-teal-200 border-t-teal-600 mx-auto\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full h-16 w-16 border-4 border-transparent border-t-teal-400 animate-spin\",style:{animationDirection:'reverse',animationDuration:'1.5s'}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-6 text-slate-600 font-medium\",children:\"Loading product details...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 w-32 h-1 bg-teal-200 rounded-full mx-auto overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-gradient-to-r from-teal-500 to-coral-500 rounded-full animate-pulse\"})})]})});}if(!product){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\u274C\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Product not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"The product you're looking for doesn't exist.\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"bg-blue-600 text-white px-5 py-2.5 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium text-sm shadow-sm hover:shadow-md\",children:\"Back to Products\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-50 via-teal-50 to-slate-100\",children:[showNotification&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\u2705\"}),\"Product added to cart successfully!\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/80 backdrop-blur-sm shadow-lg border-b border-white/20\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"hover:text-teal-600 transition-colors duration-300 font-medium\",children:\"\\uD83C\\uDFE0 Home\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"/\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"hover:text-teal-600 transition-colors duration-300 font-medium\",children:\"\\uD83D\\uDECD\\uFE0F Products\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"/\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 font-semibold\",children:product.name})]}),/*#__PURE__*/_jsxs(Link,{to:\"/products\",className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium text-sm shadow-sm hover:shadow-md flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M10 19l-7-7m0 0l7-7m-7 7h18\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"Back to Products\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-12\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-96 bg-gradient-to-br from-teal-50 via-white to-coral-50 rounded-2xl flex items-center justify-center mb-6 overflow-hidden p-8 relative\",children:[product.images&&product.images.length>0||product.image?/*#__PURE__*/_jsx(\"img\",{src:product.images&&product.images.length>0?product.images[selectedImage]:product.image,alt:product.name,className:\"w-full h-full object-contain rounded-lg transition-transform duration-500 group-hover:scale-105\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='block';}}):null,/*#__PURE__*/_jsx(\"span\",{className:\"text-8xl transition-transform duration-500 group-hover:scale-110\",style:{display:product.images&&product.images.length>0||product.image?'none':'block'},children:product.category==='water-bottles'?'🥤':product.category==='filters'?'💧':'🔧'}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl\"})]}),product.stock<10&&product.stock>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 right-4 bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg\",children:[\"\\u26A0\\uFE0F Low Stock - Only \",product.stock,\" left\"]}),product.stock===0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg\",children:\"\\u274C Out of Stock\"}),product.stock>=10&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 right-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg\",children:\"\\u2705 In Stock\"}),product.rating>=4.5&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-4 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg\",children:\"\\u2B50 Premium Quality\"})]}),product.images&&product.images.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-3 justify-center\",children:product.images.map((image,index)=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedImage(index),className:`w-20 h-20 rounded-xl border-2 overflow-hidden transition-all duration-300 transform hover:scale-110 ${selectedImage===index?'border-teal-500 shadow-lg ring-2 ring-teal-200':'border-gray-200 hover:border-teal-300'} bg-gradient-to-br from-teal-50 to-coral-50 flex items-center justify-center`,children:[image?/*#__PURE__*/_jsx(\"img\",{src:image,alt:`${product.name} view ${index+1}`,className:\"w-full h-full object-contain p-2\",onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='block';}}):null,/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",style:{display:image?'none':'block'},children:product.category==='water-bottles'?'🥤':product.category==='filters'?'💧':'🔧'})]},index))})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center mr-2\",children:renderStars(product.rating)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"(\",product.reviews,\" reviews)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-3xl font-bold text-gray-900\",children:[\"LKR \",product.price.toLocaleString()]}),product.originalPrice>product.price&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-gray-500 line-through ml-3\",children:[\"LKR \",product.originalPrice.toLocaleString()]}),product.originalPrice>product.price&&/*#__PURE__*/_jsxs(\"span\",{className:\"bg-red-100 text-red-800 text-sm font-medium px-2 py-1 rounded ml-3\",children:[Math.round((product.originalPrice-product.price)/product.originalPrice*100),\"% OFF\"]})]}),product.originalPrice>product.price&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-green-600 font-semibold\",children:[\"You save LKR \",(product.originalPrice-product.price).toLocaleString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700 mr-2\",children:\"Availability:\"}),product.stock>0?/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-600 font-medium\",children:[product.stock,\" units in stock\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-red-600 font-medium\",children:\"Out of stock\"})]})}),product.warranty!=='N/A'&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700 mr-2\",children:\"Warranty:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium\",children:[product.warranty,\" Warranty\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 leading-relaxed\",children:product.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(quantity-1),disabled:quantity<=1,className:\"w-8 h-8 border border-gray-300 rounded-md flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium\",children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:product.stock,value:quantity,onChange:e=>handleQuantityChange(parseInt(e.target.value)||1),className:\"w-14 h-8 border border-gray-300 rounded-md text-center text-sm\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(quantity+1),disabled:quantity>=product.stock,className:\"w-8 h-8 border border-gray-300 rounded-md flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium\",children:\"+\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:product.stock>0?/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"w-full bg-teal-600 text-white py-3 px-6 rounded-lg hover:bg-teal-700 transition-colors duration-200 font-medium text-base shadow-sm hover:shadow-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Add to Cart - LKR \",(product.price*quantity).toLocaleString()]})]})}):/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"w-full bg-gray-300 text-gray-500 py-3 px-6 rounded-lg cursor-not-allowed font-medium text-base\",children:\"Out of Stock\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"Key Features\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:product.features.map((feature,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 mr-2\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:feature})]},index))})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-8 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-3\",children:\"\\uD83D\\uDCCB\"}),\"Product Details\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\u2699\\uFE0F\"}),\"Specifications\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:Object.entries(product.specifications).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-3 px-4 bg-gradient-to-r from-teal-50 to-coral-50 rounded-xl border border-teal-100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-800\",children:key}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700 font-medium\",children:value})]},key);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\uD83D\\uDCDD\"}),\"Detailed Description\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-700 leading-relaxed whitespace-pre-line bg-gradient-to-br from-slate-50 to-teal-50 p-6 rounded-xl border border-slate-200\",children:product.longDescription})]})]})]})})]})]});};export default ProductDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useAuth","axios","jsx","_jsx","jsxs","_jsxs","ProductDetails","id","isAuthenticated","product","setProduct","loading","setLoading","quantity","setQuantity","selectedImage","setSelectedImage","showNotification","setShowNotification","fetchProductDetails","response","get","data","success","products","foundProduct","find","p","_id","transformedProduct","name","category","price","originalPrice","image","images","length","description","longDescription","stock","warranty","rating","reviews","specifications","features","console","log","error","handleAddToCart","setTimeout","handleQuantityChange","newQuantity","renderStars","stars","i","push","className","children","style","animationDirection","animationDuration","to","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","src","alt","onError","e","target","display","nextSibling","map","index","onClick","toLocaleString","Math","round","disabled","type","min","max","value","onChange","parseInt","feature","Object","entries","_ref","key"],"sources":["E:/Y2S2/Project/frontend/src/Components/Products/ProductDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { useAuth } from '../../Context/AuthContext';\r\nimport axios from 'axios';\r\n\r\nconst ProductDetails = () => {\r\n  const { id } = useParams();\r\n  const { isAuthenticated } = useAuth();\r\n  const [product, setProduct] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [selectedImage, setSelectedImage] = useState(0);\r\n  const [showNotification, setShowNotification] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchProductDetails = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // First, get all products to find the one with matching ID\r\n        const response = await axios.get('http://localhost:5000/CustomerPurchases/products/all');\r\n        \r\n        if (response.data.success) {\r\n          const products = response.data.products;\r\n          \r\n          // Find product by ID (which is now the MongoDB _id)\r\n          const foundProduct = products.find(p => p._id === id);\r\n          \r\n          if (foundProduct) {\r\n            // Transform the product data to match the expected format\r\n            const transformedProduct = {\r\n              id: foundProduct._id,\r\n              name: foundProduct.name,\r\n              category: foundProduct.category,\r\n              price: foundProduct.price,\r\n              originalPrice: foundProduct.originalPrice || foundProduct.price * 1.2,\r\n              image: foundProduct.image,\r\n              images: foundProduct.images && foundProduct.images.length > 0 ? foundProduct.images : (foundProduct.image ? [foundProduct.image] : [`/product-default.jpg`]),\r\n              description: foundProduct.description,\r\n              longDescription: foundProduct.longDescription || foundProduct.description,\r\n              stock: foundProduct.quantity,\r\n              warranty: foundProduct.warranty,\r\n              rating: foundProduct.rating,\r\n              reviews: foundProduct.reviews,\r\n              specifications: foundProduct.specifications || {},\r\n              features: foundProduct.features || []\r\n            };\r\n            \r\n            console.log('Product data:', foundProduct);\r\n            console.log('Transformed product:', transformedProduct);\r\n            setProduct(transformedProduct);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching product details:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProductDetails();\r\n  }, [id]);\r\n\r\n  const handleAddToCart = () => {\r\n    if (!isAuthenticated()) {\r\n      // Redirect to login\r\n      return;\r\n    }\r\n    \r\n    // Add to cart logic here\r\n    setShowNotification(true);\r\n    setTimeout(() => setShowNotification(false), 3000);\r\n  };\r\n\r\n  const handleQuantityChange = (newQuantity) => {\r\n    if (newQuantity >= 1 && newQuantity <= product.stock) {\r\n      setQuantity(newQuantity);\r\n    }\r\n  };\r\n\r\n  const renderStars = (rating) => {\r\n    const stars = [];\r\n    for (let i = 1; i <= 5; i++) {\r\n      stars.push(\r\n        <span key={i} className={i <= rating ? 'text-yellow-400' : 'text-gray-300'}>\r\n          ★\r\n        </span>\r\n      );\r\n    }\r\n    return stars;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-teal-50 to-slate-100 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"relative\">\r\n            <div className=\"animate-spin rounded-full h-16 w-16 border-4 border-teal-200 border-t-teal-600 mx-auto\"></div>\r\n            <div className=\"absolute inset-0 rounded-full h-16 w-16 border-4 border-transparent border-t-teal-400 animate-spin\" style={{animationDirection: 'reverse', animationDuration: '1.5s'}}></div>\r\n          </div>\r\n          <p className=\"mt-6 text-slate-600 font-medium\">Loading product details...</p>\r\n          <div className=\"mt-2 w-32 h-1 bg-teal-200 rounded-full mx-auto overflow-hidden\">\r\n            <div className=\"h-full bg-gradient-to-r from-teal-500 to-coral-500 rounded-full animate-pulse\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!product) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"text-6xl mb-4\">❌</div>\r\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">Product not found</h3>\r\n          <p className=\"text-gray-600 mb-4\">The product you're looking for doesn't exist.</p>\r\n          <Link to=\"/products\" className=\"bg-blue-600 text-white px-5 py-2.5 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium text-sm shadow-sm hover:shadow-md\">\r\n            Back to Products\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-teal-50 to-slate-100\">\r\n      {/* Notification */}\r\n      {showNotification && (\r\n        <div className=\"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg\">\r\n          <div className=\"flex items-center\">\r\n            <span className=\"mr-2\">✅</span>\r\n            Product added to cart successfully!\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Header */}\r\n      <div className=\"bg-white/80 backdrop-blur-sm shadow-lg border-b border-white/20\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <nav className=\"flex items-center space-x-2 text-sm text-gray-600\">\r\n              <Link to=\"/\" className=\"hover:text-teal-600 transition-colors duration-300 font-medium\">🏠 Home</Link>\r\n              <span className=\"text-gray-400\">/</span>\r\n              <Link to=\"/products\" className=\"hover:text-teal-600 transition-colors duration-300 font-medium\">🛍️ Products</Link>\r\n              <span className=\"text-gray-400\">/</span>\r\n              <span className=\"text-gray-900 font-semibold\">{product.name}</span>\r\n            </nav>\r\n            <Link\r\n              to=\"/products\"\r\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium text-sm shadow-sm hover:shadow-md flex items-center space-x-2\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n              </svg>\r\n              <span>Back to Products</span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\r\n          {/* Product Images */}\r\n          <div>\r\n            <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-6\">\r\n              <div className=\"relative group\">\r\n                <div className=\"h-96 bg-gradient-to-br from-teal-50 via-white to-coral-50 rounded-2xl flex items-center justify-center mb-6 overflow-hidden p-8 relative\">\r\n                  {(product.images && product.images.length > 0) || product.image ? (\r\n                    <img \r\n                      src={product.images && product.images.length > 0 ? product.images[selectedImage] : product.image} \r\n                      alt={product.name}\r\n                      className=\"w-full h-full object-contain rounded-lg transition-transform duration-500 group-hover:scale-105\"\r\n                      onError={(e) => {\r\n                        e.target.style.display = 'none';\r\n                        e.target.nextSibling.style.display = 'block';\r\n                      }}\r\n                    />\r\n                  ) : null}\r\n                  <span \r\n                    className=\"text-8xl transition-transform duration-500 group-hover:scale-110\"\r\n                    style={{ display: ((product.images && product.images.length > 0) || product.image) ? 'none' : 'block' }}\r\n                  >\r\n                    {product.category === 'water-bottles' ? '🥤' : product.category === 'filters' ? '💧' : '🔧'}\r\n                  </span>\r\n                  \r\n                  {/* Gradient overlay on hover */}\r\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-2xl\"></div>\r\n                </div>\r\n                \r\n                {/* Stock Status */}\r\n                {product.stock < 10 && product.stock > 0 && (\r\n                  <div className=\"absolute top-4 right-4 bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg\">\r\n                    ⚠️ Low Stock - Only {product.stock} left\r\n                  </div>\r\n                )}\r\n                {product.stock === 0 && (\r\n                  <div className=\"absolute top-4 right-4 bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg\">\r\n                    ❌ Out of Stock\r\n                  </div>\r\n                )}\r\n                {product.stock >= 10 && (\r\n                  <div className=\"absolute top-4 right-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg\">\r\n                    ✅ In Stock\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Premium badge for high-rated products */}\r\n                {product.rating >= 4.5 && (\r\n                  <div className=\"absolute top-4 left-4 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg\">\r\n                    ⭐ Premium Quality\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Thumbnail Images */}\r\n              {product.images && product.images.length > 1 && (\r\n                <div className=\"flex space-x-3 justify-center\">\r\n                  {product.images.map((image, index) => (\r\n                    <button\r\n                      key={index}\r\n                      onClick={() => setSelectedImage(index)}\r\n                      className={`w-20 h-20 rounded-xl border-2 overflow-hidden transition-all duration-300 transform hover:scale-110 ${\r\n                        selectedImage === index \r\n                          ? 'border-teal-500 shadow-lg ring-2 ring-teal-200' \r\n                          : 'border-gray-200 hover:border-teal-300'\r\n                      } bg-gradient-to-br from-teal-50 to-coral-50 flex items-center justify-center`}\r\n                    >\r\n                      {image ? (\r\n                        <img \r\n                          src={image} \r\n                          alt={`${product.name} view ${index + 1}`}\r\n                          className=\"w-full h-full object-contain p-2\"\r\n                          onError={(e) => {\r\n                            e.target.style.display = 'none';\r\n                            e.target.nextSibling.style.display = 'block';\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                      <span \r\n                        className=\"text-3xl\"\r\n                        style={{ display: image ? 'none' : 'block' }}\r\n                      >\r\n                        {product.category === 'water-bottles' ? '🥤' : product.category === 'filters' ? '💧' : '🔧'}\r\n                      </span>\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Product Info */}\r\n          <div>\r\n            <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8\">\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">{product.name}</h1>\r\n              \r\n              {/* Rating */}\r\n              <div className=\"flex items-center mb-4\">\r\n                <div className=\"flex items-center mr-2\">\r\n                  {renderStars(product.rating)}\r\n                </div>\r\n                <span className=\"text-sm text-gray-500\">({product.reviews} reviews)</span>\r\n              </div>\r\n\r\n              {/* Price */}\r\n              <div className=\"mb-6\">\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"text-3xl font-bold text-gray-900\">LKR {product.price.toLocaleString()}</span>\r\n                  {product.originalPrice > product.price && (\r\n                    <span className=\"text-lg text-gray-500 line-through ml-3\">LKR {product.originalPrice.toLocaleString()}</span>\r\n                  )}\r\n                  {product.originalPrice > product.price && (\r\n                    <span className=\"bg-red-100 text-red-800 text-sm font-medium px-2 py-1 rounded ml-3\">\r\n                      {Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)}% OFF\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                {product.originalPrice > product.price && (\r\n                  <div className=\"mt-2 text-sm text-green-600 font-semibold\">\r\n                    You save LKR {(product.originalPrice - product.price).toLocaleString()}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Stock Status */}\r\n              <div className=\"mb-6\">\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"text-sm font-medium text-gray-700 mr-2\">Availability:</span>\r\n                  {product.stock > 0 ? (\r\n                    <span className=\"text-green-600 font-medium\">\r\n                      {product.stock} units in stock\r\n                    </span>\r\n                  ) : (\r\n                    <span className=\"text-red-600 font-medium\">Out of stock</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Warranty */}\r\n              {product.warranty !== 'N/A' && (\r\n                <div className=\"mb-6\">\r\n                  <div className=\"flex items-center\">\r\n                    <span className=\"text-sm font-medium text-gray-700 mr-2\">Warranty:</span>\r\n                    <span className=\"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium\">\r\n                      {product.warranty} Warranty\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Description */}\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Description</h3>\r\n                <p className=\"text-gray-600 leading-relaxed\">{product.description}</p>\r\n              </div>\r\n\r\n              {/* Quantity Selector */}\r\n              <div className=\"mb-6\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Quantity</label>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <button\r\n                    onClick={() => handleQuantityChange(quantity - 1)}\r\n                    disabled={quantity <= 1}\r\n                    className=\"w-8 h-8 border border-gray-300 rounded-md flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium\"\r\n                  >\r\n                    -\r\n                  </button>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    max={product.stock}\r\n                    value={quantity}\r\n                    onChange={(e) => handleQuantityChange(parseInt(e.target.value) || 1)}\r\n                    className=\"w-14 h-8 border border-gray-300 rounded-md text-center text-sm\"\r\n                  />\r\n                  <button\r\n                    onClick={() => handleQuantityChange(quantity + 1)}\r\n                    disabled={quantity >= product.stock}\r\n                    className=\"w-8 h-8 border border-gray-300 rounded-md flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium\"\r\n                  >\r\n                    +\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Add to Cart Button */}\r\n              <div className=\"mb-6\">\r\n                {product.stock > 0 ? (\r\n                  <button\r\n                    onClick={handleAddToCart}\r\n                    className=\"w-full bg-teal-600 text-white py-3 px-6 rounded-lg hover:bg-teal-700 transition-colors duration-200 font-medium text-base shadow-sm hover:shadow-md\"\r\n                  >\r\n                    <div className=\"flex items-center justify-center space-x-2\">\r\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01\" />\r\n                      </svg>\r\n                      <span>Add to Cart - LKR {(product.price * quantity).toLocaleString()}</span>\r\n                    </div>\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    disabled\r\n                    className=\"w-full bg-gray-300 text-gray-500 py-3 px-6 rounded-lg cursor-not-allowed font-medium text-base\"\r\n                  >\r\n                    Out of Stock\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              {/* Features */}\r\n              <div className=\"mb-6\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Key Features</h3>\r\n                <ul className=\"space-y-2\">\r\n                  {product.features.map((feature, index) => (\r\n                    <li key={index} className=\"flex items-start\">\r\n                      <span className=\"text-green-500 mr-2\">✓</span>\r\n                      <span className=\"text-gray-600\">{feature}</span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Detailed Information */}\r\n        <div className=\"mt-12\">\r\n          <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-8 flex items-center\">\r\n              <span className=\"mr-3\">📋</span>\r\n              Product Details\r\n            </h2>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n              {/* Specifications */}\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-gray-900 mb-6 flex items-center\">\r\n                  <span className=\"mr-2\">⚙️</span>\r\n                  Specifications\r\n                </h3>\r\n                <div className=\"space-y-4\">\r\n                  {Object.entries(product.specifications).map(([key, value]) => (\r\n                    <div key={key} className=\"flex justify-between py-3 px-4 bg-gradient-to-r from-teal-50 to-coral-50 rounded-xl border border-teal-100\">\r\n                      <span className=\"font-semibold text-gray-800\">{key}</span>\r\n                      <span className=\"text-gray-700 font-medium\">{value}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Long Description */}\r\n              <div>\r\n                <h3 className=\"text-xl font-bold text-gray-900 mb-6 flex items-center\">\r\n                  <span className=\"mr-2\">📝</span>\r\n                  Detailed Description\r\n                </h3>\r\n                <div className=\"text-gray-700 leading-relaxed whitespace-pre-line bg-gradient-to-br from-slate-50 to-teal-50 p-6 rounded-xl border border-slate-200\">\r\n                  {product.longDescription}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}