{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../../Context/AuthContext';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,PieChart,Pie,Cell,LineChart,Line}from'recharts';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FactoryDashboard=()=>{var _tabs$find,_tabs$find2;const{user,logout}=useAuth();const navigate=useNavigate();const[activeTab,setActiveTab]=useState('overview');// Check if user has factory manager role\nuseEffect(()=>{if(user&&user.role!=='Factory Manager'){console.error('User does not have factory manager privileges:',user.role);alert('Access denied. Factory Manager privileges required.');window.location.href='/login';}},[user]);const[inventoryStats,setInventoryStats]=useState(null);const[inventoryData,setInventoryData]=useState([]);const[pendingOrders,setPendingOrders]=useState([]);const[orderStats,setOrderStats]=useState(null);const[recentActivities,setRecentActivities]=useState([]);const[loading,setLoading]=useState(true);const[recyclingRequests,setRecyclingRequests]=useState([]);const[recyclingBins,setRecyclingBins]=useState([]);const[recyclingStats,setRecyclingStats]=useState(null);const[monthlyData,setMonthlyData]=useState([]);const[factoryRequests,setFactoryRequests]=useState([]);const[collectionRequests,setCollectionRequests]=useState([]);// Creative logout function\nconst handleCreativeLogout=()=>{// Add some visual feedback before logout\nconst confirmLogout=window.confirm('🏭 Are you sure you want to leave the Factory Command Center?');if(confirmLogout){// Add a small delay for visual effect\nsetTimeout(()=>{logout();navigate('/login');},500);}};// Refresh data function\nconst handleRefreshData=async()=>{try{setLoading(true);console.log('🔄 Refreshing factory dashboard data...');// Re-fetch all data\nconst token=localStorage.getItem('token');const headers={'Authorization':`Bearer ${token}`};const[inventoryResponse,ordersResponse,recyclingResponse,factoryRequestsResponse]=await Promise.allSettled([axios.get('http://localhost:5000/Inventory',{headers}),axios.get('http://localhost:5000/Orders',{headers}),axios.get('http://localhost:5000/RecyclingRequests',{headers}),axios.get('http://localhost:5000/FactoryRequests',{headers})]);// Process responses (same logic as in useEffect)\nif(inventoryResponse.status==='fulfilled'){const inventory=inventoryResponse.value.data;setInventoryStats({totalItems:inventory.length,totalQuantity:inventory.reduce((sum,item)=>sum+item.quantity,0),lowStockItems:inventory.filter(item=>item.quantity<item.minStockLevel).length});setInventoryData(inventory.map(item=>({name:item.name,value:item.quantity,color:COLORS[Math.floor(Math.random()*COLORS.length)]})));}if(ordersResponse.status==='fulfilled'){const orders=ordersResponse.value.data;setPendingOrders(orders.filter(order=>order.status==='Pending'));setOrderStats({totalOrders:orders.length,pendingOrders:orders.filter(order=>order.status==='Pending').length,urgentOrders:orders.filter(order=>order.priority==='High').length});}if(recyclingResponse.status==='fulfilled'){const requests=recyclingResponse.value.data;setRecyclingRequests(requests);setRecyclingStats({totalRequests:requests.length,pendingRequests:requests.filter(req=>req.status==='Pending').length,completedRequests:requests.filter(req=>req.status==='Completed').length});}if(factoryRequestsResponse.status==='fulfilled'){const requests=factoryRequestsResponse.value.data.requests||factoryRequestsResponse.value.data||[];setFactoryRequests(Array.isArray(requests)?requests:[]);}console.log('✅ Data refreshed successfully');alert('🔄 Dashboard data refreshed successfully!');}catch(error){console.error('❌ Error refreshing data:',error);alert('❌ Failed to refresh data. Please try again.');}finally{setLoading(false);}};// Refresh inventory data specifically after stock movements\nconst refreshInventoryData=async()=>{try{console.log('🔄 Refreshing inventory data after stock movement...');const token=localStorage.getItem('token');const headers={'Authorization':`Bearer ${token}`};// Fetch updated inventory stats and data\nconst[statsResponse,inventoryResponse]=await Promise.allSettled([axios.get('http://localhost:5000/Inventory/stats/overview',{headers}),axios.get('http://localhost:5000/Inventory',{headers})]);// Update inventory stats\nif(statsResponse.status==='fulfilled'){setInventoryStats(statsResponse.value.data.stats);console.log('✅ Inventory stats updated:',statsResponse.value.data.stats);}else{console.error('Error fetching updated inventory stats:',statsResponse.reason);}// Update inventory data\nif(inventoryResponse.status==='fulfilled'){const inventory=inventoryResponse.value.data.inventory||inventoryResponse.value.data;setInventoryData(inventory);console.log('✅ Inventory data updated');}else{console.error('Error fetching updated inventory data:',inventoryResponse.reason);}}catch(error){console.error('❌ Error refreshing inventory data:',error);}};// Listen for inventory update events\nuseEffect(()=>{const handleInventoryUpdate=()=>{console.log('🔄 Factory Dashboard: Inventory update event received, refreshing data...');handleRefreshData();};// Listen for custom inventory update events\nwindow.addEventListener('inventoryUpdated',handleInventoryUpdate);// Cleanup event listener on component unmount\nreturn()=>{window.removeEventListener('inventoryUpdated',handleInventoryUpdate);};},[]);// Fetch data from API\nuseEffect(()=>{const fetchDashboardData=async()=>{try{setLoading(true);console.log('🔄 Fetching factory dashboard data...');// Fetch all data in parallel with authentication\nconst token=localStorage.getItem('token');const headers={'Authorization':`Bearer ${token}`};const[statsResponse,inventoryResponse,ordersResponse,orderStatsResponse,activitiesResponse,recyclingResponse,binsResponse,recyclingStatsResponse,monthlyDataResponse,factoryRequestsResponse,collectionRequestsResponse]=await Promise.allSettled([axios.get('http://localhost:5000/Inventory/stats/overview',{headers}),axios.get('http://localhost:5000/Inventory',{headers}),axios.get('http://localhost:5000/Orders/pending',{headers}),axios.get('http://localhost:5000/Orders/stats/overview',{headers}),axios.get('http://localhost:5000/Orders/activities/recent',{headers}),axios.get('http://localhost:5000/RecyclingRequests/pending',{headers}),axios.get('http://localhost:5000/RecyclingBins/factory-notification',{headers}),axios.get('http://localhost:5000/RecyclingRequests/statistics',{headers}),axios.get('http://localhost:5000/Orders/monthly-data',{headers}),axios.get('http://localhost:5000/FactoryRequests',{headers}),axios.get('http://localhost:5000/RecyclingRequests/collection/pending',{headers})]);// Set inventory stats\nif(statsResponse.status==='fulfilled'){setInventoryStats(statsResponse.value.data.stats);}else{console.error('Error fetching inventory stats:',statsResponse.reason);setInventoryStats({totalItems:8,lowStockItems:2,outOfStockItems:1,inStockItems:5,totalQuantity:450});}// Set inventory data\nif(inventoryResponse.status==='fulfilled'){setInventoryData(inventoryResponse.value.data.inventory||[]);}else{console.error('Error fetching inventory data:',inventoryResponse.reason);setInventoryData([]);}// Set pending orders\nif(ordersResponse.status==='fulfilled'){setPendingOrders(ordersResponse.value.data.orders||[]);}else{console.error('Error fetching pending orders:',ordersResponse.reason);setPendingOrders([]);}// Set order stats\nif(orderStatsResponse.status==='fulfilled'){setOrderStats(orderStatsResponse.value.data.stats);}else{console.error('Error fetching order stats:',orderStatsResponse.reason);setOrderStats({totalOrders:0,pendingOrders:0,processingOrders:0,urgentOrders:0,highPriorityOrders:0});}// Set recent activities\nif(activitiesResponse.status==='fulfilled'){setRecentActivities(activitiesResponse.value.data.activities||[]);}else{console.error('Error fetching recent activities:',activitiesResponse.reason);setRecentActivities([]);}// Set recycling requests\nif(recyclingResponse.status==='fulfilled'){setRecyclingRequests(recyclingResponse.value.data.requests||[]);}else{console.error('Error fetching recycling requests:',recyclingResponse.reason);setRecyclingRequests([]);}// Set recycling bins\nif(binsResponse.status==='fulfilled'){setRecyclingBins(binsResponse.value.data.binsForNotification||[]);}else{console.error('Error fetching recycling bins:',binsResponse.reason);setRecyclingBins([]);}// Set recycling stats\nif(recyclingStatsResponse.status==='fulfilled'){setRecyclingStats(recyclingStatsResponse.value.data.statistics);}else{console.error('Error fetching recycling stats:',recyclingStatsResponse.reason);setRecyclingStats({totalRequests:0,pendingRequests:0,approvedRequests:0,completedRequests:0,rejectedRequests:0,totalWeight:0,totalPoints:0});}// Set monthly data for charts\nif(monthlyDataResponse.status==='fulfilled'){setMonthlyData(monthlyDataResponse.value.data.monthlyData||[]);}else{console.error('Error fetching monthly data:',monthlyDataResponse.reason);// Fallback to mock data if API fails\nsetMonthlyData([{month:'Jan',production:1200,recycling:850,efficiency:70.8},{month:'Feb',production:1350,recycling:920,efficiency:68.1},{month:'Mar',production:1100,recycling:780,efficiency:70.9},{month:'Apr',production:1450,recycling:1050,efficiency:72.4},{month:'May',production:1600,recycling:1150,efficiency:71.9},{month:'Jun',production:1400,recycling:980,efficiency:70.0},{month:'Jul',production:1300,recycling:890,efficiency:68.5},{month:'Aug',production:1550,recycling:1120,efficiency:72.3},{month:'Sep',production:1700,recycling:1250,efficiency:73.5},{month:'Oct',production:1650,recycling:1180,efficiency:71.5},{month:'Nov',production:1500,recycling:1080,efficiency:72.0},{month:'Dec',production:1800,recycling:1350,efficiency:75.0}]);}// Set factory requests\nif(factoryRequestsResponse.status==='fulfilled'){console.log('Factory requests response:',factoryRequestsResponse.value.data);const requests=factoryRequestsResponse.value.data.requests||factoryRequestsResponse.value.data||[];console.log('Setting factory requests:',requests);setFactoryRequests(Array.isArray(requests)?requests:[]);}else{console.error('❌ Failed to fetch factory requests:',factoryRequestsResponse.reason);setFactoryRequests([]);}// Set collection requests\nif(collectionRequestsResponse.status==='fulfilled'){const requests=collectionRequestsResponse.value.data.requests||collectionRequestsResponse.value.data||[];setCollectionRequests(Array.isArray(requests)?requests:[]);}else{console.error('Failed to fetch collection requests:',collectionRequestsResponse.reason);setCollectionRequests([]);}}catch(error){console.error('Error fetching dashboard data:',error);}finally{setLoading(false);}};fetchDashboardData();},[]);const getStatusColor=status=>{switch(status){case'In Stock':return'text-green-600 bg-green-100';case'Low Stock':return'text-yellow-600 bg-yellow-100';case'Out of Stock':return'text-red-600 bg-red-100';default:return'text-gray-600 bg-gray-100';}};const getRequestStatusColor=status=>{switch(status){case'pending':return'text-yellow-600 bg-yellow-100';case'approved':return'text-green-600 bg-green-100';case'rejected':return'text-red-600 bg-red-100';case'fulfilled':return'text-blue-600 bg-blue-100';default:return'text-gray-600 bg-gray-100';}};// Factory Request Functions\nconst handleApproveRequest=async requestId=>{try{console.log('Approving request:',requestId);console.log('Token:',localStorage.getItem('token'));const response=await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/approve`,{},{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`,'Content-Type':'application/json'}});console.log('Approval response:',response);if(response.status===200){// Refresh the factory requests data\nconst updatedRequests=factoryRequests.map(request=>request._id===requestId?{...request,status:'fulfilled',approvedAt:new Date(),fulfilledAt:new Date()}:request);setFactoryRequests(updatedRequests);// Immediately refresh inventory data to show updated stocks\nawait refreshInventoryData();alert('Request approved and inventory transferred successfully! Stock levels updated.');}}catch(error){var _error$response,_error$response2,_error$response3,_error$response3$data,_error$response4,_error$response5,_error$response6;console.error('Error approving request:',error);console.error('Error response:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);console.error('Error status:',(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status);let errorMessage='Failed to approve request. Please try again.';if((_error$response3=error.response)!==null&&_error$response3!==void 0&&(_error$response3$data=_error$response3.data)!==null&&_error$response3$data!==void 0&&_error$response3$data.message){errorMessage=error.response.data.message;}else if(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status)===401){errorMessage='Authentication failed. Please log in again.';}else if(((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.status)===403){errorMessage='Access denied. Factory Manager role required.';}else if(((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status)===400){errorMessage=error.response.data.message||'Invalid request data.';}alert(errorMessage);}};const handleRejectRequest=async(requestId,reason)=>{try{const response=await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/reject`,{rejectionReason:reason},{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`,'Content-Type':'application/json'}});if(response.status===200){// Refresh the factory requests data\nconst updatedRequests=factoryRequests.map(request=>request._id===requestId?{...request,status:'rejected',rejectedAt:new Date(),rejectionReason:reason}:request);setFactoryRequests(updatedRequests);alert('Request rejected successfully!');}}catch(error){console.error('Error rejecting request:',error);alert('Failed to reject request. Please try again.');}};const handleFulfillRequest=async requestId=>{try{const response=await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/fulfill`,{},{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`,'Content-Type':'application/json'}});if(response.status===200){// Refresh the factory requests data\nconst updatedRequests=factoryRequests.map(request=>request._id===requestId?{...request,status:'fulfilled',fulfilledAt:new Date()}:request);setFactoryRequests(updatedRequests);alert('Request fulfilled successfully!');}}catch(error){console.error('Error fulfilling request:',error);alert('Failed to fulfill request. Please try again.');}};// Collection Request Functions\nconst handleApproveCollectionRequest=async requestId=>{try{console.log('Approving collection request:',requestId);const response=await axios.put(`http://localhost:5000/RecyclingRequests/collection/${requestId}/approve`,{approvedBy:user._id,notes:'Approved by factory manager'},{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`,'Content-Type':'application/json'}});if(response.status===200){// Refresh the collection requests data\nconst updatedRequests=collectionRequests.map(request=>request._id===requestId?{...request,status:'Approved',approvedDate:new Date()}:request);setCollectionRequests(updatedRequests);// Refresh recycling bins data to show updated status\nawait refreshRecyclingData();alert('Collection request approved and bin emptied successfully!');}}catch(error){console.error('Error approving collection request:',error);alert('Failed to approve collection request. Please try again.');}};const handleRejectCollectionRequest=async requestId=>{try{const reason=prompt('Please provide a reason for rejection:');if(!reason)return;const response=await axios.put(`http://localhost:5000/RecyclingRequests/collection/${requestId}/reject`,{rejectedBy:user._id,notes:reason},{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`,'Content-Type':'application/json'}});if(response.status===200){// Refresh the collection requests data\nconst updatedRequests=collectionRequests.map(request=>request._id===requestId?{...request,status:'Rejected',notes:reason}:request);setCollectionRequests(updatedRequests);alert('Collection request rejected successfully!');}}catch(error){console.error('Error rejecting collection request:',error);alert('Failed to reject collection request. Please try again.');}};// Refresh recycling data function\nconst refreshRecyclingData=async()=>{try{const token=localStorage.getItem('token');const headers={'Authorization':`Bearer ${token}`};const[recyclingResponse,binsResponse,collectionResponse,statsResponse]=await Promise.allSettled([axios.get('http://localhost:5000/RecyclingRequests/pending',{headers}),axios.get('http://localhost:5000/RecyclingBins/factory-notification',{headers}),axios.get('http://localhost:5000/RecyclingRequests/collection/pending',{headers}),axios.get('http://localhost:5000/RecyclingRequests/statistics',{headers})]);if(recyclingResponse.status==='fulfilled'){setRecyclingRequests(recyclingResponse.value.data.requests||[]);}if(binsResponse.status==='fulfilled'){setRecyclingBins(binsResponse.value.data.binsForNotification||[]);}if(collectionResponse.status==='fulfilled'){const requests=collectionResponse.value.data.requests||collectionResponse.value.data||[];setCollectionRequests(Array.isArray(requests)?requests:[]);}else{console.error('Failed to refresh collection requests:',collectionResponse.reason);}if(statsResponse.status==='fulfilled'){setRecyclingStats(statsResponse.value.data.statistics);}else{console.error('Failed to refresh recycling statistics:',statsResponse.reason);}}catch(error){console.error('Error refreshing recycling data:',error);}};const getPriorityColor=priority=>{switch(priority){case'Urgent':return'text-red-600 bg-red-100';case'High':return'text-orange-600 bg-orange-100';case'Medium':return'text-yellow-600 bg-yellow-100';case'Low':return'text-green-600 bg-green-100';default:return'text-gray-600 bg-gray-100';}};const getActivityColor=(type,status)=>{if(type==='inventory'){if(status==='critical')return'text-red-500';if(status==='warning')return'text-yellow-500';}return'text-blue-500';};const COLORS=['#0077B6','#00B4D8','#009688','#FF6B6B','#4ECDC4','#FFD93D','#6BCF7F','#4D96FF'];const tabs=[{id:'overview',name:'Overview',icon:'📊',description:'Dashboard overview and key metrics'},{id:'orders',name:'Orders Management',icon:'📋',description:'Manage factory orders and production'},{id:'inventory',name:'Inventory Control',icon:'📦',description:'Monitor and control inventory levels'},{id:'recycling',name:'Recycling Center',icon:'🌱',description:'Manage recycling operations'},{id:'reports',name:'Analytics & Reports',icon:'📈',description:'View detailed reports and analytics'},{id:'settings',name:'Factory Settings',icon:'⚙️',description:'Configure factory settings and preferences'}];const renderOverviewTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Monitor factory operations and key metrics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-blue-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Inventory Items\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:[loading?'...':(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.totalItems)||0,\" Items\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-green-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Approved Requests\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:[loading?'...':Array.isArray(factoryRequests)?factoryRequests.filter(req=>req.status==='approved').length:0,\" Requests\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-blue-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Fulfilled Requests\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:[loading?'...':Array.isArray(factoryRequests)?factoryRequests.filter(req=>req.status==='fulfilled').length:0,\" Requests\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-purple-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-purple-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Factory Requests\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:[loading?'...':Array.isArray(factoryRequests)?factoryRequests.filter(req=>req.status==='pending').length:0,\" Pending\"]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"Inventory Distribution\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:inventoryData,cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref=>{let{name,quantity}=_ref;return`${name}: ${quantity}`;},outerRadius:80,fill:\"#8884d8\",dataKey:\"quantity\",children:inventoryData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},`cell-${index}`))}),/*#__PURE__*/_jsx(Tooltip,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"Recent Activities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:recentActivities.length>0?recentActivities.map((activity,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-2 h-2 rounded-full ${getActivityColor(activity.type,activity.status)==='text-red-500'?'bg-red-500':getActivityColor(activity.type,activity.status)==='text-yellow-500'?'bg-yellow-500':'bg-blue-500'}`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:activity.message}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 ml-auto\",children:new Date(activity.timestamp).toLocaleDateString()})]},index)):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No recent activities\"})})})]})]});const renderOrdersTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Orders Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Manage and track orders from branches\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Factory Requests from Branches\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[Array.isArray(factoryRequests)?factoryRequests.filter(req=>req.status==='pending').length:0,\" pending requests\"]})]}),Array.isArray(factoryRequests)&&factoryRequests.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Request ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Branch\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Items Requested\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Requested Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:factoryRequests.map(request=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:request._id.slice(-8)}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:request.branchName}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"ID: \",request.branchId]})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:request.items.map(item=>`${item.name} (${item.requestedQuantity} ${item.unit})`).join(', ')}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Total: \",request.items.reduce((sum,item)=>sum+item.requestedQuantity,0),\" units\"]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(request.requestedAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getRequestStatusColor(request.status)}`,children:request.status.charAt(0).toUpperCase()+request.status.slice(1)})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[request.status==='pending'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveRequest(request._id),className:\"text-green-600 hover:text-green-900 font-medium\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const reason=prompt('Enter rejection reason:');if(reason)handleRejectRequest(request._id,reason);},className:\"text-red-600 hover:text-red-900 font-medium\",children:\"Reject\"})]}),request.status==='fulfilled'&&/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-medium\",children:\"\\u2713 Completed\"}),request.status==='rejected'&&request.rejectionReason&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-500 text-xs\",children:[\"Reason: \",request.rejectionReason]})]})})]},request._id))})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-8 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No factory requests at the moment\"})})]})]});const renderInventoryTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Inventory Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Monitor and manage factory inventory levels\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Factory Inventory\"}),/*#__PURE__*/_jsx(Link,{to:\"/inventory\",className:\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\",children:\"Manage Inventory\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Item Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Last Updated\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:inventoryData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:item.name}),item.supplier&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Supplier: \",item.supplier]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-900\",children:[item.quantity,\" \",item.unit]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(item.status)}`,children:item.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(item.lastUpdated).toLocaleDateString()})]},item._id))})]})})})]});const renderRecyclingTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\uD83C\\uDF31 Recycling Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Monitor recycling requests and manage branch bins\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:refreshRecyclingData,className:\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDD04\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh Data\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500 hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>setActiveTab('recycling'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-green-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83C\\uDF31\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Requests\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalRequests)||0}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.completedRequests)||0,\" completed\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-500 hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>setActiveTab('recycling'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-yellow-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\u23F3\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Pending Requests\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.pendingRequests)||0}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.approvedRequests)||0,\" approved\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500 hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>setActiveTab('recycling'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-blue-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCCA\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Weight\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':`${((recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalWeight)||0).toFixed(1)} kg`}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Recycled materials\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500 hover:shadow-lg transition-shadow cursor-pointer\",onClick:()=>setActiveTab('recycling'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-purple-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\u2B50\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Points\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':((recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalPoints)||0).toLocaleString()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Customer rewards\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-red-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\u274C\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Rejected Requests\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.rejectedRequests)||0})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-indigo-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-indigo-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCC8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Completion Rate\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':`${(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.completionRate)||0}%`})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-teal-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-teal-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDD04\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Active Bins\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':(recyclingBins===null||recyclingBins===void 0?void 0:recyclingBins.length)||0})]})]})})]}),recyclingBins.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDEA8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-red-800\",children:\"Critical Bin Alerts\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-red-600\",children:[recyclingBins.length,\" branch\",recyclingBins.length>1?'es':'',\" have recycling bins that are 90%+ full\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:recyclingBins.map(bin=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-red-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-red-900\",children:bin.branchName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600\",children:bin.location})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-red-800\",children:[bin.fillPercentage.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-red-700\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Current: \",bin.currentLevel,\" kg\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Capacity: \",bin.capacity,\" kg\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEmptyBin(bin._id),className:\"mt-3 w-full bg-red-600 text-white px-3 py-2 rounded-md hover:bg-red-700 text-sm\",children:\"Empty Bin\"})]},bin._id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Collection Requests\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[collectionRequests.length,\" pending request\",collectionRequests.length!==1?'s':'']}),/*#__PURE__*/_jsx(\"button\",{onClick:refreshRecyclingData,className:\"px-3 py-1 bg-blue-100 text-blue-700 rounded-md text-sm hover:bg-blue-200 transition-colors\",children:\"\\uD83D\\uDD04 Refresh\"})]})]}),collectionRequests.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Request ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Branch\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Bin Level\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:collectionRequests.map(request=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:request.requestId}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:request.branchName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:request.branchLocation})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${request.requestType==='Empty Bin'?'bg-green-100 text-green-800':'bg-red-100 text-red-800'}`,children:request.requestType})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[request.currentLevel,\"kg / \",request.capacity,\"kg (\",request.fillPercentage.toFixed(1),\"%)\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(request.requestDate).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveCollectionRequest(request._id),className:\"text-green-600 hover:text-green-900 mr-3\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRejectCollectionRequest(request._id),className:\"text-red-600 hover:text-red-900\",children:\"Reject\"})]})]},request._id))})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-2\",children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No pending collection requests\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"All collection requests have been processed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\",children:\"Refresh Data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewAllRequests(),className:\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\",children:\"View All Requests\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGenerateRecyclingReport(),className:\"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors\",children:\"Generate Report\"})]})]})]});const renderReportsTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Reports & Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Generate reports and view analytics\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Analytics Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Order Statistics\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:[{name:'Total',value:(orderStats===null||orderStats===void 0?void 0:orderStats.totalOrders)||0},{name:'Pending',value:(orderStats===null||orderStats===void 0?void 0:orderStats.pendingOrders)||0},{name:'Processing',value:(orderStats===null||orderStats===void 0?void 0:orderStats.processingOrders)||0},{name:'Urgent',value:(orderStats===null||orderStats===void 0?void 0:orderStats.urgentOrders)||0},{name:'High Priority',value:(orderStats===null||orderStats===void 0?void 0:orderStats.highPriorityOrders)||0}],children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f0f0f0\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",stroke:\"#666\",fontSize:12,tickLine:false,axisLine:false}),/*#__PURE__*/_jsx(YAxis,{stroke:\"#666\",fontSize:12,tickLine:false,axisLine:false}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'},formatter:value=>[`${value} orders`,'Count']}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",fill:\"#0077B6\",radius:[4,4,0,0]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Inventory Status\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:[{name:'In Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.inStockItems)||0,color:'#10B981'},{name:'Low Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.lowStockItems)||0,color:'#F59E0B'},{name:'Out of Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.outOfStockItems)||0,color:'#EF4444'}],cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref2=>{let{name,value,percent}=_ref2;return`${name}: ${value} (${(percent*100).toFixed(0)}%)`;},outerRadius:80,fill:\"#8884d8\",dataKey:\"value\",children:[{name:'In Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.inStockItems)||0,color:'#10B981'},{name:'Low Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.lowStockItems)||0,color:'#F59E0B'},{name:'Out of Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.outOfStockItems)||0,color:'#EF4444'}].map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:entry.color},`cell-${index}`))}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'},formatter:(value,name)=>[`${value} items`,name]}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{paddingTop:'20px'},iconType:\"circle\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Monthly Recycling vs Production Comparison\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Track the relationship between production output and recycling efficiency throughout the year\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(LineChart,{data:monthlyData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f0f0f0\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"month\",stroke:\"#666\",fontSize:12,tickLine:false,axisLine:false}),/*#__PURE__*/_jsx(YAxis,{stroke:\"#666\",fontSize:12,tickLine:false,axisLine:false,label:{value:'Units',angle:-90,position:'insideLeft'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'},formatter:(value,name)=>[`${value} units`,name==='production'?'Production':name==='recycling'?'Recycling':'Efficiency %'],labelFormatter:label=>`Month: ${label}`}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{paddingTop:'20px'},iconType:\"line\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"production\",stroke:\"#0077B6\",strokeWidth:3,dot:{fill:'#0077B6',strokeWidth:2,r:4},activeDot:{r:6,stroke:'#0077B6',strokeWidth:2},name:\"Production Output\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"recycling\",stroke:\"#00B4D8\",strokeWidth:3,dot:{fill:'#00B4D8',strokeWidth:2,r:4},activeDot:{r:6,stroke:'#00B4D8',strokeWidth:2},name:\"Recycling Volume\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"efficiency\",stroke:\"#10B981\",strokeWidth:2,strokeDasharray:\"5 5\",dot:{fill:'#10B981',strokeWidth:2,r:3},activeDot:{r:5,stroke:'#10B981',strokeWidth:2},name:\"Recycling Efficiency %\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-800\",children:\"Production Trend\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-600 mt-1\",children:monthlyData.length>0?`Peak production in ${monthlyData.reduce((max,item)=>item.production>max.production?item:max,monthlyData[0]).month} (${Math.max(...monthlyData.map(d=>d.production))} units)`:'Loading production data...'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-cyan-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-cyan-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-cyan-800\",children:\"Recycling Trend\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-cyan-600 mt-1\",children:monthlyData.length>0?`Highest recycling in ${monthlyData.reduce((max,item)=>item.recycling>max.recycling?item:max,monthlyData[0]).month} (${Math.max(...monthlyData.map(d=>d.recycling))} units)`:'Loading recycling data...'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-green-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-green-800\",children:\"Efficiency Trend\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-600 mt-1\",children:monthlyData.length>0?`Best efficiency in ${monthlyData.reduce((max,item)=>item.efficiency>max.efficiency?item:max,monthlyData[0]).month} (${Math.max(...monthlyData.map(d=>d.efficiency)).toFixed(1)}%)`:'Loading efficiency data...'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Recycling Statistics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Track recycling request status and performance metrics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Recycling Request Status\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:[{name:'Completed',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.completedRequests)||0,color:'#10B981'},{name:'Pending',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.pendingRequests)||0,color:'#F59E0B'},{name:'Approved',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.approvedRequests)||0,color:'#3B82F6'},{name:'Rejected',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.rejectedRequests)||0,color:'#EF4444'}],cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref3=>{let{name,value,percent}=_ref3;return`${name}: ${value}`;},outerRadius:70,fill:\"#8884d8\",dataKey:\"value\",children:[{name:'Completed',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.completedRequests)||0,color:'#10B981'},{name:'Pending',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.pendingRequests)||0,color:'#F59E0B'},{name:'Approved',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.approvedRequests)||0,color:'#3B82F6'},{name:'Rejected',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.rejectedRequests)||0,color:'#EF4444'}].map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:entry.color},`cell-${index}`))}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'},formatter:(value,name)=>[`${value} requests`,name]}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{paddingTop:'20px'},iconType:\"circle\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Recycling Performance Metrics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-green-800\",children:\"Total Requests\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-green-900\",children:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalRequests)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-800\",children:\"Total Weight Recycled\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-blue-900\",children:[(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalWeight)||0,\" kg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-purple-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-purple-800\",children:\"Total Points Awarded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-purple-900\",children:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalPoints)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-orange-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-orange-800\",children:\"Completion Rate\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-orange-900\",children:[(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalRequests)>0?((recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.completedRequests)/(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalRequests)*100).toFixed(1):0,\"%\"]})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Generate Reports\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\",children:\"Inventory Report\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\",children:\"Order Report\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition-colors\",children:\"Production Report\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors\",children:\"Recycling Report\"})]})]})]});const renderSettingsTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Factory Settings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Configure factory settings and preferences\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Configuration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Factory Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Factory Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"RO Filter Factory\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"Colombo, Sri Lanka\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Contact Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"factory@aqualink.com\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Inventory Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Default Min Stock Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"10\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Default Max Stock Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Auto-reorder Threshold\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"20\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\",children:\"Save Settings\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors\",children:\"Reset to Default\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors\",children:\"Export Configuration\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-red-800 mb-2\",children:\"\\uD83C\\uDFED Factory Session Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm\",children:\"Securely exit the Factory Command Center when your work is complete\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleCreativeLogout,className:\"group relative overflow-hidden bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-3 rounded-lg font-semibold hover:from-red-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"relative z-10 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"group-hover:animate-bounce\",children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Secure Logout\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.confirm('⚠️ This will close all factory operations. Continue?')){handleCreativeLogout();}},className:\"text-xs text-red-600 hover:text-red-800 underline\",children:\"Emergency Shutdown\"})]})]})})]});const handleEmptyBin=async binId=>{try{await axios.put(`http://localhost:5000/RecyclingBins/${binId}/empty`);alert('Bin emptied successfully!');window.location.reload();}catch(error){console.error('Error emptying bin:',error);alert('Error emptying bin. Please try again.');}};const handleCompleteRequest=async requestId=>{try{await axios.put(`http://localhost:5000/RecyclingRequests/${requestId}/complete`);alert('Request completed successfully!');window.location.reload();}catch(error){console.error('Error completing request:',error);alert('Error completing request. Please try again.');}};const handleViewRequest=request=>{// Implement detailed view modal\nconsole.log('Viewing request:',request);};const handleViewAllRequests=()=>{// Navigate to full requests page\nconsole.log('Viewing all requests');};const handleGenerateRecyclingReport=()=>{// Generate and download recycling report\nconsole.log('Generating recycling report');};const renderTabContent=()=>{switch(activeTab){case'overview':return renderOverviewTab();case'orders':return renderOrdersTab();case'inventory':return renderInventoryTab();case'recycling':return renderRecyclingTab();case'reports':return renderReportsTab();case'settings':return renderSettingsTab();default:return renderOverviewTab();}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-start sm:items-center py-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83C\\uDFED\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-blue-600\",children:\"Factory Manager Dashboard\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Welcome back, \",(user===null||user===void 0?void 0:user.name)||'Factory Manager',\" \\u2022 \",new Date().toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:\"System Online\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCreativeLogout,className:\"group relative overflow-hidden bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-2 rounded-lg font-semibold text-sm hover:from-red-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"relative z-10 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Exit Factory\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"})]})]})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex flex-wrap gap-2\",\"aria-label\":\"Tabs\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:`flex items-center py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200 ${activeTab===tab.id?'bg-blue-50 text-blue-700 border-2 border-blue-200 shadow-sm':'text-gray-600 hover:text-gray-800 hover:bg-gray-50 border-2 border-transparent'}`,children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2 text-lg\",children:tab.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:tab.name}),/*#__PURE__*/_jsx(\"span\",{className:\"sm:hidden\",children:tab.name.split(' ')[0]})]},tab.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"py-3 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:((_tabs$find=tabs.find(tab=>tab.id===activeTab))===null||_tabs$find===void 0?void 0:_tabs$find.description)||'Select a tab to manage factory operations'}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleRefreshData,className:\"text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-100 transition-colors duration-200\",children:\"\\uD83D\\uDD04 Refresh Data\"})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center space-x-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFED\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Factory Manager\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-medium\",children:((_tabs$find2=tabs.find(tab=>tab.id===activeTab))===null||_tabs$find2===void 0?void 0:_tabs$find2.name)||'Overview'})]})}),renderTabContent()]})]});};export default FactoryDashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useAuth","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","PieChart","Pie","Cell","LineChart","Line","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FactoryDashboard","_tabs$find","_tabs$find2","user","logout","navigate","activeTab","setActiveTab","role","console","error","alert","window","location","href","inventoryStats","setInventoryStats","inventoryData","setInventoryData","pendingOrders","setPendingOrders","orderStats","setOrderStats","recentActivities","setRecentActivities","loading","setLoading","recyclingRequests","setRecyclingRequests","recyclingBins","setRecyclingBins","recyclingStats","setRecyclingStats","monthlyData","setMonthlyData","factoryRequests","setFactoryRequests","collectionRequests","setCollectionRequests","handleCreativeLogout","confirmLogout","confirm","setTimeout","handleRefreshData","log","token","localStorage","getItem","headers","inventoryResponse","ordersResponse","recyclingResponse","factoryRequestsResponse","Promise","allSettled","get","status","inventory","value","data","totalItems","length","totalQuantity","reduce","sum","item","quantity","lowStockItems","filter","minStockLevel","map","name","color","COLORS","Math","floor","random","orders","order","totalOrders","urgentOrders","priority","requests","totalRequests","pendingRequests","req","completedRequests","Array","isArray","refreshInventoryData","statsResponse","stats","reason","handleInventoryUpdate","addEventListener","removeEventListener","fetchDashboardData","orderStatsResponse","activitiesResponse","binsResponse","recyclingStatsResponse","monthlyDataResponse","collectionRequestsResponse","outOfStockItems","inStockItems","processingOrders","highPriorityOrders","activities","binsForNotification","statistics","approvedRequests","rejectedRequests","totalWeight","totalPoints","month","production","recycling","efficiency","getStatusColor","getRequestStatusColor","handleApproveRequest","requestId","response","put","updatedRequests","request","_id","approvedAt","Date","fulfilledAt","_error$response","_error$response2","_error$response3","_error$response3$data","_error$response4","_error$response5","_error$response6","errorMessage","message","handleRejectRequest","rejectionReason","rejectedAt","handleFulfillRequest","handleApproveCollectionRequest","approvedBy","notes","approvedDate","refreshRecyclingData","handleRejectCollectionRequest","prompt","rejectedBy","collectionResponse","getPriorityColor","getActivityColor","type","tabs","id","icon","description","renderOverviewTab","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","width","height","cx","cy","labelLine","label","_ref","outerRadius","dataKey","entry","index","activity","timestamp","toLocaleDateString","renderOrdersTab","slice","branchName","branchId","items","requestedQuantity","unit","join","requestedAt","charAt","toUpperCase","onClick","renderInventoryTab","to","supplier","lastUpdated","renderRecyclingTab","toFixed","toLocaleString","completionRate","bin","fillPercentage","currentLevel","capacity","handleEmptyBin","branchLocation","requestType","requestDate","reload","handleViewAllRequests","handleGenerateRecyclingReport","renderReportsTab","strokeDasharray","fontSize","tickLine","axisLine","contentStyle","backgroundColor","border","borderRadius","boxShadow","formatter","radius","_ref2","percent","wrapperStyle","paddingTop","iconType","angle","position","labelFormatter","dot","r","activeDot","max","_ref3","renderSettingsTab","defaultValue","binId","handleCompleteRequest","handleViewRequest","renderTabContent","tab","split","find"],"sources":["E:/Y2S2/Project/frontend/src/Components/FactoryManager/FactoryDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../Context/AuthContext';\r\nimport {\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\r\n  PieChart, Pie, Cell, LineChart, Line\r\n} from 'recharts';\r\nimport axios from 'axios';\r\n\r\nconst FactoryDashboard = () => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  \r\n  // Check if user has factory manager role\r\n  useEffect(() => {\r\n    if (user && user.role !== 'Factory Manager') {\r\n      console.error('User does not have factory manager privileges:', user.role);\r\n      alert('Access denied. Factory Manager privileges required.');\r\n      window.location.href = '/login';\r\n    }\r\n  }, [user]);\r\n  \r\n  const [inventoryStats, setInventoryStats] = useState(null);\r\n  const [inventoryData, setInventoryData] = useState([]);\r\n  const [pendingOrders, setPendingOrders] = useState([]);\r\n  const [orderStats, setOrderStats] = useState(null);\r\n  const [recentActivities, setRecentActivities] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [recyclingRequests, setRecyclingRequests] = useState([]);\r\n  const [recyclingBins, setRecyclingBins] = useState([]);\r\n  const [recyclingStats, setRecyclingStats] = useState(null);\r\n  const [monthlyData, setMonthlyData] = useState([]);\r\n  const [factoryRequests, setFactoryRequests] = useState([]);\r\n  const [collectionRequests, setCollectionRequests] = useState([]);\r\n\r\n  // Creative logout function\r\n  const handleCreativeLogout = () => {\r\n    // Add some visual feedback before logout\r\n    const confirmLogout = window.confirm('🏭 Are you sure you want to leave the Factory Command Center?');\r\n    if (confirmLogout) {\r\n      // Add a small delay for visual effect\r\n      setTimeout(() => {\r\n        logout();\r\n        navigate('/login');\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  // Refresh data function\r\n  const handleRefreshData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      console.log('🔄 Refreshing factory dashboard data...');\r\n      \r\n      // Re-fetch all data\r\n      const token = localStorage.getItem('token');\r\n      const headers = { 'Authorization': `Bearer ${token}` };\r\n\r\n      const [\r\n        inventoryResponse,\r\n        ordersResponse,\r\n        recyclingResponse,\r\n        factoryRequestsResponse\r\n      ] = await Promise.allSettled([\r\n        axios.get('http://localhost:5000/Inventory', { headers }),\r\n        axios.get('http://localhost:5000/Orders', { headers }),\r\n        axios.get('http://localhost:5000/RecyclingRequests', { headers }),\r\n        axios.get('http://localhost:5000/FactoryRequests', { headers })\r\n      ]);\r\n\r\n      // Process responses (same logic as in useEffect)\r\n      if (inventoryResponse.status === 'fulfilled') {\r\n        const inventory = inventoryResponse.value.data;\r\n        setInventoryStats({\r\n          totalItems: inventory.length,\r\n          totalQuantity: inventory.reduce((sum, item) => sum + item.quantity, 0),\r\n          lowStockItems: inventory.filter(item => item.quantity < item.minStockLevel).length\r\n        });\r\n        setInventoryData(inventory.map(item => ({\r\n          name: item.name,\r\n          value: item.quantity,\r\n          color: COLORS[Math.floor(Math.random() * COLORS.length)]\r\n        })));\r\n      }\r\n\r\n      if (ordersResponse.status === 'fulfilled') {\r\n        const orders = ordersResponse.value.data;\r\n        setPendingOrders(orders.filter(order => order.status === 'Pending'));\r\n        setOrderStats({\r\n          totalOrders: orders.length,\r\n          pendingOrders: orders.filter(order => order.status === 'Pending').length,\r\n          urgentOrders: orders.filter(order => order.priority === 'High').length\r\n        });\r\n      }\r\n\r\n      if (recyclingResponse.status === 'fulfilled') {\r\n        const requests = recyclingResponse.value.data;\r\n        setRecyclingRequests(requests);\r\n        setRecyclingStats({\r\n          totalRequests: requests.length,\r\n          pendingRequests: requests.filter(req => req.status === 'Pending').length,\r\n          completedRequests: requests.filter(req => req.status === 'Completed').length\r\n        });\r\n      }\r\n\r\n      if (factoryRequestsResponse.status === 'fulfilled') {\r\n        const requests = factoryRequestsResponse.value.data.requests || factoryRequestsResponse.value.data || [];\r\n        setFactoryRequests(Array.isArray(requests) ? requests : []);\r\n      }\r\n\r\n      console.log('✅ Data refreshed successfully');\r\n      alert('🔄 Dashboard data refreshed successfully!');\r\n    } catch (error) {\r\n      console.error('❌ Error refreshing data:', error);\r\n      alert('❌ Failed to refresh data. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Refresh inventory data specifically after stock movements\r\n  const refreshInventoryData = async () => {\r\n    try {\r\n      console.log('🔄 Refreshing inventory data after stock movement...');\r\n      \r\n      const token = localStorage.getItem('token');\r\n      const headers = { 'Authorization': `Bearer ${token}` };\r\n      \r\n      // Fetch updated inventory stats and data\r\n      const [statsResponse, inventoryResponse] = await Promise.allSettled([\r\n        axios.get('http://localhost:5000/Inventory/stats/overview', { headers }),\r\n        axios.get('http://localhost:5000/Inventory', { headers })\r\n      ]);\r\n\r\n      // Update inventory stats\r\n      if (statsResponse.status === 'fulfilled') {\r\n        setInventoryStats(statsResponse.value.data.stats);\r\n        console.log('✅ Inventory stats updated:', statsResponse.value.data.stats);\r\n      } else {\r\n        console.error('Error fetching updated inventory stats:', statsResponse.reason);\r\n      }\r\n\r\n      // Update inventory data\r\n      if (inventoryResponse.status === 'fulfilled') {\r\n        const inventory = inventoryResponse.value.data.inventory || inventoryResponse.value.data;\r\n        setInventoryData(inventory);\r\n        console.log('✅ Inventory data updated');\r\n      } else {\r\n        console.error('Error fetching updated inventory data:', inventoryResponse.reason);\r\n      }\r\n    } catch (error) {\r\n      console.error('❌ Error refreshing inventory data:', error);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  // Listen for inventory update events\r\n  useEffect(() => {\r\n    const handleInventoryUpdate = () => {\r\n      console.log('🔄 Factory Dashboard: Inventory update event received, refreshing data...');\r\n      handleRefreshData();\r\n    };\r\n\r\n    // Listen for custom inventory update events\r\n    window.addEventListener('inventoryUpdated', handleInventoryUpdate);\r\n    \r\n    // Cleanup event listener on component unmount\r\n    return () => {\r\n      window.removeEventListener('inventoryUpdated', handleInventoryUpdate);\r\n    };\r\n  }, []);\r\n\r\n  // Fetch data from API\r\n  useEffect(() => {\r\n    const fetchDashboardData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        console.log('🔄 Fetching factory dashboard data...');\r\n        \r\n        // Fetch all data in parallel with authentication\r\n        const token = localStorage.getItem('token');\r\n        const headers = { 'Authorization': `Bearer ${token}` };\r\n        \r\n        const [statsResponse, inventoryResponse, ordersResponse, orderStatsResponse, activitiesResponse, recyclingResponse, binsResponse, recyclingStatsResponse, monthlyDataResponse, factoryRequestsResponse, collectionRequestsResponse] = await Promise.allSettled([\r\n          axios.get('http://localhost:5000/Inventory/stats/overview', { headers }),\r\n          axios.get('http://localhost:5000/Inventory', { headers }),\r\n          axios.get('http://localhost:5000/Orders/pending', { headers }),\r\n          axios.get('http://localhost:5000/Orders/stats/overview', { headers }),\r\n          axios.get('http://localhost:5000/Orders/activities/recent', { headers }),\r\n          axios.get('http://localhost:5000/RecyclingRequests/pending', { headers }),\r\n          axios.get('http://localhost:5000/RecyclingBins/factory-notification', { headers }),\r\n          axios.get('http://localhost:5000/RecyclingRequests/statistics', { headers }),\r\n          axios.get('http://localhost:5000/Orders/monthly-data', { headers }),\r\n          axios.get('http://localhost:5000/FactoryRequests', { headers }),\r\n          axios.get('http://localhost:5000/RecyclingRequests/collection/pending', { headers })\r\n        ]);\r\n\r\n        // Set inventory stats\r\n        if (statsResponse.status === 'fulfilled') {\r\n          setInventoryStats(statsResponse.value.data.stats);\r\n        } else {\r\n          console.error('Error fetching inventory stats:', statsResponse.reason);\r\n          setInventoryStats({\r\n            totalItems: 8,\r\n            lowStockItems: 2,\r\n            outOfStockItems: 1,\r\n            inStockItems: 5,\r\n            totalQuantity: 450\r\n          });\r\n        }\r\n\r\n        // Set inventory data\r\n        if (inventoryResponse.status === 'fulfilled') {\r\n          setInventoryData(inventoryResponse.value.data.inventory || []);\r\n        } else {\r\n          console.error('Error fetching inventory data:', inventoryResponse.reason);\r\n          setInventoryData([]);\r\n        }\r\n\r\n        // Set pending orders\r\n        if (ordersResponse.status === 'fulfilled') {\r\n          setPendingOrders(ordersResponse.value.data.orders || []);\r\n        } else {\r\n          console.error('Error fetching pending orders:', ordersResponse.reason);\r\n          setPendingOrders([]);\r\n        }\r\n\r\n        // Set order stats\r\n        if (orderStatsResponse.status === 'fulfilled') {\r\n          setOrderStats(orderStatsResponse.value.data.stats);\r\n        } else {\r\n          console.error('Error fetching order stats:', orderStatsResponse.reason);\r\n          setOrderStats({\r\n            totalOrders: 0,\r\n            pendingOrders: 0,\r\n            processingOrders: 0,\r\n            urgentOrders: 0,\r\n            highPriorityOrders: 0\r\n          });\r\n        }\r\n\r\n        // Set recent activities\r\n        if (activitiesResponse.status === 'fulfilled') {\r\n          setRecentActivities(activitiesResponse.value.data.activities || []);\r\n        } else {\r\n          console.error('Error fetching recent activities:', activitiesResponse.reason);\r\n          setRecentActivities([]);\r\n        }\r\n\r\n\r\n        // Set recycling requests\r\n        if (recyclingResponse.status === 'fulfilled') {\r\n          setRecyclingRequests(recyclingResponse.value.data.requests || []);\r\n        } else {\r\n          console.error('Error fetching recycling requests:', recyclingResponse.reason);\r\n          setRecyclingRequests([]);\r\n        }\r\n\r\n        // Set recycling bins\r\n        if (binsResponse.status === 'fulfilled') {\r\n          setRecyclingBins(binsResponse.value.data.binsForNotification || []);\r\n        } else {\r\n          console.error('Error fetching recycling bins:', binsResponse.reason);\r\n          setRecyclingBins([]);\r\n        }\r\n\r\n        // Set recycling stats\r\n        if (recyclingStatsResponse.status === 'fulfilled') {\r\n          setRecyclingStats(recyclingStatsResponse.value.data.statistics);\r\n        } else {\r\n          console.error('Error fetching recycling stats:', recyclingStatsResponse.reason);\r\n          setRecyclingStats({\r\n            totalRequests: 0,\r\n            pendingRequests: 0,\r\n            approvedRequests: 0,\r\n            completedRequests: 0,\r\n            rejectedRequests: 0,\r\n            totalWeight: 0,\r\n            totalPoints: 0\r\n          });\r\n        }\r\n\r\n        // Set monthly data for charts\r\n        if (monthlyDataResponse.status === 'fulfilled') {\r\n          setMonthlyData(monthlyDataResponse.value.data.monthlyData || []);\r\n        } else {\r\n          console.error('Error fetching monthly data:', monthlyDataResponse.reason);\r\n          // Fallback to mock data if API fails\r\n          setMonthlyData([\r\n            { month: 'Jan', production: 1200, recycling: 850, efficiency: 70.8 },\r\n            { month: 'Feb', production: 1350, recycling: 920, efficiency: 68.1 },\r\n            { month: 'Mar', production: 1100, recycling: 780, efficiency: 70.9 },\r\n            { month: 'Apr', production: 1450, recycling: 1050, efficiency: 72.4 },\r\n            { month: 'May', production: 1600, recycling: 1150, efficiency: 71.9 },\r\n            { month: 'Jun', production: 1400, recycling: 980, efficiency: 70.0 },\r\n            { month: 'Jul', production: 1300, recycling: 890, efficiency: 68.5 },\r\n            { month: 'Aug', production: 1550, recycling: 1120, efficiency: 72.3 },\r\n            { month: 'Sep', production: 1700, recycling: 1250, efficiency: 73.5 },\r\n            { month: 'Oct', production: 1650, recycling: 1180, efficiency: 71.5 },\r\n            { month: 'Nov', production: 1500, recycling: 1080, efficiency: 72.0 },\r\n            { month: 'Dec', production: 1800, recycling: 1350, efficiency: 75.0 }\r\n          ]);\r\n        }\r\n\r\n        // Set factory requests\r\n        if (factoryRequestsResponse.status === 'fulfilled') {\r\n          console.log('Factory requests response:', factoryRequestsResponse.value.data);\r\n          const requests = factoryRequestsResponse.value.data.requests || factoryRequestsResponse.value.data || [];\r\n          console.log('Setting factory requests:', requests);\r\n          setFactoryRequests(Array.isArray(requests) ? requests : []);\r\n        } else {\r\n          console.error('❌ Failed to fetch factory requests:', factoryRequestsResponse.reason);\r\n          setFactoryRequests([]);\r\n        }\r\n\r\n        // Set collection requests\r\n        if (collectionRequestsResponse.status === 'fulfilled') {\r\n          const requests = collectionRequestsResponse.value.data.requests || collectionRequestsResponse.value.data || [];\r\n          setCollectionRequests(Array.isArray(requests) ? requests : []);\r\n        } else {\r\n          console.error('Failed to fetch collection requests:', collectionRequestsResponse.reason);\r\n          setCollectionRequests([]);\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error('Error fetching dashboard data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'In Stock': return 'text-green-600 bg-green-100';\r\n      case 'Low Stock': return 'text-yellow-600 bg-yellow-100';\r\n      case 'Out of Stock': return 'text-red-600 bg-red-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  const getRequestStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'pending': return 'text-yellow-600 bg-yellow-100';\r\n      case 'approved': return 'text-green-600 bg-green-100';\r\n      case 'rejected': return 'text-red-600 bg-red-100';\r\n      case 'fulfilled': return 'text-blue-600 bg-blue-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  // Factory Request Functions\r\n  const handleApproveRequest = async (requestId) => {\r\n    try {\r\n      console.log('Approving request:', requestId);\r\n      console.log('Token:', localStorage.getItem('token'));\r\n      \r\n      const response = await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/approve`, {}, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      console.log('Approval response:', response);\r\n\r\n      if (response.status === 200) {\r\n        // Refresh the factory requests data\r\n        const updatedRequests = factoryRequests.map(request => \r\n          request._id === requestId ? { ...request, status: 'fulfilled', approvedAt: new Date(), fulfilledAt: new Date() } : request\r\n        );\r\n        setFactoryRequests(updatedRequests);\r\n        \r\n        // Immediately refresh inventory data to show updated stocks\r\n        await refreshInventoryData();\r\n        \r\n        alert('Request approved and inventory transferred successfully! Stock levels updated.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error approving request:', error);\r\n      console.error('Error response:', error.response?.data);\r\n      console.error('Error status:', error.response?.status);\r\n      \r\n      let errorMessage = 'Failed to approve request. Please try again.';\r\n      if (error.response?.data?.message) {\r\n        errorMessage = error.response.data.message;\r\n      } else if (error.response?.status === 401) {\r\n        errorMessage = 'Authentication failed. Please log in again.';\r\n      } else if (error.response?.status === 403) {\r\n        errorMessage = 'Access denied. Factory Manager role required.';\r\n      } else if (error.response?.status === 400) {\r\n        errorMessage = error.response.data.message || 'Invalid request data.';\r\n      }\r\n      \r\n      alert(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handleRejectRequest = async (requestId, reason) => {\r\n    try {\r\n      const response = await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/reject`, {\r\n        rejectionReason: reason\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        // Refresh the factory requests data\r\n        const updatedRequests = factoryRequests.map(request => \r\n          request._id === requestId ? { ...request, status: 'rejected', rejectedAt: new Date(), rejectionReason: reason } : request\r\n        );\r\n        setFactoryRequests(updatedRequests);\r\n        alert('Request rejected successfully!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error rejecting request:', error);\r\n      alert('Failed to reject request. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleFulfillRequest = async (requestId) => {\r\n    try {\r\n      const response = await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/fulfill`, {}, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        // Refresh the factory requests data\r\n        const updatedRequests = factoryRequests.map(request => \r\n          request._id === requestId ? { ...request, status: 'fulfilled', fulfilledAt: new Date() } : request\r\n        );\r\n        setFactoryRequests(updatedRequests);\r\n        alert('Request fulfilled successfully!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fulfilling request:', error);\r\n      alert('Failed to fulfill request. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Collection Request Functions\r\n  const handleApproveCollectionRequest = async (requestId) => {\r\n    try {\r\n      console.log('Approving collection request:', requestId);\r\n      \r\n            const response = await axios.put(`http://localhost:5000/RecyclingRequests/collection/${requestId}/approve`, {\r\n        approvedBy: user._id,\r\n        notes: 'Approved by factory manager'\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        // Refresh the collection requests data\r\n        const updatedRequests = collectionRequests.map(request => \r\n          request._id === requestId ? { ...request, status: 'Approved', approvedDate: new Date() } : request\r\n        );\r\n        setCollectionRequests(updatedRequests);\r\n        \r\n        // Refresh recycling bins data to show updated status\r\n        await refreshRecyclingData();\r\n        \r\n        alert('Collection request approved and bin emptied successfully!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error approving collection request:', error);\r\n      alert('Failed to approve collection request. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleRejectCollectionRequest = async (requestId) => {\r\n    try {\r\n      const reason = prompt('Please provide a reason for rejection:');\r\n      if (!reason) return;\r\n      \r\n            const response = await axios.put(`http://localhost:5000/RecyclingRequests/collection/${requestId}/reject`, {\r\n        rejectedBy: user._id,\r\n        notes: reason\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        // Refresh the collection requests data\r\n        const updatedRequests = collectionRequests.map(request => \r\n          request._id === requestId ? { ...request, status: 'Rejected', notes: reason } : request\r\n        );\r\n        setCollectionRequests(updatedRequests);\r\n        alert('Collection request rejected successfully!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error rejecting collection request:', error);\r\n      alert('Failed to reject collection request. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Refresh recycling data function\r\n  const refreshRecyclingData = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const headers = { 'Authorization': `Bearer ${token}` };\r\n      \r\n      const [recyclingResponse, binsResponse, collectionResponse, statsResponse] = await Promise.allSettled([\r\n        axios.get('http://localhost:5000/RecyclingRequests/pending', { headers }),\r\n        axios.get('http://localhost:5000/RecyclingBins/factory-notification', { headers }),\r\n        axios.get('http://localhost:5000/RecyclingRequests/collection/pending', { headers }),\r\n        axios.get('http://localhost:5000/RecyclingRequests/statistics', { headers })\r\n      ]);\r\n\r\n      if (recyclingResponse.status === 'fulfilled') {\r\n        setRecyclingRequests(recyclingResponse.value.data.requests || []);\r\n      }\r\n      if (binsResponse.status === 'fulfilled') {\r\n        setRecyclingBins(binsResponse.value.data.binsForNotification || []);\r\n      }\r\n      if (collectionResponse.status === 'fulfilled') {\r\n        const requests = collectionResponse.value.data.requests || collectionResponse.value.data || [];\r\n        setCollectionRequests(Array.isArray(requests) ? requests : []);\r\n      } else {\r\n        console.error('Failed to refresh collection requests:', collectionResponse.reason);\r\n      }\r\n      if (statsResponse.status === 'fulfilled') {\r\n        setRecyclingStats(statsResponse.value.data.statistics);\r\n      } else {\r\n        console.error('Failed to refresh recycling statistics:', statsResponse.reason);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error refreshing recycling data:', error);\r\n    }\r\n  };\r\n\r\n  const getPriorityColor = (priority) => {\r\n    switch (priority) {\r\n      case 'Urgent': return 'text-red-600 bg-red-100';\r\n      case 'High': return 'text-orange-600 bg-orange-100';\r\n      case 'Medium': return 'text-yellow-600 bg-yellow-100';\r\n      case 'Low': return 'text-green-600 bg-green-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  const getActivityColor = (type, status) => {\r\n    if (type === 'inventory') {\r\n      if (status === 'critical') return 'text-red-500';\r\n      if (status === 'warning') return 'text-yellow-500';\r\n    }\r\n    return 'text-blue-500';\r\n  };\r\n\r\n  const COLORS = ['#0077B6', '#00B4D8', '#009688', '#FF6B6B', '#4ECDC4', '#FFD93D', '#6BCF7F', '#4D96FF'];\r\n\r\n  const tabs = [\r\n    { id: 'overview', name: 'Overview', icon: '📊', description: 'Dashboard overview and key metrics' },\r\n    { id: 'orders', name: 'Orders Management', icon: '📋', description: 'Manage factory orders and production' },\r\n    { id: 'inventory', name: 'Inventory Control', icon: '📦', description: 'Monitor and control inventory levels' },\r\n    { id: 'recycling', name: 'Recycling Center', icon: '🌱', description: 'Manage recycling operations' },\r\n    { id: 'reports', name: 'Analytics & Reports', icon: '📈', description: 'View detailed reports and analytics' },\r\n    { id: 'settings', name: 'Factory Settings', icon: '⚙️', description: 'Configure factory settings and preferences' }\r\n  ];\r\n\r\n  const renderOverviewTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Overview</h2>\r\n        <p className=\"text-gray-600\">Monitor factory operations and key metrics</p>\r\n      </div>\r\n      \r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-blue-100\">\r\n              <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Inventory Items</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : inventoryStats?.totalItems || 0} Items\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-green-100\">\r\n              <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Approved Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : (Array.isArray(factoryRequests) ? factoryRequests.filter(req => req.status === 'approved').length : 0)} Requests\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-blue-100\">\r\n              <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Fulfilled Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : (Array.isArray(factoryRequests) ? factoryRequests.filter(req => req.status === 'fulfilled').length : 0)} Requests\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-purple-100\">\r\n              <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Factory Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : (Array.isArray(factoryRequests) ? factoryRequests.filter(req => req.status === 'pending').length : 0)} Pending\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      {/* Inventory Distribution Chart */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Inventory Distribution</h3>\r\n        <ResponsiveContainer width=\"100%\" height={300}>\r\n          <PieChart>\r\n            <Pie\r\n              data={inventoryData}\r\n              cx=\"50%\"\r\n              cy=\"50%\"\r\n              labelLine={false}\r\n              label={({ name, quantity }) => `${name}: ${quantity}`}\r\n              outerRadius={80}\r\n              fill=\"#8884d8\"\r\n              dataKey=\"quantity\"\r\n            >\r\n              {inventoryData.map((entry, index) => (\r\n                <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n              ))}\r\n            </Pie>\r\n            <Tooltip />\r\n          </PieChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n\r\n      {/* Recent Activities */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Recent Activities</h3>\r\n        <div className=\"space-y-4\">\r\n          {recentActivities.length > 0 ? (\r\n            recentActivities.map((activity, index) => (\r\n              <div key={index} className=\"flex items-center space-x-3\">\r\n                <div className={`w-2 h-2 rounded-full ${getActivityColor(activity.type, activity.status) === 'text-red-500' ? 'bg-red-500' : \r\n                  getActivityColor(activity.type, activity.status) === 'text-yellow-500' ? 'bg-yellow-500' : 'bg-blue-500'}`}></div>\r\n                <span className=\"text-gray-700\">{activity.message}</span>\r\n                <span className=\"text-sm text-gray-500 ml-auto\">\r\n                  {new Date(activity.timestamp).toLocaleDateString()}\r\n                </span>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"text-center py-4\">\r\n              <p className=\"text-gray-500\">No recent activities</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderOrdersTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Orders Management</h2>\r\n        <p className=\"text-gray-600\">Manage and track orders from branches</p>\r\n      </div>\r\n      \r\n\r\n      {/* Factory Requests Section */}\r\n      <div className=\"mt-8\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-semibold text-gray-800\">Factory Requests from Branches</h3>\r\n          <span className=\"text-sm text-gray-500\">\r\n            {Array.isArray(factoryRequests) ? factoryRequests.filter(req => req.status === 'pending').length : 0} pending requests\r\n          </span>\r\n        </div>\r\n        \r\n        {Array.isArray(factoryRequests) && factoryRequests.length > 0 ? (\r\n          <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Request ID\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Branch\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Items Requested\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Requested Date\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Status\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Actions\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {factoryRequests.map((request) => (\r\n                    <tr key={request._id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                        {request._id.slice(-8)}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm text-gray-900\">{request.branchName}</div>\r\n                        <div className=\"text-sm text-gray-500\">ID: {request.branchId}</div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm text-gray-900\">\r\n                          {request.items.map(item => `${item.name} (${item.requestedQuantity} ${item.unit})`).join(', ')}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          Total: {request.items.reduce((sum, item) => sum + item.requestedQuantity, 0)} units\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {new Date(request.requestedAt).toLocaleDateString()}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getRequestStatusColor(request.status)}`}>\r\n                          {request.status.charAt(0).toUpperCase() + request.status.slice(1)}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                        <div className=\"flex space-x-2\">\r\n                          {request.status === 'pending' && (\r\n                            <>\r\n                              <button\r\n                                onClick={() => handleApproveRequest(request._id)}\r\n                                className=\"text-green-600 hover:text-green-900 font-medium\"\r\n                              >\r\n                                Approve\r\n                              </button>\r\n                              <button\r\n                                onClick={() => {\r\n                                  const reason = prompt('Enter rejection reason:');\r\n                                  if (reason) handleRejectRequest(request._id, reason);\r\n                                }}\r\n                                className=\"text-red-600 hover:text-red-900 font-medium\"\r\n                              >\r\n                                Reject\r\n                              </button>\r\n                            </>\r\n                          )}\r\n                          {request.status === 'fulfilled' && (\r\n                            <span className=\"text-green-600 font-medium\">\r\n                              ✓ Completed\r\n                            </span>\r\n                          )}\r\n                          {request.status === 'rejected' && request.rejectionReason && (\r\n                            <span className=\"text-red-500 text-xs\">\r\n                              Reason: {request.rejectionReason}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow-md p-8 text-center\">\r\n            <p className=\"text-gray-500\">No factory requests at the moment</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderInventoryTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Inventory Management</h2>\r\n        <p className=\"text-gray-600\">Monitor and manage factory inventory levels</p>\r\n      </div>\r\n      \r\n      <div className=\"flex justify-between items-center\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800\">Factory Inventory</h3>\r\n        <Link to=\"/inventory\" className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\">\r\n          Manage Inventory\r\n        </Link>\r\n      </div>\r\n      \r\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Item Name\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Quantity\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Last Updated\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {inventoryData.map((item) => (\r\n                <tr key={item._id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm font-medium text-gray-900\">{item.name}</div>\r\n                    {item.supplier && (\r\n                      <div className=\"text-sm text-gray-500\">Supplier: {item.supplier}</div>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm text-gray-900\">{item.quantity} {item.unit}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(item.status)}`}>\r\n                      {item.status}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                    {new Date(item.lastUpdated).toLocaleDateString()}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n\r\n  const renderRecyclingTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6 flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">🌱 Recycling Management</h2>\r\n          <p className=\"text-gray-600\">Monitor recycling requests and manage branch bins</p>\r\n        </div>\r\n        <button\r\n          onClick={refreshRecyclingData}\r\n          className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2\"\r\n        >\r\n          <span>🔄</span>\r\n          <span>Refresh Data</span>\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Recycling Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500 hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => setActiveTab('recycling')}>\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-green-100\">\r\n              <span className=\"text-2xl\">🌱</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : recyclingStats?.totalRequests || 0}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                {recyclingStats?.completedRequests || 0} completed\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-500 hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => setActiveTab('recycling')}>\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-yellow-100\">\r\n              <span className=\"text-2xl\">⏳</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Pending Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : recyclingStats?.pendingRequests || 0}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                {recyclingStats?.approvedRequests || 0} approved\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500 hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => setActiveTab('recycling')}>\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-blue-100\">\r\n              <span className=\"text-2xl\">📊</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Weight</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : `${(recyclingStats?.totalWeight || 0).toFixed(1)} kg`}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                Recycled materials\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500 hover:shadow-lg transition-shadow cursor-pointer\" onClick={() => setActiveTab('recycling')}>\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-purple-100\">\r\n              <span className=\"text-2xl\">⭐</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Points</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : (recyclingStats?.totalPoints || 0).toLocaleString()}\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                Customer rewards\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Additional Statistics Row */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-red-100\">\r\n              <span className=\"text-2xl\">❌</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Rejected Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : recyclingStats?.rejectedRequests || 0}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-indigo-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-indigo-100\">\r\n              <span className=\"text-2xl\">📈</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Completion Rate</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : `${recyclingStats?.completionRate || 0}%`}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-teal-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-teal-100\">\r\n              <span className=\"text-2xl\">🔄</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Active Bins</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : recyclingBins?.length || 0}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Critical Bins Alert */}\r\n      {recyclingBins.length > 0 && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\r\n          <div className=\"flex items-center mb-4\">\r\n            <div className=\"flex-shrink-0\">\r\n              <span className=\"text-2xl\">🚨</span>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <h3 className=\"text-lg font-medium text-red-800\">Critical Bin Alerts</h3>\r\n              <p className=\"text-sm text-red-600\">\r\n                {recyclingBins.length} branch{recyclingBins.length > 1 ? 'es' : ''} have recycling bins that are 90%+ full\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {recyclingBins.map((bin) => (\r\n              <div key={bin._id} className=\"bg-white border border-red-200 rounded-lg p-4\">\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                  <div>\r\n                    <h4 className=\"font-medium text-red-900\">{bin.branchName}</h4>\r\n                    <p className=\"text-sm text-red-600\">{bin.location}</p>\r\n                  </div>\r\n                  <span className=\"text-sm font-medium text-red-800\">\r\n                    {bin.fillPercentage.toFixed(1)}%\r\n                  </span>\r\n                </div>\r\n                <div className=\"text-sm text-red-700\">\r\n                  <p>Current: {bin.currentLevel} kg</p>\r\n                  <p>Capacity: {bin.capacity} kg</p>\r\n                </div>\r\n                <button \r\n                  onClick={() => handleEmptyBin(bin._id)}\r\n                  className=\"mt-3 w-full bg-red-600 text-white px-3 py-2 rounded-md hover:bg-red-700 text-sm\"\r\n                >\r\n                  Empty Bin\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n\r\n      {/* Collection Requests Section */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-800\">Collection Requests</h3>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <span className=\"text-sm text-gray-500\">\r\n              {collectionRequests.length} pending request{collectionRequests.length !== 1 ? 's' : ''}\r\n            </span>\r\n            <button\r\n              onClick={refreshRecyclingData}\r\n              className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-md text-sm hover:bg-blue-200 transition-colors\"\r\n            >\r\n              🔄 Refresh\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n\r\n        {collectionRequests.length > 0 ? (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Request ID\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Branch\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Type\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Bin Level\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Date\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Actions\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {collectionRequests.map((request) => (\r\n                  <tr key={request._id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      {request.requestId}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-900\">{request.branchName}</div>\r\n                      <div className=\"text-sm text-gray-500\">{request.branchLocation}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\r\n                        request.requestType === 'Empty Bin' \r\n                          ? 'bg-green-100 text-green-800' \r\n                          : 'bg-red-100 text-red-800'\r\n                      }`}>\r\n                        {request.requestType}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {request.currentLevel}kg / {request.capacity}kg ({request.fillPercentage.toFixed(1)}%)\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {new Date(request.requestDate).toLocaleDateString()}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      <button \r\n                        onClick={() => handleApproveCollectionRequest(request._id)}\r\n                        className=\"text-green-600 hover:text-green-900 mr-3\"\r\n                      >\r\n                        Approve\r\n                      </button>\r\n                      <button \r\n                        onClick={() => handleRejectCollectionRequest(request._id)}\r\n                        className=\"text-red-600 hover:text-red-900\"\r\n                      >\r\n                        Reject\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8\">\r\n            <div className=\"text-4xl mb-2\">🗑️</div>\r\n            <p className=\"text-gray-500\">No pending collection requests</p>\r\n            <p className=\"text-sm text-gray-400\">All collection requests have been processed</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Quick Actions</h4>\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          <button \r\n            onClick={() => window.location.reload()}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\"\r\n          >\r\n            Refresh Data\r\n          </button>\r\n          <button \r\n            onClick={() => handleViewAllRequests()}\r\n            className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\"\r\n          >\r\n            View All Requests\r\n          </button>\r\n          <button \r\n            onClick={() => handleGenerateRecyclingReport()}\r\n            className=\"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors\"\r\n          >\r\n            Generate Report\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderReportsTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Reports & Analytics</h2>\r\n        <p className=\"text-gray-600\">Generate reports and view analytics</p>\r\n      </div>\r\n      \r\n      <h3 className=\"text-lg font-semibold text-gray-800\">Analytics Dashboard</h3>\r\n      \r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Order Statistics</h4>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <BarChart data={[\r\n              { name: 'Total', value: orderStats?.totalOrders || 0 },\r\n              { name: 'Pending', value: orderStats?.pendingOrders || 0 },\r\n              { name: 'Processing', value: orderStats?.processingOrders || 0 },\r\n              { name: 'Urgent', value: orderStats?.urgentOrders || 0 },\r\n              { name: 'High Priority', value: orderStats?.highPriorityOrders || 0 }\r\n            ]}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\r\n              <XAxis \r\n                dataKey=\"name\" \r\n                stroke=\"#666\"\r\n                fontSize={12}\r\n                tickLine={false}\r\n                axisLine={false}\r\n              />\r\n              <YAxis \r\n                stroke=\"#666\"\r\n                fontSize={12}\r\n                tickLine={false}\r\n                axisLine={false}\r\n              />\r\n              <Tooltip \r\n                contentStyle={{\r\n                  backgroundColor: 'white',\r\n                  border: '1px solid #e5e7eb',\r\n                  borderRadius: '8px',\r\n                  boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\r\n                }}\r\n                formatter={(value) => [`${value} orders`, 'Count']}\r\n              />\r\n              <Bar dataKey=\"value\" fill=\"#0077B6\" radius={[4, 4, 0, 0]} />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Inventory Status</h4>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <PieChart>\r\n              <Pie\r\n                data={[\r\n                  { name: 'In Stock', value: inventoryStats?.inStockItems || 0, color: '#10B981' },\r\n                  { name: 'Low Stock', value: inventoryStats?.lowStockItems || 0, color: '#F59E0B' },\r\n                  { name: 'Out of Stock', value: inventoryStats?.outOfStockItems || 0, color: '#EF4444' }\r\n                ]}\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                labelLine={false}\r\n                label={({ name, value, percent }) => `${name}: ${value} (${(percent * 100).toFixed(0)}%)`}\r\n                outerRadius={80}\r\n                fill=\"#8884d8\"\r\n                dataKey=\"value\"\r\n              >\r\n                {[\r\n                  { name: 'In Stock', value: inventoryStats?.inStockItems || 0, color: '#10B981' },\r\n                  { name: 'Low Stock', value: inventoryStats?.lowStockItems || 0, color: '#F59E0B' },\r\n                  { name: 'Out of Stock', value: inventoryStats?.outOfStockItems || 0, color: '#EF4444' }\r\n                ].map((entry, index) => (\r\n                  <Cell key={`cell-${index}`} fill={entry.color} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip \r\n                contentStyle={{\r\n                  backgroundColor: 'white',\r\n                  border: '1px solid #e5e7eb',\r\n                  borderRadius: '8px',\r\n                  boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\r\n                }}\r\n                formatter={(value, name) => [`${value} items`, name]}\r\n              />\r\n              <Legend \r\n                wrapperStyle={{ paddingTop: '20px' }}\r\n                iconType=\"circle\"\r\n              />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Monthly Recycling vs Production Comparison Chart */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Monthly Recycling vs Production Comparison</h4>\r\n        <p className=\"text-sm text-gray-600 mb-4\">Track the relationship between production output and recycling efficiency throughout the year</p>\r\n        <ResponsiveContainer width=\"100%\" height={400}>\r\n          <LineChart data={monthlyData}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\r\n            <XAxis \r\n              dataKey=\"month\" \r\n              stroke=\"#666\"\r\n              fontSize={12}\r\n              tickLine={false}\r\n              axisLine={false}\r\n            />\r\n            <YAxis \r\n              stroke=\"#666\"\r\n              fontSize={12}\r\n              tickLine={false}\r\n              axisLine={false}\r\n              label={{ value: 'Units', angle: -90, position: 'insideLeft' }}\r\n            />\r\n            <Tooltip \r\n              contentStyle={{\r\n                backgroundColor: 'white',\r\n                border: '1px solid #e5e7eb',\r\n                borderRadius: '8px',\r\n                boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\r\n              }}\r\n              formatter={(value, name) => [\r\n                `${value} units`, \r\n                name === 'production' ? 'Production' : name === 'recycling' ? 'Recycling' : 'Efficiency %'\r\n              ]}\r\n              labelFormatter={(label) => `Month: ${label}`}\r\n            />\r\n            <Legend \r\n              wrapperStyle={{ paddingTop: '20px' }}\r\n              iconType=\"line\"\r\n            />\r\n            <Line \r\n              type=\"monotone\" \r\n              dataKey=\"production\" \r\n              stroke=\"#0077B6\" \r\n              strokeWidth={3}\r\n              dot={{ fill: '#0077B6', strokeWidth: 2, r: 4 }}\r\n              activeDot={{ r: 6, stroke: '#0077B6', strokeWidth: 2 }}\r\n              name=\"Production Output\"\r\n            />\r\n            <Line \r\n              type=\"monotone\" \r\n              dataKey=\"recycling\" \r\n              stroke=\"#00B4D8\" \r\n              strokeWidth={3}\r\n              dot={{ fill: '#00B4D8', strokeWidth: 2, r: 4 }}\r\n              activeDot={{ r: 6, stroke: '#00B4D8', strokeWidth: 2 }}\r\n              name=\"Recycling Volume\"\r\n            />\r\n            <Line \r\n              type=\"monotone\" \r\n              dataKey=\"efficiency\" \r\n              stroke=\"#10B981\" \r\n              strokeWidth={2}\r\n              strokeDasharray=\"5 5\"\r\n              dot={{ fill: '#10B981', strokeWidth: 2, r: 3 }}\r\n              activeDot={{ r: 5, stroke: '#10B981', strokeWidth: 2 }}\r\n              name=\"Recycling Efficiency %\"\r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n        \r\n        {/* Chart Insights */}\r\n        <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"bg-blue-50 rounded-lg p-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\r\n              <span className=\"text-sm font-medium text-blue-800\">Production Trend</span>\r\n            </div>\r\n            <p className=\"text-xs text-blue-600 mt-1\">\r\n              {monthlyData.length > 0 \r\n                ? `Peak production in ${monthlyData.reduce((max, item) => item.production > max.production ? item : max, monthlyData[0]).month} (${Math.max(...monthlyData.map(d => d.production))} units)`\r\n                : 'Loading production data...'\r\n              }\r\n            </p>\r\n          </div>\r\n          <div className=\"bg-cyan-50 rounded-lg p-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"w-3 h-3 bg-cyan-500 rounded-full\"></div>\r\n              <span className=\"text-sm font-medium text-cyan-800\">Recycling Trend</span>\r\n            </div>\r\n            <p className=\"text-xs text-cyan-600 mt-1\">\r\n              {monthlyData.length > 0 \r\n                ? `Highest recycling in ${monthlyData.reduce((max, item) => item.recycling > max.recycling ? item : max, monthlyData[0]).month} (${Math.max(...monthlyData.map(d => d.recycling))} units)`\r\n                : 'Loading recycling data...'\r\n              }\r\n            </p>\r\n          </div>\r\n          <div className=\"bg-green-50 rounded-lg p-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\r\n              <span className=\"text-sm font-medium text-green-800\">Efficiency Trend</span>\r\n            </div>\r\n            <p className=\"text-xs text-green-600 mt-1\">\r\n              {monthlyData.length > 0 \r\n                ? `Best efficiency in ${monthlyData.reduce((max, item) => item.efficiency > max.efficiency ? item : max, monthlyData[0]).month} (${Math.max(...monthlyData.map(d => d.efficiency)).toFixed(1)}%)`\r\n                : 'Loading efficiency data...'\r\n              }\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recycling Statistics Chart */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Recycling Statistics</h4>\r\n        <p className=\"text-sm text-gray-600 mb-4\">Track recycling request status and performance metrics</p>\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          <div>\r\n            <h5 className=\"text-sm font-medium text-gray-700 mb-3\">Recycling Request Status</h5>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={[\r\n                    { name: 'Completed', value: recyclingStats?.completedRequests || 0, color: '#10B981' },\r\n                    { name: 'Pending', value: recyclingStats?.pendingRequests || 0, color: '#F59E0B' },\r\n                    { name: 'Approved', value: recyclingStats?.approvedRequests || 0, color: '#3B82F6' },\r\n                    { name: 'Rejected', value: recyclingStats?.rejectedRequests || 0, color: '#EF4444' }\r\n                  ]}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  labelLine={false}\r\n                  label={({ name, value, percent }) => `${name}: ${value}`}\r\n                  outerRadius={70}\r\n                  fill=\"#8884d8\"\r\n                  dataKey=\"value\"\r\n                >\r\n                  {[\r\n                    { name: 'Completed', value: recyclingStats?.completedRequests || 0, color: '#10B981' },\r\n                    { name: 'Pending', value: recyclingStats?.pendingRequests || 0, color: '#F59E0B' },\r\n                    { name: 'Approved', value: recyclingStats?.approvedRequests || 0, color: '#3B82F6' },\r\n                    { name: 'Rejected', value: recyclingStats?.rejectedRequests || 0, color: '#EF4444' }\r\n                  ].map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={entry.color} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip \r\n                  contentStyle={{\r\n                    backgroundColor: 'white',\r\n                    border: '1px solid #e5e7eb',\r\n                    borderRadius: '8px',\r\n                    boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\r\n                  }}\r\n                  formatter={(value, name) => [`${value} requests`, name]}\r\n                />\r\n                <Legend \r\n                  wrapperStyle={{ paddingTop: '20px' }}\r\n                  iconType=\"circle\"\r\n                />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n          <div>\r\n            <h5 className=\"text-sm font-medium text-gray-700 mb-3\">Recycling Performance Metrics</h5>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex justify-between items-center p-3 bg-green-50 rounded-lg\">\r\n                <span className=\"text-sm font-medium text-green-800\">Total Requests</span>\r\n                <span className=\"text-lg font-bold text-green-900\">{recyclingStats?.totalRequests || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center p-3 bg-blue-50 rounded-lg\">\r\n                <span className=\"text-sm font-medium text-blue-800\">Total Weight Recycled</span>\r\n                <span className=\"text-lg font-bold text-blue-900\">{recyclingStats?.totalWeight || 0} kg</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center p-3 bg-purple-50 rounded-lg\">\r\n                <span className=\"text-sm font-medium text-purple-800\">Total Points Awarded</span>\r\n                <span className=\"text-lg font-bold text-purple-900\">{recyclingStats?.totalPoints || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center p-3 bg-orange-50 rounded-lg\">\r\n                <span className=\"text-sm font-medium text-orange-800\">Completion Rate</span>\r\n                <span className=\"text-lg font-bold text-orange-900\">\r\n                  {recyclingStats?.totalRequests > 0 \r\n                    ? ((recyclingStats?.completedRequests / recyclingStats?.totalRequests) * 100).toFixed(1)\r\n                    : 0\r\n                  }%\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Generate Reports</h4>\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          <button className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\">\r\n            Inventory Report\r\n          </button>\r\n          <button className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\">\r\n            Order Report\r\n          </button>\r\n          <button className=\"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition-colors\">\r\n            Production Report\r\n          </button>\r\n          <button className=\"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors\">\r\n            Recycling Report\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderSettingsTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Factory Settings</h2>\r\n        <p className=\"text-gray-600\">Configure factory settings and preferences</p>\r\n      </div>\r\n      \r\n      <h3 className=\"text-lg font-semibold text-gray-800\">Configuration</h3>\r\n      \r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Factory Information</h4>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Factory Name</label>\r\n              <input type=\"text\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"RO Filter Factory\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Location</label>\r\n              <input type=\"text\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"Colombo, Sri Lanka\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Contact Email</label>\r\n              <input type=\"email\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"factory@aqualink.com\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Inventory Settings</h4>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Default Min Stock Level</label>\r\n              <input type=\"number\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"10\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Default Max Stock Level</label>\r\n              <input type=\"number\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"100\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Auto-reorder Threshold</label>\r\n              <input type=\"number\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"20\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Quick Actions</h4>\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          <button className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\">\r\n            Save Settings\r\n          </button>\r\n          <button className=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors\">\r\n            Reset to Default\r\n          </button>\r\n          <button className=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors\">\r\n            Export Configuration\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Creative Logout Section */}\r\n      <div className=\"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-lg shadow-md p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h4 className=\"text-lg font-semibold text-red-800 mb-2\">🏭 Factory Session Management</h4>\r\n            <p className=\"text-red-600 text-sm\">Securely exit the Factory Command Center when your work is complete</p>\r\n          </div>\r\n          <div className=\"flex flex-col space-y-2\">\r\n            <button \r\n              onClick={handleCreativeLogout}\r\n              className=\"group relative overflow-hidden bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-3 rounded-lg font-semibold hover:from-red-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl\"\r\n            >\r\n              <span className=\"relative z-10 flex items-center space-x-2\">\r\n                <span className=\"group-hover:animate-bounce\">🚪</span>\r\n                <span>Secure Logout</span>\r\n              </span>\r\n              <div className=\"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\r\n            </button>\r\n            <button \r\n              onClick={() => {\r\n                if (window.confirm('⚠️ This will close all factory operations. Continue?')) {\r\n                  handleCreativeLogout();\r\n                }\r\n              }}\r\n              className=\"text-xs text-red-600 hover:text-red-800 underline\"\r\n            >\r\n              Emergency Shutdown\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const handleEmptyBin = async (binId) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/RecyclingBins/${binId}/empty`);\r\n      alert('Bin emptied successfully!');\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error('Error emptying bin:', error);\r\n      alert('Error emptying bin. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleCompleteRequest = async (requestId) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/RecyclingRequests/${requestId}/complete`);\r\n      alert('Request completed successfully!');\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error('Error completing request:', error);\r\n      alert('Error completing request. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleViewRequest = (request) => {\r\n    // Implement detailed view modal\r\n    console.log('Viewing request:', request);\r\n  };\r\n\r\n  const handleViewAllRequests = () => {\r\n    // Navigate to full requests page\r\n    console.log('Viewing all requests');\r\n  };\r\n\r\n  const handleGenerateRecyclingReport = () => {\r\n    // Generate and download recycling report\r\n    console.log('Generating recycling report');\r\n  };\r\n\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case 'overview':\r\n        return renderOverviewTab();\r\n      case 'orders':\r\n        return renderOrdersTab();\r\n      case 'inventory':\r\n        return renderInventoryTab();\r\n      case 'recycling':\r\n        return renderRecyclingTab();\r\n      case 'reports':\r\n        return renderReportsTab();\r\n      case 'settings':\r\n        return renderSettingsTab();\r\n      default:\r\n        return renderOverviewTab();\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header with integrated navigation */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          {/* Top header */}\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center py-4 gap-4\">\r\n            <div>\r\n              <div className=\"flex items-center space-x-2 mb-1\">\r\n                <span className=\"text-2xl\">🏭</span>\r\n                <h1 className=\"text-2xl font-bold text-blue-600\">\r\n                  Factory Manager Dashboard\r\n                </h1>\r\n              </div>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Welcome back, {user?.name || 'Factory Manager'} • {new Date().toLocaleDateString()}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\r\n                <span className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></span>\r\n                <span>System Online</span>\r\n              </div>\r\n              {/* Creative Logout Button */}\r\n              <button \r\n                onClick={handleCreativeLogout}\r\n                className=\"group relative overflow-hidden bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-2 rounded-lg font-semibold text-sm hover:from-red-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl\"\r\n              >\r\n                <span className=\"relative z-10 flex items-center space-x-2\">\r\n                  <span>🚪</span>\r\n                  <span>Exit Factory</span>\r\n                </span>\r\n                <div className=\"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Main navigation tabs */}\r\n          <nav className=\"flex flex-wrap gap-2\" aria-label=\"Tabs\">\r\n            {tabs.map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200 ${\r\n                  activeTab === tab.id\r\n                    ? 'bg-blue-50 text-blue-700 border-2 border-blue-200 shadow-sm'\r\n                    : 'text-gray-600 hover:text-gray-800 hover:bg-gray-50 border-2 border-transparent'\r\n                }`}\r\n              >\r\n                <span className=\"mr-2 text-lg\">{tab.icon}</span>\r\n                <span className=\"hidden sm:inline\">{tab.name}</span>\r\n                <span className=\"sm:hidden\">{tab.name.split(' ')[0]}</span>\r\n              </button>\r\n            ))}\r\n          </nav>\r\n          \r\n          {/* Tab Descriptions and Quick Actions */}\r\n          <div className=\"py-3 border-t border-gray-200\">\r\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3\">\r\n              <p className=\"text-sm text-gray-600\">\r\n                {tabs.find(tab => tab.id === activeTab)?.description || 'Select a tab to manage factory operations'}\r\n              </p>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                <button \r\n                  onClick={handleRefreshData}\r\n                  className=\"text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-100 transition-colors duration-200\"\r\n                >\r\n                  🔄 Refresh Data\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Main content area */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Breadcrumb Navigation */}\r\n        <div className=\"mb-6\">\r\n          <nav className=\"flex items-center space-x-2 text-sm text-gray-500\">\r\n            <span>🏭</span>\r\n            <span>Factory Manager</span>\r\n            <span>›</span>\r\n            <span className=\"text-blue-600 font-medium\">\r\n              {tabs.find(tab => tab.id === activeTab)?.name || 'Overview'}\r\n            </span>\r\n          </nav>\r\n        </div>\r\n        \r\n        {/* Tab Content */}\r\n        {renderTabContent()}\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FactoryDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}