{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../../Context/AuthContext';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,PieChart,Pie,Cell,LineChart,Line}from'recharts';import axios from'axios';import AddProductForm from'./AddProductForm';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FactoryDashboard=()=>{var _tabs$find,_tabs$find2;const{user,logout}=useAuth();const navigate=useNavigate();const[activeTab,setActiveTab]=useState('overview');// Check if user has factory manager role\nuseEffect(()=>{if(user&&user.role!=='Factory Manager'){console.error('User does not have factory manager privileges:',user.role);alert('Access denied. Factory Manager privileges required.');window.location.href='/login';}},[user]);const[inventoryStats,setInventoryStats]=useState(null);const[inventoryData,setInventoryData]=useState([]);const[pendingOrders,setPendingOrders]=useState([]);const[orderStats,setOrderStats]=useState(null);const[recentActivities,setRecentActivities]=useState([]);const[loading,setLoading]=useState(true);const[recyclingRequests,setRecyclingRequests]=useState([]);const[recyclingBins,setRecyclingBins]=useState([]);const[recyclingStats,setRecyclingStats]=useState(null);const[monthlyData,setMonthlyData]=useState([]);const[factoryRequests,setFactoryRequests]=useState([]);const[showAddProductForm,setShowAddProductForm]=useState(false);// Creative logout function\nconst handleCreativeLogout=()=>{// Add some visual feedback before logout\nconst confirmLogout=window.confirm('ðŸ­ Are you sure you want to leave the Factory Command Center?');if(confirmLogout){// Add a small delay for visual effect\nsetTimeout(()=>{logout();navigate('/login');},500);}};// Refresh data function\nconst handleRefreshData=async()=>{try{setLoading(true);console.log('ðŸ”„ Refreshing factory dashboard data...');// Re-fetch all data\nconst token=localStorage.getItem('token');const headers={'Authorization':`Bearer ${token}`};const[inventoryResponse,ordersResponse,recyclingResponse,factoryRequestsResponse]=await Promise.allSettled([axios.get('http://localhost:5000/Inventory',{headers}),axios.get('http://localhost:5000/Orders',{headers}),axios.get('http://localhost:5000/RecyclingRequests',{headers}),axios.get('http://localhost:5000/FactoryRequests',{headers})]);// Process responses (same logic as in useEffect)\nif(inventoryResponse.status==='fulfilled'){const inventory=inventoryResponse.value.data;setInventoryStats({totalItems:inventory.length,totalQuantity:inventory.reduce((sum,item)=>sum+item.quantity,0),lowStockItems:inventory.filter(item=>item.quantity<item.minStockLevel).length});setInventoryData(inventory.map(item=>({name:item.name,value:item.quantity,color:COLORS[Math.floor(Math.random()*COLORS.length)]})));}if(ordersResponse.status==='fulfilled'){const orders=ordersResponse.value.data;setPendingOrders(orders.filter(order=>order.status==='Pending'));setOrderStats({totalOrders:orders.length,pendingOrders:orders.filter(order=>order.status==='Pending').length,urgentOrders:orders.filter(order=>order.priority==='High').length});}if(recyclingResponse.status==='fulfilled'){const requests=recyclingResponse.value.data;setRecyclingRequests(requests);setRecyclingStats({totalRequests:requests.length,pendingRequests:requests.filter(req=>req.status==='Pending').length,completedRequests:requests.filter(req=>req.status==='Completed').length});}if(factoryRequestsResponse.status==='fulfilled'){const requests=factoryRequestsResponse.value.data.requests||factoryRequestsResponse.value.data||[];setFactoryRequests(Array.isArray(requests)?requests:[]);}console.log('âœ… Data refreshed successfully');alert('ðŸ”„ Dashboard data refreshed successfully!');}catch(error){console.error('âŒ Error refreshing data:',error);alert('âŒ Failed to refresh data. Please try again.');}finally{setLoading(false);}};// Handle product added\nconst handleProductAdded=response=>{console.log('âœ… Product added successfully:',response);// Refresh inventory data\nhandleRefreshData();setShowAddProductForm(false);};// Handle close add product form\nconst handleCloseAddProductForm=()=>{setShowAddProductForm(false);};// Fetch data from API\nuseEffect(()=>{const fetchDashboardData=async()=>{try{setLoading(true);console.log('ðŸ”„ Fetching factory dashboard data...');// Fetch all data in parallel with authentication\nconst token=localStorage.getItem('token');const headers={'Authorization':`Bearer ${token}`};const[statsResponse,inventoryResponse,ordersResponse,orderStatsResponse,activitiesResponse,recyclingResponse,binsResponse,recyclingStatsResponse,monthlyDataResponse,factoryRequestsResponse]=await Promise.allSettled([axios.get('http://localhost:5000/Inventory/stats/overview',{headers}),axios.get('http://localhost:5000/Inventory',{headers}),axios.get('http://localhost:5000/Orders/pending',{headers}),axios.get('http://localhost:5000/Orders/stats/overview',{headers}),axios.get('http://localhost:5000/Orders/activities/recent',{headers}),axios.get('http://localhost:5000/RecyclingRequests/pending',{headers}),axios.get('http://localhost:5000/RecyclingBins/factory-notification',{headers}),axios.get('http://localhost:5000/RecyclingRequests/statistics',{headers}),axios.get('http://localhost:5000/Orders/monthly-data',{headers}),axios.get('http://localhost:5000/FactoryRequests',{headers})]);// Set inventory stats\nif(statsResponse.status==='fulfilled'){setInventoryStats(statsResponse.value.data.stats);}else{console.error('Error fetching inventory stats:',statsResponse.reason);setInventoryStats({totalItems:8,lowStockItems:2,outOfStockItems:1,inStockItems:5,totalQuantity:450});}// Set inventory data\nif(inventoryResponse.status==='fulfilled'){setInventoryData(inventoryResponse.value.data.inventory||[]);}else{console.error('Error fetching inventory data:',inventoryResponse.reason);setInventoryData([]);}// Set pending orders\nif(ordersResponse.status==='fulfilled'){setPendingOrders(ordersResponse.value.data.orders||[]);}else{console.error('Error fetching pending orders:',ordersResponse.reason);setPendingOrders([]);}// Set order stats\nif(orderStatsResponse.status==='fulfilled'){setOrderStats(orderStatsResponse.value.data.stats);}else{console.error('Error fetching order stats:',orderStatsResponse.reason);setOrderStats({totalOrders:0,pendingOrders:0,processingOrders:0,urgentOrders:0,highPriorityOrders:0});}// Set recent activities\nif(activitiesResponse.status==='fulfilled'){setRecentActivities(activitiesResponse.value.data.activities||[]);}else{console.error('Error fetching recent activities:',activitiesResponse.reason);setRecentActivities([]);}// Set recycling requests\nif(recyclingResponse.status==='fulfilled'){setRecyclingRequests(recyclingResponse.value.data.requests||[]);}else{console.error('Error fetching recycling requests:',recyclingResponse.reason);setRecyclingRequests([]);}// Set recycling bins\nif(binsResponse.status==='fulfilled'){setRecyclingBins(binsResponse.value.data.binsForNotification||[]);}else{console.error('Error fetching recycling bins:',binsResponse.reason);setRecyclingBins([]);}// Set recycling stats\nif(recyclingStatsResponse.status==='fulfilled'){setRecyclingStats(recyclingStatsResponse.value.data.statistics);}else{console.error('Error fetching recycling stats:',recyclingStatsResponse.reason);setRecyclingStats({totalRequests:0,pendingRequests:0,approvedRequests:0,completedRequests:0,rejectedRequests:0,totalWeight:0,totalPoints:0});}// Set monthly data for charts\nif(monthlyDataResponse.status==='fulfilled'){setMonthlyData(monthlyDataResponse.value.data.monthlyData||[]);}else{console.error('Error fetching monthly data:',monthlyDataResponse.reason);// Fallback to mock data if API fails\nsetMonthlyData([{month:'Jan',production:1200,recycling:850,efficiency:70.8},{month:'Feb',production:1350,recycling:920,efficiency:68.1},{month:'Mar',production:1100,recycling:780,efficiency:70.9},{month:'Apr',production:1450,recycling:1050,efficiency:72.4},{month:'May',production:1600,recycling:1150,efficiency:71.9},{month:'Jun',production:1400,recycling:980,efficiency:70.0},{month:'Jul',production:1300,recycling:890,efficiency:68.5},{month:'Aug',production:1550,recycling:1120,efficiency:72.3},{month:'Sep',production:1700,recycling:1250,efficiency:73.5},{month:'Oct',production:1650,recycling:1180,efficiency:71.5},{month:'Nov',production:1500,recycling:1080,efficiency:72.0},{month:'Dec',production:1800,recycling:1350,efficiency:75.0}]);}// Set factory requests\nif(factoryRequestsResponse.status==='fulfilled'){console.log('Factory requests response:',factoryRequestsResponse.value.data);const requests=factoryRequestsResponse.value.data.requests||factoryRequestsResponse.value.data||[];console.log('Setting factory requests:',requests);setFactoryRequests(Array.isArray(requests)?requests:[]);}else{console.error('âŒ Failed to fetch factory requests:',factoryRequestsResponse.reason);setFactoryRequests([]);}}catch(error){console.error('Error fetching dashboard data:',error);}finally{setLoading(false);}};fetchDashboardData();},[]);const getStatusColor=status=>{switch(status){case'In Stock':return'text-green-600 bg-green-100';case'Low Stock':return'text-yellow-600 bg-yellow-100';case'Out of Stock':return'text-red-600 bg-red-100';default:return'text-gray-600 bg-gray-100';}};const getRequestStatusColor=status=>{switch(status){case'pending':return'text-yellow-600 bg-yellow-100';case'approved':return'text-green-600 bg-green-100';case'rejected':return'text-red-600 bg-red-100';case'fulfilled':return'text-blue-600 bg-blue-100';default:return'text-gray-600 bg-gray-100';}};// Factory Request Functions\nconst handleApproveRequest=async requestId=>{try{console.log('Approving request:',requestId);console.log('Token:',localStorage.getItem('token'));const response=await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/approve`,{},{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`,'Content-Type':'application/json'}});console.log('Approval response:',response);if(response.status===200){// Refresh the factory requests data\nconst updatedRequests=factoryRequests.map(request=>request._id===requestId?{...request,status:'fulfilled',approvedAt:new Date(),fulfilledAt:new Date()}:request);setFactoryRequests(updatedRequests);alert('Request approved and inventory transferred successfully!');}}catch(error){var _error$response,_error$response2,_error$response3,_error$response3$data,_error$response4,_error$response5,_error$response6;console.error('Error approving request:',error);console.error('Error response:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);console.error('Error status:',(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status);let errorMessage='Failed to approve request. Please try again.';if((_error$response3=error.response)!==null&&_error$response3!==void 0&&(_error$response3$data=_error$response3.data)!==null&&_error$response3$data!==void 0&&_error$response3$data.message){errorMessage=error.response.data.message;}else if(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status)===401){errorMessage='Authentication failed. Please log in again.';}else if(((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.status)===403){errorMessage='Access denied. Factory Manager role required.';}else if(((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status)===400){errorMessage=error.response.data.message||'Invalid request data.';}alert(errorMessage);}};const handleRejectRequest=async(requestId,reason)=>{try{const response=await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/reject`,{rejectionReason:reason},{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`,'Content-Type':'application/json'}});if(response.status===200){// Refresh the factory requests data\nconst updatedRequests=factoryRequests.map(request=>request._id===requestId?{...request,status:'rejected',rejectedAt:new Date(),rejectionReason:reason}:request);setFactoryRequests(updatedRequests);alert('Request rejected successfully!');}}catch(error){console.error('Error rejecting request:',error);alert('Failed to reject request. Please try again.');}};const handleFulfillRequest=async requestId=>{try{const response=await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/fulfill`,{},{headers:{'Authorization':`Bearer ${localStorage.getItem('token')}`,'Content-Type':'application/json'}});if(response.status===200){// Refresh the factory requests data\nconst updatedRequests=factoryRequests.map(request=>request._id===requestId?{...request,status:'fulfilled',fulfilledAt:new Date()}:request);setFactoryRequests(updatedRequests);alert('Request fulfilled successfully!');}}catch(error){console.error('Error fulfilling request:',error);alert('Failed to fulfill request. Please try again.');}};const getPriorityColor=priority=>{switch(priority){case'Urgent':return'text-red-600 bg-red-100';case'High':return'text-orange-600 bg-orange-100';case'Medium':return'text-yellow-600 bg-yellow-100';case'Low':return'text-green-600 bg-green-100';default:return'text-gray-600 bg-gray-100';}};const getActivityColor=(type,status)=>{if(type==='inventory'){if(status==='critical')return'text-red-500';if(status==='warning')return'text-yellow-500';}return'text-blue-500';};const COLORS=['#0077B6','#00B4D8','#009688','#FF6B6B','#4ECDC4','#FFD93D','#6BCF7F','#4D96FF'];const tabs=[{id:'overview',name:'Overview',icon:'ðŸ“Š',description:'Dashboard overview and key metrics'},{id:'orders',name:'Orders Management',icon:'ðŸ“‹',description:'Manage factory orders and production'},{id:'inventory',name:'Inventory Control',icon:'ðŸ“¦',description:'Monitor and control inventory levels'},{id:'recycling',name:'Recycling Center',icon:'ðŸŒ±',description:'Manage recycling operations'},{id:'reports',name:'Analytics & Reports',icon:'ðŸ“ˆ',description:'View detailed reports and analytics'},{id:'settings',name:'Factory Settings',icon:'âš™ï¸',description:'Configure factory settings and preferences'}];const renderOverviewTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Monitor factory operations and key metrics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-blue-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Inventory Items\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:[loading?'...':(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.totalItems)||0,\" Items\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-green-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Approved Requests\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:[loading?'...':Array.isArray(factoryRequests)?factoryRequests.filter(req=>req.status==='approved').length:0,\" Requests\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-blue-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Fulfilled Requests\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:[loading?'...':Array.isArray(factoryRequests)?factoryRequests.filter(req=>req.status==='fulfilled').length:0,\" Requests\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-purple-100\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-purple-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Factory Requests\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:[loading?'...':Array.isArray(factoryRequests)?factoryRequests.filter(req=>req.status==='pending').length:0,\" Pending\"]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"Inventory Distribution\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:inventoryData,cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref=>{let{name,quantity}=_ref;return`${name}: ${quantity}`;},outerRadius:80,fill:\"#8884d8\",dataKey:\"quantity\",children:inventoryData.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},`cell-${index}`))}),/*#__PURE__*/_jsx(Tooltip,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"Recent Activities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:recentActivities.length>0?recentActivities.map((activity,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-2 h-2 rounded-full ${getActivityColor(activity.type,activity.status)==='text-red-500'?'bg-red-500':getActivityColor(activity.type,activity.status)==='text-yellow-500'?'bg-yellow-500':'bg-blue-500'}`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:activity.message}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 ml-auto\",children:new Date(activity.timestamp).toLocaleDateString()})]},index)):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No recent activities\"})})})]})]});const renderOrdersTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Orders Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Manage and track orders from branches\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Factory Requests from Branches\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[Array.isArray(factoryRequests)?factoryRequests.filter(req=>req.status==='pending').length:0,\" pending requests\"]})]}),Array.isArray(factoryRequests)&&factoryRequests.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Request ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Branch\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Items Requested\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Requested Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:factoryRequests.map(request=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:request._id.slice(-8)}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:request.branchName}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"ID: \",request.branchId]})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:request.items.map(item=>`${item.name} (${item.requestedQuantity} ${item.unit})`).join(', ')}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Total: \",request.items.reduce((sum,item)=>sum+item.requestedQuantity,0),\" units\"]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(request.requestedAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getRequestStatusColor(request.status)}`,children:request.status.charAt(0).toUpperCase()+request.status.slice(1)})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[request.status==='pending'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveRequest(request._id),className:\"text-green-600 hover:text-green-900 font-medium\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const reason=prompt('Enter rejection reason:');if(reason)handleRejectRequest(request._id,reason);},className:\"text-red-600 hover:text-red-900 font-medium\",children:\"Reject\"})]}),request.status==='fulfilled'&&/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-medium\",children:\"\\u2713 Completed\"}),request.status==='rejected'&&request.rejectionReason&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-500 text-xs\",children:[\"Reason: \",request.rejectionReason]})]})})]},request._id))})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-8 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No factory requests at the moment\"})})]})]});const renderInventoryTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Inventory Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Monitor and manage factory inventory levels\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Factory Inventory\"}),/*#__PURE__*/_jsx(Link,{to:\"/inventory\",className:\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\",children:\"Manage Inventory\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Item Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Last Updated\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:inventoryData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:item.name}),item.supplier&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Supplier: \",item.supplier]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-900\",children:[item.quantity,\" \",item.unit]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(item.status)}`,children:item.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(item.lastUpdated).toLocaleDateString()})]},item._id))})]})})})]});const renderRecyclingTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"\\uD83C\\uDF31 Recycling Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Monitor recycling requests and manage branch bins\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-green-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83C\\uDF31\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Requests\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalRequests)||0})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-yellow-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\u23F3\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Pending Requests\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.pendingRequests)||0})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-blue-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDCCA\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Weight\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':`${(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalWeight)||0} kg`})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-purple-100\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\u2B50\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Points\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:loading?'...':(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalPoints)||0})]})]})})]}),recyclingBins.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDEA8\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-red-800\",children:\"Critical Bin Alerts\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-red-600\",children:[recyclingBins.length,\" branch\",recyclingBins.length>1?'es':'',\" have recycling bins that are 90%+ full\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:recyclingBins.map(bin=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-red-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-red-900\",children:bin.branchName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-600\",children:bin.location})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-red-800\",children:[bin.fillPercentage.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-red-700\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Current: \",bin.currentLevel,\" kg\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Capacity: \",bin.capacity,\" kg\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEmptyBin(bin._id),className:\"mt-3 w-full bg-red-600 text-white px-3 py-2 rounded-md hover:bg-red-700 text-sm\",children:\"Empty Bin\"})]},bin._id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Pending Recycling Requests\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[recyclingRequests.length,\" pending request\",recyclingRequests.length!==1?'s':'']})]}),recyclingRequests.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Request ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Branch\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Weight\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Points\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:recyclingRequests.map(request=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:request.requestId}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:request.customerName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:request.customerEmail})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:request.branchName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:request.branchLocation})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[request.wasteWeight,\" kg\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[request.pointsEarned,\" pts\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(request.requestDate).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCompleteRequest(request._id),className:\"text-green-600 hover:text-green-900 mr-3\",children:\"Complete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewRequest(request),className:\"text-blue-600 hover:text-blue-900\",children:\"View\"})]})]},request._id))})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-2\",children:\"\\uD83C\\uDF31\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No pending recycling requests\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"All requests have been processed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\",children:\"Refresh Data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewAllRequests(),className:\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\",children:\"View All Requests\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGenerateRecyclingReport(),className:\"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors\",children:\"Generate Report\"})]})]})]});const renderReportsTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Reports & Analytics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Generate reports and view analytics\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Analytics Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Order Statistics\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:[{name:'Total',value:(orderStats===null||orderStats===void 0?void 0:orderStats.totalOrders)||0},{name:'Pending',value:(orderStats===null||orderStats===void 0?void 0:orderStats.pendingOrders)||0},{name:'Processing',value:(orderStats===null||orderStats===void 0?void 0:orderStats.processingOrders)||0},{name:'Urgent',value:(orderStats===null||orderStats===void 0?void 0:orderStats.urgentOrders)||0},{name:'High Priority',value:(orderStats===null||orderStats===void 0?void 0:orderStats.highPriorityOrders)||0}],children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f0f0f0\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",stroke:\"#666\",fontSize:12,tickLine:false,axisLine:false}),/*#__PURE__*/_jsx(YAxis,{stroke:\"#666\",fontSize:12,tickLine:false,axisLine:false}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'},formatter:value=>[`${value} orders`,'Count']}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",fill:\"#0077B6\",radius:[4,4,0,0]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Inventory Status\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:[{name:'In Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.inStockItems)||0,color:'#10B981'},{name:'Low Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.lowStockItems)||0,color:'#F59E0B'},{name:'Out of Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.outOfStockItems)||0,color:'#EF4444'}],cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref2=>{let{name,value,percent}=_ref2;return`${name}: ${value} (${(percent*100).toFixed(0)}%)`;},outerRadius:80,fill:\"#8884d8\",dataKey:\"value\",children:[{name:'In Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.inStockItems)||0,color:'#10B981'},{name:'Low Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.lowStockItems)||0,color:'#F59E0B'},{name:'Out of Stock',value:(inventoryStats===null||inventoryStats===void 0?void 0:inventoryStats.outOfStockItems)||0,color:'#EF4444'}].map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:entry.color},`cell-${index}`))}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'},formatter:(value,name)=>[`${value} items`,name]}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{paddingTop:'20px'},iconType:\"circle\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Monthly Recycling vs Production Comparison\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Track the relationship between production output and recycling efficiency throughout the year\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(LineChart,{data:monthlyData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#f0f0f0\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"month\",stroke:\"#666\",fontSize:12,tickLine:false,axisLine:false}),/*#__PURE__*/_jsx(YAxis,{stroke:\"#666\",fontSize:12,tickLine:false,axisLine:false,label:{value:'Units',angle:-90,position:'insideLeft'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'},formatter:(value,name)=>[`${value} units`,name==='production'?'Production':name==='recycling'?'Recycling':'Efficiency %'],labelFormatter:label=>`Month: ${label}`}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{paddingTop:'20px'},iconType:\"line\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"production\",stroke:\"#0077B6\",strokeWidth:3,dot:{fill:'#0077B6',strokeWidth:2,r:4},activeDot:{r:6,stroke:'#0077B6',strokeWidth:2},name:\"Production Output\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"recycling\",stroke:\"#00B4D8\",strokeWidth:3,dot:{fill:'#00B4D8',strokeWidth:2,r:4},activeDot:{r:6,stroke:'#00B4D8',strokeWidth:2},name:\"Recycling Volume\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"efficiency\",stroke:\"#10B981\",strokeWidth:2,strokeDasharray:\"5 5\",dot:{fill:'#10B981',strokeWidth:2,r:3},activeDot:{r:5,stroke:'#10B981',strokeWidth:2},name:\"Recycling Efficiency %\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-800\",children:\"Production Trend\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-600 mt-1\",children:monthlyData.length>0?`Peak production in ${monthlyData.reduce((max,item)=>item.production>max.production?item:max,monthlyData[0]).month} (${Math.max(...monthlyData.map(d=>d.production))} units)`:'Loading production data...'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-cyan-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-cyan-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-cyan-800\",children:\"Recycling Trend\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-cyan-600 mt-1\",children:monthlyData.length>0?`Highest recycling in ${monthlyData.reduce((max,item)=>item.recycling>max.recycling?item:max,monthlyData[0]).month} (${Math.max(...monthlyData.map(d=>d.recycling))} units)`:'Loading recycling data...'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-green-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-green-800\",children:\"Efficiency Trend\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-600 mt-1\",children:monthlyData.length>0?`Best efficiency in ${monthlyData.reduce((max,item)=>item.efficiency>max.efficiency?item:max,monthlyData[0]).month} (${Math.max(...monthlyData.map(d=>d.efficiency)).toFixed(1)}%)`:'Loading efficiency data...'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Recycling Statistics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Track recycling request status and performance metrics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Recycling Request Status\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:[{name:'Completed',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.completedRequests)||0,color:'#10B981'},{name:'Pending',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.pendingRequests)||0,color:'#F59E0B'},{name:'Approved',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.approvedRequests)||0,color:'#3B82F6'},{name:'Rejected',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.rejectedRequests)||0,color:'#EF4444'}],cx:\"50%\",cy:\"50%\",labelLine:false,label:_ref3=>{let{name,value,percent}=_ref3;return`${name}: ${value}`;},outerRadius:70,fill:\"#8884d8\",dataKey:\"value\",children:[{name:'Completed',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.completedRequests)||0,color:'#10B981'},{name:'Pending',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.pendingRequests)||0,color:'#F59E0B'},{name:'Approved',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.approvedRequests)||0,color:'#3B82F6'},{name:'Rejected',value:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.rejectedRequests)||0,color:'#EF4444'}].map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:entry.color},`cell-${index}`))}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'white',border:'1px solid #e5e7eb',borderRadius:'8px',boxShadow:'0 4px 6px -1px rgba(0, 0, 0, 0.1)'},formatter:(value,name)=>[`${value} requests`,name]}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{paddingTop:'20px'},iconType:\"circle\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Recycling Performance Metrics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-green-800\",children:\"Total Requests\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-green-900\",children:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalRequests)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-800\",children:\"Total Weight Recycled\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-blue-900\",children:[(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalWeight)||0,\" kg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-purple-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-purple-800\",children:\"Total Points Awarded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold text-purple-900\",children:(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalPoints)||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-orange-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-orange-800\",children:\"Completion Rate\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-orange-900\",children:[(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalRequests)>0?((recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.completedRequests)/(recyclingStats===null||recyclingStats===void 0?void 0:recyclingStats.totalRequests)*100).toFixed(1):0,\"%\"]})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Generate Reports\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\",children:\"Inventory Report\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\",children:\"Order Report\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition-colors\",children:\"Production Report\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors\",children:\"Recycling Report\"})]})]})]});const renderSettingsTab=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Factory Settings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Configure factory settings and preferences\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Configuration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Factory Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Factory Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"RO Filter Factory\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"Colombo, Sri Lanka\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Contact Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"factory@aqualink.com\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Inventory Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Default Min Stock Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"10\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Default Max Stock Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Auto-reorder Threshold\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",defaultValue:\"20\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold text-gray-800 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\",children:\"Save Settings\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors\",children:\"Reset to Default\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors\",children:\"Export Configuration\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-red-800 mb-2\",children:\"\\uD83C\\uDFED Factory Session Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm\",children:\"Securely exit the Factory Command Center when your work is complete\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleCreativeLogout,className:\"group relative overflow-hidden bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-3 rounded-lg font-semibold hover:from-red-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"relative z-10 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"group-hover:animate-bounce\",children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Secure Logout\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.confirm('âš ï¸ This will close all factory operations. Continue?')){handleCreativeLogout();}},className:\"text-xs text-red-600 hover:text-red-800 underline\",children:\"Emergency Shutdown\"})]})]})})]});const handleEmptyBin=async binId=>{try{await axios.put(`http://localhost:5000/RecyclingBins/${binId}/empty`);alert('Bin emptied successfully!');window.location.reload();}catch(error){console.error('Error emptying bin:',error);alert('Error emptying bin. Please try again.');}};const handleCompleteRequest=async requestId=>{try{await axios.put(`http://localhost:5000/RecyclingRequests/${requestId}/complete`);alert('Request completed successfully!');window.location.reload();}catch(error){console.error('Error completing request:',error);alert('Error completing request. Please try again.');}};const handleViewRequest=request=>{// Implement detailed view modal\nconsole.log('Viewing request:',request);};const handleViewAllRequests=()=>{// Navigate to full requests page\nconsole.log('Viewing all requests');};const handleGenerateRecyclingReport=()=>{// Generate and download recycling report\nconsole.log('Generating recycling report');};const renderTabContent=()=>{switch(activeTab){case'overview':return renderOverviewTab();case'orders':return renderOrdersTab();case'inventory':return renderInventoryTab();case'recycling':return renderRecyclingTab();case'reports':return renderReportsTab();case'settings':return renderSettingsTab();default:return renderOverviewTab();}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-start sm:items-center py-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83C\\uDFED\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-blue-600\",children:\"Factory Manager Dashboard\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Welcome back, \",(user===null||user===void 0?void 0:user.name)||'Factory Manager',\" \\u2022 \",new Date().toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:\"System Online\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCreativeLogout,className:\"group relative overflow-hidden bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-2 rounded-lg font-semibold text-sm hover:from-red-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"relative z-10 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Exit Factory\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"})]})]})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex flex-wrap gap-2\",\"aria-label\":\"Tabs\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:`flex items-center py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200 ${activeTab===tab.id?'bg-blue-50 text-blue-700 border-2 border-blue-200 shadow-sm':'text-gray-600 hover:text-gray-800 hover:bg-gray-50 border-2 border-transparent'}`,children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2 text-lg\",children:tab.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:tab.name}),/*#__PURE__*/_jsx(\"span\",{className:\"sm:hidden\",children:tab.name.split(' ')[0]})]},tab.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"py-3 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:((_tabs$find=tabs.find(tab=>tab.id===activeTab))===null||_tabs$find===void 0?void 0:_tabs$find.description)||'Select a tab to manage factory operations'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleRefreshData,className:\"text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-100 transition-colors duration-200\",children:\"\\uD83D\\uDD04 Refresh Data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddProductForm(true),className:\"text-xs bg-green-50 text-green-700 px-3 py-1 rounded-full hover:bg-green-100 transition-colors duration-200\",children:\"\\u2795 Add Product\"})]})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center space-x-2 text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFED\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Factory Manager\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-medium\",children:((_tabs$find2=tabs.find(tab=>tab.id===activeTab))===null||_tabs$find2===void 0?void 0:_tabs$find2.name)||'Overview'})]})}),renderTabContent()]}),showAddProductForm&&/*#__PURE__*/_jsx(AddProductForm,{onProductAdded:handleProductAdded,onClose:handleCloseAddProductForm})]});};export default FactoryDashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useAuth","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","PieChart","Pie","Cell","LineChart","Line","axios","AddProductForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FactoryDashboard","_tabs$find","_tabs$find2","user","logout","navigate","activeTab","setActiveTab","role","console","error","alert","window","location","href","inventoryStats","setInventoryStats","inventoryData","setInventoryData","pendingOrders","setPendingOrders","orderStats","setOrderStats","recentActivities","setRecentActivities","loading","setLoading","recyclingRequests","setRecyclingRequests","recyclingBins","setRecyclingBins","recyclingStats","setRecyclingStats","monthlyData","setMonthlyData","factoryRequests","setFactoryRequests","showAddProductForm","setShowAddProductForm","handleCreativeLogout","confirmLogout","confirm","setTimeout","handleRefreshData","log","token","localStorage","getItem","headers","inventoryResponse","ordersResponse","recyclingResponse","factoryRequestsResponse","Promise","allSettled","get","status","inventory","value","data","totalItems","length","totalQuantity","reduce","sum","item","quantity","lowStockItems","filter","minStockLevel","map","name","color","COLORS","Math","floor","random","orders","order","totalOrders","urgentOrders","priority","requests","totalRequests","pendingRequests","req","completedRequests","Array","isArray","handleProductAdded","response","handleCloseAddProductForm","fetchDashboardData","statsResponse","orderStatsResponse","activitiesResponse","binsResponse","recyclingStatsResponse","monthlyDataResponse","stats","reason","outOfStockItems","inStockItems","processingOrders","highPriorityOrders","activities","binsForNotification","statistics","approvedRequests","rejectedRequests","totalWeight","totalPoints","month","production","recycling","efficiency","getStatusColor","getRequestStatusColor","handleApproveRequest","requestId","put","updatedRequests","request","_id","approvedAt","Date","fulfilledAt","_error$response","_error$response2","_error$response3","_error$response3$data","_error$response4","_error$response5","_error$response6","errorMessage","message","handleRejectRequest","rejectionReason","rejectedAt","handleFulfillRequest","getPriorityColor","getActivityColor","type","tabs","id","icon","description","renderOverviewTab","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","width","height","cx","cy","labelLine","label","_ref","outerRadius","dataKey","entry","index","activity","timestamp","toLocaleDateString","renderOrdersTab","slice","branchName","branchId","items","requestedQuantity","unit","join","requestedAt","charAt","toUpperCase","onClick","prompt","renderInventoryTab","to","supplier","lastUpdated","renderRecyclingTab","bin","fillPercentage","toFixed","currentLevel","capacity","handleEmptyBin","customerName","customerEmail","branchLocation","wasteWeight","pointsEarned","requestDate","handleCompleteRequest","handleViewRequest","reload","handleViewAllRequests","handleGenerateRecyclingReport","renderReportsTab","strokeDasharray","fontSize","tickLine","axisLine","contentStyle","backgroundColor","border","borderRadius","boxShadow","formatter","radius","_ref2","percent","wrapperStyle","paddingTop","iconType","angle","position","labelFormatter","dot","r","activeDot","max","_ref3","renderSettingsTab","defaultValue","binId","renderTabContent","tab","split","find","onProductAdded","onClose"],"sources":["E:/Y2S2/Project/frontend/src/Components/FactoryManager/FactoryDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../Context/AuthContext';\r\nimport {\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\r\n  PieChart, Pie, Cell, LineChart, Line\r\n} from 'recharts';\r\nimport axios from 'axios';\r\nimport AddProductForm from './AddProductForm';\r\n\r\nconst FactoryDashboard = () => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  \r\n  // Check if user has factory manager role\r\n  useEffect(() => {\r\n    if (user && user.role !== 'Factory Manager') {\r\n      console.error('User does not have factory manager privileges:', user.role);\r\n      alert('Access denied. Factory Manager privileges required.');\r\n      window.location.href = '/login';\r\n    }\r\n  }, [user]);\r\n  \r\n  const [inventoryStats, setInventoryStats] = useState(null);\r\n  const [inventoryData, setInventoryData] = useState([]);\r\n  const [pendingOrders, setPendingOrders] = useState([]);\r\n  const [orderStats, setOrderStats] = useState(null);\r\n  const [recentActivities, setRecentActivities] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [recyclingRequests, setRecyclingRequests] = useState([]);\r\n  const [recyclingBins, setRecyclingBins] = useState([]);\r\n  const [recyclingStats, setRecyclingStats] = useState(null);\r\n  const [monthlyData, setMonthlyData] = useState([]);\r\n  const [factoryRequests, setFactoryRequests] = useState([]);\r\n  const [showAddProductForm, setShowAddProductForm] = useState(false);\r\n\r\n  // Creative logout function\r\n  const handleCreativeLogout = () => {\r\n    // Add some visual feedback before logout\r\n    const confirmLogout = window.confirm('ðŸ­ Are you sure you want to leave the Factory Command Center?');\r\n    if (confirmLogout) {\r\n      // Add a small delay for visual effect\r\n      setTimeout(() => {\r\n        logout();\r\n        navigate('/login');\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  // Refresh data function\r\n  const handleRefreshData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      console.log('ðŸ”„ Refreshing factory dashboard data...');\r\n      \r\n      // Re-fetch all data\r\n      const token = localStorage.getItem('token');\r\n      const headers = { 'Authorization': `Bearer ${token}` };\r\n\r\n      const [\r\n        inventoryResponse,\r\n        ordersResponse,\r\n        recyclingResponse,\r\n        factoryRequestsResponse\r\n      ] = await Promise.allSettled([\r\n        axios.get('http://localhost:5000/Inventory', { headers }),\r\n        axios.get('http://localhost:5000/Orders', { headers }),\r\n        axios.get('http://localhost:5000/RecyclingRequests', { headers }),\r\n        axios.get('http://localhost:5000/FactoryRequests', { headers })\r\n      ]);\r\n\r\n      // Process responses (same logic as in useEffect)\r\n      if (inventoryResponse.status === 'fulfilled') {\r\n        const inventory = inventoryResponse.value.data;\r\n        setInventoryStats({\r\n          totalItems: inventory.length,\r\n          totalQuantity: inventory.reduce((sum, item) => sum + item.quantity, 0),\r\n          lowStockItems: inventory.filter(item => item.quantity < item.minStockLevel).length\r\n        });\r\n        setInventoryData(inventory.map(item => ({\r\n          name: item.name,\r\n          value: item.quantity,\r\n          color: COLORS[Math.floor(Math.random() * COLORS.length)]\r\n        })));\r\n      }\r\n\r\n      if (ordersResponse.status === 'fulfilled') {\r\n        const orders = ordersResponse.value.data;\r\n        setPendingOrders(orders.filter(order => order.status === 'Pending'));\r\n        setOrderStats({\r\n          totalOrders: orders.length,\r\n          pendingOrders: orders.filter(order => order.status === 'Pending').length,\r\n          urgentOrders: orders.filter(order => order.priority === 'High').length\r\n        });\r\n      }\r\n\r\n      if (recyclingResponse.status === 'fulfilled') {\r\n        const requests = recyclingResponse.value.data;\r\n        setRecyclingRequests(requests);\r\n        setRecyclingStats({\r\n          totalRequests: requests.length,\r\n          pendingRequests: requests.filter(req => req.status === 'Pending').length,\r\n          completedRequests: requests.filter(req => req.status === 'Completed').length\r\n        });\r\n      }\r\n\r\n      if (factoryRequestsResponse.status === 'fulfilled') {\r\n        const requests = factoryRequestsResponse.value.data.requests || factoryRequestsResponse.value.data || [];\r\n        setFactoryRequests(Array.isArray(requests) ? requests : []);\r\n      }\r\n\r\n      console.log('âœ… Data refreshed successfully');\r\n      alert('ðŸ”„ Dashboard data refreshed successfully!');\r\n    } catch (error) {\r\n      console.error('âŒ Error refreshing data:', error);\r\n      alert('âŒ Failed to refresh data. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle product added\r\n  const handleProductAdded = (response) => {\r\n    console.log('âœ… Product added successfully:', response);\r\n    // Refresh inventory data\r\n    handleRefreshData();\r\n    setShowAddProductForm(false);\r\n  };\r\n\r\n  // Handle close add product form\r\n  const handleCloseAddProductForm = () => {\r\n    setShowAddProductForm(false);\r\n  };\r\n\r\n\r\n  // Fetch data from API\r\n  useEffect(() => {\r\n    const fetchDashboardData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        console.log('ðŸ”„ Fetching factory dashboard data...');\r\n        \r\n        // Fetch all data in parallel with authentication\r\n        const token = localStorage.getItem('token');\r\n        const headers = { 'Authorization': `Bearer ${token}` };\r\n        \r\n        const [statsResponse, inventoryResponse, ordersResponse, orderStatsResponse, activitiesResponse, recyclingResponse, binsResponse, recyclingStatsResponse, monthlyDataResponse, factoryRequestsResponse] = await Promise.allSettled([\r\n          axios.get('http://localhost:5000/Inventory/stats/overview', { headers }),\r\n          axios.get('http://localhost:5000/Inventory', { headers }),\r\n          axios.get('http://localhost:5000/Orders/pending', { headers }),\r\n          axios.get('http://localhost:5000/Orders/stats/overview', { headers }),\r\n          axios.get('http://localhost:5000/Orders/activities/recent', { headers }),\r\n          axios.get('http://localhost:5000/RecyclingRequests/pending', { headers }),\r\n          axios.get('http://localhost:5000/RecyclingBins/factory-notification', { headers }),\r\n          axios.get('http://localhost:5000/RecyclingRequests/statistics', { headers }),\r\n          axios.get('http://localhost:5000/Orders/monthly-data', { headers }),\r\n          axios.get('http://localhost:5000/FactoryRequests', { headers })\r\n        ]);\r\n\r\n        // Set inventory stats\r\n        if (statsResponse.status === 'fulfilled') {\r\n          setInventoryStats(statsResponse.value.data.stats);\r\n        } else {\r\n          console.error('Error fetching inventory stats:', statsResponse.reason);\r\n          setInventoryStats({\r\n            totalItems: 8,\r\n            lowStockItems: 2,\r\n            outOfStockItems: 1,\r\n            inStockItems: 5,\r\n            totalQuantity: 450\r\n          });\r\n        }\r\n\r\n        // Set inventory data\r\n        if (inventoryResponse.status === 'fulfilled') {\r\n          setInventoryData(inventoryResponse.value.data.inventory || []);\r\n        } else {\r\n          console.error('Error fetching inventory data:', inventoryResponse.reason);\r\n          setInventoryData([]);\r\n        }\r\n\r\n        // Set pending orders\r\n        if (ordersResponse.status === 'fulfilled') {\r\n          setPendingOrders(ordersResponse.value.data.orders || []);\r\n        } else {\r\n          console.error('Error fetching pending orders:', ordersResponse.reason);\r\n          setPendingOrders([]);\r\n        }\r\n\r\n        // Set order stats\r\n        if (orderStatsResponse.status === 'fulfilled') {\r\n          setOrderStats(orderStatsResponse.value.data.stats);\r\n        } else {\r\n          console.error('Error fetching order stats:', orderStatsResponse.reason);\r\n          setOrderStats({\r\n            totalOrders: 0,\r\n            pendingOrders: 0,\r\n            processingOrders: 0,\r\n            urgentOrders: 0,\r\n            highPriorityOrders: 0\r\n          });\r\n        }\r\n\r\n        // Set recent activities\r\n        if (activitiesResponse.status === 'fulfilled') {\r\n          setRecentActivities(activitiesResponse.value.data.activities || []);\r\n        } else {\r\n          console.error('Error fetching recent activities:', activitiesResponse.reason);\r\n          setRecentActivities([]);\r\n        }\r\n\r\n\r\n        // Set recycling requests\r\n        if (recyclingResponse.status === 'fulfilled') {\r\n          setRecyclingRequests(recyclingResponse.value.data.requests || []);\r\n        } else {\r\n          console.error('Error fetching recycling requests:', recyclingResponse.reason);\r\n          setRecyclingRequests([]);\r\n        }\r\n\r\n        // Set recycling bins\r\n        if (binsResponse.status === 'fulfilled') {\r\n          setRecyclingBins(binsResponse.value.data.binsForNotification || []);\r\n        } else {\r\n          console.error('Error fetching recycling bins:', binsResponse.reason);\r\n          setRecyclingBins([]);\r\n        }\r\n\r\n        // Set recycling stats\r\n        if (recyclingStatsResponse.status === 'fulfilled') {\r\n          setRecyclingStats(recyclingStatsResponse.value.data.statistics);\r\n        } else {\r\n          console.error('Error fetching recycling stats:', recyclingStatsResponse.reason);\r\n          setRecyclingStats({\r\n            totalRequests: 0,\r\n            pendingRequests: 0,\r\n            approvedRequests: 0,\r\n            completedRequests: 0,\r\n            rejectedRequests: 0,\r\n            totalWeight: 0,\r\n            totalPoints: 0\r\n          });\r\n        }\r\n\r\n        // Set monthly data for charts\r\n        if (monthlyDataResponse.status === 'fulfilled') {\r\n          setMonthlyData(monthlyDataResponse.value.data.monthlyData || []);\r\n        } else {\r\n          console.error('Error fetching monthly data:', monthlyDataResponse.reason);\r\n          // Fallback to mock data if API fails\r\n          setMonthlyData([\r\n            { month: 'Jan', production: 1200, recycling: 850, efficiency: 70.8 },\r\n            { month: 'Feb', production: 1350, recycling: 920, efficiency: 68.1 },\r\n            { month: 'Mar', production: 1100, recycling: 780, efficiency: 70.9 },\r\n            { month: 'Apr', production: 1450, recycling: 1050, efficiency: 72.4 },\r\n            { month: 'May', production: 1600, recycling: 1150, efficiency: 71.9 },\r\n            { month: 'Jun', production: 1400, recycling: 980, efficiency: 70.0 },\r\n            { month: 'Jul', production: 1300, recycling: 890, efficiency: 68.5 },\r\n            { month: 'Aug', production: 1550, recycling: 1120, efficiency: 72.3 },\r\n            { month: 'Sep', production: 1700, recycling: 1250, efficiency: 73.5 },\r\n            { month: 'Oct', production: 1650, recycling: 1180, efficiency: 71.5 },\r\n            { month: 'Nov', production: 1500, recycling: 1080, efficiency: 72.0 },\r\n            { month: 'Dec', production: 1800, recycling: 1350, efficiency: 75.0 }\r\n          ]);\r\n        }\r\n\r\n        // Set factory requests\r\n        if (factoryRequestsResponse.status === 'fulfilled') {\r\n          console.log('Factory requests response:', factoryRequestsResponse.value.data);\r\n          const requests = factoryRequestsResponse.value.data.requests || factoryRequestsResponse.value.data || [];\r\n          console.log('Setting factory requests:', requests);\r\n          setFactoryRequests(Array.isArray(requests) ? requests : []);\r\n        } else {\r\n          console.error('âŒ Failed to fetch factory requests:', factoryRequestsResponse.reason);\r\n          setFactoryRequests([]);\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error('Error fetching dashboard data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'In Stock': return 'text-green-600 bg-green-100';\r\n      case 'Low Stock': return 'text-yellow-600 bg-yellow-100';\r\n      case 'Out of Stock': return 'text-red-600 bg-red-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  const getRequestStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'pending': return 'text-yellow-600 bg-yellow-100';\r\n      case 'approved': return 'text-green-600 bg-green-100';\r\n      case 'rejected': return 'text-red-600 bg-red-100';\r\n      case 'fulfilled': return 'text-blue-600 bg-blue-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  // Factory Request Functions\r\n  const handleApproveRequest = async (requestId) => {\r\n    try {\r\n      console.log('Approving request:', requestId);\r\n      console.log('Token:', localStorage.getItem('token'));\r\n      \r\n      const response = await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/approve`, {}, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      console.log('Approval response:', response);\r\n\r\n      if (response.status === 200) {\r\n        // Refresh the factory requests data\r\n        const updatedRequests = factoryRequests.map(request => \r\n          request._id === requestId ? { ...request, status: 'fulfilled', approvedAt: new Date(), fulfilledAt: new Date() } : request\r\n        );\r\n        setFactoryRequests(updatedRequests);\r\n        alert('Request approved and inventory transferred successfully!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error approving request:', error);\r\n      console.error('Error response:', error.response?.data);\r\n      console.error('Error status:', error.response?.status);\r\n      \r\n      let errorMessage = 'Failed to approve request. Please try again.';\r\n      if (error.response?.data?.message) {\r\n        errorMessage = error.response.data.message;\r\n      } else if (error.response?.status === 401) {\r\n        errorMessage = 'Authentication failed. Please log in again.';\r\n      } else if (error.response?.status === 403) {\r\n        errorMessage = 'Access denied. Factory Manager role required.';\r\n      } else if (error.response?.status === 400) {\r\n        errorMessage = error.response.data.message || 'Invalid request data.';\r\n      }\r\n      \r\n      alert(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handleRejectRequest = async (requestId, reason) => {\r\n    try {\r\n      const response = await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/reject`, {\r\n        rejectionReason: reason\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        // Refresh the factory requests data\r\n        const updatedRequests = factoryRequests.map(request => \r\n          request._id === requestId ? { ...request, status: 'rejected', rejectedAt: new Date(), rejectionReason: reason } : request\r\n        );\r\n        setFactoryRequests(updatedRequests);\r\n        alert('Request rejected successfully!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error rejecting request:', error);\r\n      alert('Failed to reject request. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleFulfillRequest = async (requestId) => {\r\n    try {\r\n      const response = await axios.put(`http://localhost:5000/FactoryRequests/${requestId}/fulfill`, {}, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        // Refresh the factory requests data\r\n        const updatedRequests = factoryRequests.map(request => \r\n          request._id === requestId ? { ...request, status: 'fulfilled', fulfilledAt: new Date() } : request\r\n        );\r\n        setFactoryRequests(updatedRequests);\r\n        alert('Request fulfilled successfully!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fulfilling request:', error);\r\n      alert('Failed to fulfill request. Please try again.');\r\n    }\r\n  };\r\n\r\n  const getPriorityColor = (priority) => {\r\n    switch (priority) {\r\n      case 'Urgent': return 'text-red-600 bg-red-100';\r\n      case 'High': return 'text-orange-600 bg-orange-100';\r\n      case 'Medium': return 'text-yellow-600 bg-yellow-100';\r\n      case 'Low': return 'text-green-600 bg-green-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  const getActivityColor = (type, status) => {\r\n    if (type === 'inventory') {\r\n      if (status === 'critical') return 'text-red-500';\r\n      if (status === 'warning') return 'text-yellow-500';\r\n    }\r\n    return 'text-blue-500';\r\n  };\r\n\r\n  const COLORS = ['#0077B6', '#00B4D8', '#009688', '#FF6B6B', '#4ECDC4', '#FFD93D', '#6BCF7F', '#4D96FF'];\r\n\r\n  const tabs = [\r\n    { id: 'overview', name: 'Overview', icon: 'ðŸ“Š', description: 'Dashboard overview and key metrics' },\r\n    { id: 'orders', name: 'Orders Management', icon: 'ðŸ“‹', description: 'Manage factory orders and production' },\r\n    { id: 'inventory', name: 'Inventory Control', icon: 'ðŸ“¦', description: 'Monitor and control inventory levels' },\r\n    { id: 'recycling', name: 'Recycling Center', icon: 'ðŸŒ±', description: 'Manage recycling operations' },\r\n    { id: 'reports', name: 'Analytics & Reports', icon: 'ðŸ“ˆ', description: 'View detailed reports and analytics' },\r\n    { id: 'settings', name: 'Factory Settings', icon: 'âš™ï¸', description: 'Configure factory settings and preferences' }\r\n  ];\r\n\r\n  const renderOverviewTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Overview</h2>\r\n        <p className=\"text-gray-600\">Monitor factory operations and key metrics</p>\r\n      </div>\r\n      \r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-blue-100\">\r\n              <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Inventory Items</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : inventoryStats?.totalItems || 0} Items\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-green-100\">\r\n              <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Approved Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : (Array.isArray(factoryRequests) ? factoryRequests.filter(req => req.status === 'approved').length : 0)} Requests\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-blue-100\">\r\n              <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Fulfilled Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : (Array.isArray(factoryRequests) ? factoryRequests.filter(req => req.status === 'fulfilled').length : 0)} Requests\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-purple-100\">\r\n              <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Factory Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : (Array.isArray(factoryRequests) ? factoryRequests.filter(req => req.status === 'pending').length : 0)} Pending\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n      {/* Inventory Distribution Chart */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Inventory Distribution</h3>\r\n        <ResponsiveContainer width=\"100%\" height={300}>\r\n          <PieChart>\r\n            <Pie\r\n              data={inventoryData}\r\n              cx=\"50%\"\r\n              cy=\"50%\"\r\n              labelLine={false}\r\n              label={({ name, quantity }) => `${name}: ${quantity}`}\r\n              outerRadius={80}\r\n              fill=\"#8884d8\"\r\n              dataKey=\"quantity\"\r\n            >\r\n              {inventoryData.map((entry, index) => (\r\n                <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n              ))}\r\n            </Pie>\r\n            <Tooltip />\r\n          </PieChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n\r\n      {/* Recent Activities */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Recent Activities</h3>\r\n        <div className=\"space-y-4\">\r\n          {recentActivities.length > 0 ? (\r\n            recentActivities.map((activity, index) => (\r\n              <div key={index} className=\"flex items-center space-x-3\">\r\n                <div className={`w-2 h-2 rounded-full ${getActivityColor(activity.type, activity.status) === 'text-red-500' ? 'bg-red-500' : \r\n                  getActivityColor(activity.type, activity.status) === 'text-yellow-500' ? 'bg-yellow-500' : 'bg-blue-500'}`}></div>\r\n                <span className=\"text-gray-700\">{activity.message}</span>\r\n                <span className=\"text-sm text-gray-500 ml-auto\">\r\n                  {new Date(activity.timestamp).toLocaleDateString()}\r\n                </span>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"text-center py-4\">\r\n              <p className=\"text-gray-500\">No recent activities</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderOrdersTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Orders Management</h2>\r\n        <p className=\"text-gray-600\">Manage and track orders from branches</p>\r\n      </div>\r\n      \r\n\r\n      {/* Factory Requests Section */}\r\n      <div className=\"mt-8\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-semibold text-gray-800\">Factory Requests from Branches</h3>\r\n          <span className=\"text-sm text-gray-500\">\r\n            {Array.isArray(factoryRequests) ? factoryRequests.filter(req => req.status === 'pending').length : 0} pending requests\r\n          </span>\r\n        </div>\r\n        \r\n        {Array.isArray(factoryRequests) && factoryRequests.length > 0 ? (\r\n          <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Request ID\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Branch\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Items Requested\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Requested Date\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Status\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Actions\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {factoryRequests.map((request) => (\r\n                    <tr key={request._id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                        {request._id.slice(-8)}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm text-gray-900\">{request.branchName}</div>\r\n                        <div className=\"text-sm text-gray-500\">ID: {request.branchId}</div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm text-gray-900\">\r\n                          {request.items.map(item => `${item.name} (${item.requestedQuantity} ${item.unit})`).join(', ')}\r\n                        </div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          Total: {request.items.reduce((sum, item) => sum + item.requestedQuantity, 0)} units\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {new Date(request.requestedAt).toLocaleDateString()}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getRequestStatusColor(request.status)}`}>\r\n                          {request.status.charAt(0).toUpperCase() + request.status.slice(1)}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                        <div className=\"flex space-x-2\">\r\n                          {request.status === 'pending' && (\r\n                            <>\r\n                              <button\r\n                                onClick={() => handleApproveRequest(request._id)}\r\n                                className=\"text-green-600 hover:text-green-900 font-medium\"\r\n                              >\r\n                                Approve\r\n                              </button>\r\n                              <button\r\n                                onClick={() => {\r\n                                  const reason = prompt('Enter rejection reason:');\r\n                                  if (reason) handleRejectRequest(request._id, reason);\r\n                                }}\r\n                                className=\"text-red-600 hover:text-red-900 font-medium\"\r\n                              >\r\n                                Reject\r\n                              </button>\r\n                            </>\r\n                          )}\r\n                          {request.status === 'fulfilled' && (\r\n                            <span className=\"text-green-600 font-medium\">\r\n                              âœ“ Completed\r\n                            </span>\r\n                          )}\r\n                          {request.status === 'rejected' && request.rejectionReason && (\r\n                            <span className=\"text-red-500 text-xs\">\r\n                              Reason: {request.rejectionReason}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow-md p-8 text-center\">\r\n            <p className=\"text-gray-500\">No factory requests at the moment</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderInventoryTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Inventory Management</h2>\r\n        <p className=\"text-gray-600\">Monitor and manage factory inventory levels</p>\r\n      </div>\r\n      \r\n      <div className=\"flex justify-between items-center\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800\">Factory Inventory</h3>\r\n        <Link to=\"/inventory\" className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\">\r\n          Manage Inventory\r\n        </Link>\r\n      </div>\r\n      \r\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Item Name\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Quantity\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Last Updated\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {inventoryData.map((item) => (\r\n                <tr key={item._id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm font-medium text-gray-900\">{item.name}</div>\r\n                    {item.supplier && (\r\n                      <div className=\"text-sm text-gray-500\">Supplier: {item.supplier}</div>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm text-gray-900\">{item.quantity} {item.unit}</div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(item.status)}`}>\r\n                      {item.status}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                    {new Date(item.lastUpdated).toLocaleDateString()}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n\r\n  const renderRecyclingTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">ðŸŒ± Recycling Management</h2>\r\n        <p className=\"text-gray-600\">Monitor recycling requests and manage branch bins</p>\r\n      </div>\r\n      \r\n      {/* Recycling Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-green-100\">\r\n              <span className=\"text-2xl\">ðŸŒ±</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : recyclingStats?.totalRequests || 0}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-yellow-100\">\r\n              <span className=\"text-2xl\">â³</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Pending Requests</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : recyclingStats?.pendingRequests || 0}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-blue-100\">\r\n              <span className=\"text-2xl\">ðŸ“Š</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Weight</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : `${recyclingStats?.totalWeight || 0} kg`}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"p-3 rounded-full bg-purple-100\">\r\n              <span className=\"text-2xl\">â­</span>\r\n            </div>\r\n            <div className=\"ml-4\">\r\n              <p className=\"text-sm font-medium text-gray-600\">Total Points</p>\r\n              <p className=\"text-2xl font-semibold text-gray-900\">\r\n                {loading ? '...' : recyclingStats?.totalPoints || 0}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Critical Bins Alert */}\r\n      {recyclingBins.length > 0 && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\r\n          <div className=\"flex items-center mb-4\">\r\n            <div className=\"flex-shrink-0\">\r\n              <span className=\"text-2xl\">ðŸš¨</span>\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <h3 className=\"text-lg font-medium text-red-800\">Critical Bin Alerts</h3>\r\n              <p className=\"text-sm text-red-600\">\r\n                {recyclingBins.length} branch{recyclingBins.length > 1 ? 'es' : ''} have recycling bins that are 90%+ full\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {recyclingBins.map((bin) => (\r\n              <div key={bin._id} className=\"bg-white border border-red-200 rounded-lg p-4\">\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                  <div>\r\n                    <h4 className=\"font-medium text-red-900\">{bin.branchName}</h4>\r\n                    <p className=\"text-sm text-red-600\">{bin.location}</p>\r\n                  </div>\r\n                  <span className=\"text-sm font-medium text-red-800\">\r\n                    {bin.fillPercentage.toFixed(1)}%\r\n                  </span>\r\n                </div>\r\n                <div className=\"text-sm text-red-700\">\r\n                  <p>Current: {bin.currentLevel} kg</p>\r\n                  <p>Capacity: {bin.capacity} kg</p>\r\n                </div>\r\n                <button \r\n                  onClick={() => handleEmptyBin(bin._id)}\r\n                  className=\"mt-3 w-full bg-red-600 text-white px-3 py-2 rounded-md hover:bg-red-700 text-sm\"\r\n                >\r\n                  Empty Bin\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Pending Recycling Requests */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-800\">Pending Recycling Requests</h3>\r\n          <span className=\"text-sm text-gray-500\">\r\n            {recyclingRequests.length} pending request{recyclingRequests.length !== 1 ? 's' : ''}\r\n          </span>\r\n        </div>\r\n        \r\n        {recyclingRequests.length > 0 ? (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Request ID\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Customer\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Branch\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Weight\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Points\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Date\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Actions\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {recyclingRequests.map((request) => (\r\n                  <tr key={request._id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      {request.requestId}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-900\">{request.customerName}</div>\r\n                      <div className=\"text-sm text-gray-500\">{request.customerEmail}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-900\">{request.branchName}</div>\r\n                      <div className=\"text-sm text-gray-500\">{request.branchLocation}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {request.wasteWeight} kg\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {request.pointsEarned} pts\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {new Date(request.requestDate).toLocaleDateString()}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      <button \r\n                        onClick={() => handleCompleteRequest(request._id)}\r\n                        className=\"text-green-600 hover:text-green-900 mr-3\"\r\n                      >\r\n                        Complete\r\n                      </button>\r\n                      <button \r\n                        onClick={() => handleViewRequest(request)}\r\n                        className=\"text-blue-600 hover:text-blue-900\"\r\n                      >\r\n                        View\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-8\">\r\n            <div className=\"text-4xl mb-2\">ðŸŒ±</div>\r\n            <p className=\"text-gray-500\">No pending recycling requests</p>\r\n            <p className=\"text-sm text-gray-400\">All requests have been processed</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Quick Actions</h4>\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          <button \r\n            onClick={() => window.location.reload()}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\"\r\n          >\r\n            Refresh Data\r\n          </button>\r\n          <button \r\n            onClick={() => handleViewAllRequests()}\r\n            className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\"\r\n          >\r\n            View All Requests\r\n          </button>\r\n          <button \r\n            onClick={() => handleGenerateRecyclingReport()}\r\n            className=\"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors\"\r\n          >\r\n            Generate Report\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderReportsTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Reports & Analytics</h2>\r\n        <p className=\"text-gray-600\">Generate reports and view analytics</p>\r\n      </div>\r\n      \r\n      <h3 className=\"text-lg font-semibold text-gray-800\">Analytics Dashboard</h3>\r\n      \r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Order Statistics</h4>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <BarChart data={[\r\n              { name: 'Total', value: orderStats?.totalOrders || 0 },\r\n              { name: 'Pending', value: orderStats?.pendingOrders || 0 },\r\n              { name: 'Processing', value: orderStats?.processingOrders || 0 },\r\n              { name: 'Urgent', value: orderStats?.urgentOrders || 0 },\r\n              { name: 'High Priority', value: orderStats?.highPriorityOrders || 0 }\r\n            ]}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\r\n              <XAxis \r\n                dataKey=\"name\" \r\n                stroke=\"#666\"\r\n                fontSize={12}\r\n                tickLine={false}\r\n                axisLine={false}\r\n              />\r\n              <YAxis \r\n                stroke=\"#666\"\r\n                fontSize={12}\r\n                tickLine={false}\r\n                axisLine={false}\r\n              />\r\n              <Tooltip \r\n                contentStyle={{\r\n                  backgroundColor: 'white',\r\n                  border: '1px solid #e5e7eb',\r\n                  borderRadius: '8px',\r\n                  boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\r\n                }}\r\n                formatter={(value) => [`${value} orders`, 'Count']}\r\n              />\r\n              <Bar dataKey=\"value\" fill=\"#0077B6\" radius={[4, 4, 0, 0]} />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Inventory Status</h4>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <PieChart>\r\n              <Pie\r\n                data={[\r\n                  { name: 'In Stock', value: inventoryStats?.inStockItems || 0, color: '#10B981' },\r\n                  { name: 'Low Stock', value: inventoryStats?.lowStockItems || 0, color: '#F59E0B' },\r\n                  { name: 'Out of Stock', value: inventoryStats?.outOfStockItems || 0, color: '#EF4444' }\r\n                ]}\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                labelLine={false}\r\n                label={({ name, value, percent }) => `${name}: ${value} (${(percent * 100).toFixed(0)}%)`}\r\n                outerRadius={80}\r\n                fill=\"#8884d8\"\r\n                dataKey=\"value\"\r\n              >\r\n                {[\r\n                  { name: 'In Stock', value: inventoryStats?.inStockItems || 0, color: '#10B981' },\r\n                  { name: 'Low Stock', value: inventoryStats?.lowStockItems || 0, color: '#F59E0B' },\r\n                  { name: 'Out of Stock', value: inventoryStats?.outOfStockItems || 0, color: '#EF4444' }\r\n                ].map((entry, index) => (\r\n                  <Cell key={`cell-${index}`} fill={entry.color} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip \r\n                contentStyle={{\r\n                  backgroundColor: 'white',\r\n                  border: '1px solid #e5e7eb',\r\n                  borderRadius: '8px',\r\n                  boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\r\n                }}\r\n                formatter={(value, name) => [`${value} items`, name]}\r\n              />\r\n              <Legend \r\n                wrapperStyle={{ paddingTop: '20px' }}\r\n                iconType=\"circle\"\r\n              />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Monthly Recycling vs Production Comparison Chart */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Monthly Recycling vs Production Comparison</h4>\r\n        <p className=\"text-sm text-gray-600 mb-4\">Track the relationship between production output and recycling efficiency throughout the year</p>\r\n        <ResponsiveContainer width=\"100%\" height={400}>\r\n          <LineChart data={monthlyData}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\r\n            <XAxis \r\n              dataKey=\"month\" \r\n              stroke=\"#666\"\r\n              fontSize={12}\r\n              tickLine={false}\r\n              axisLine={false}\r\n            />\r\n            <YAxis \r\n              stroke=\"#666\"\r\n              fontSize={12}\r\n              tickLine={false}\r\n              axisLine={false}\r\n              label={{ value: 'Units', angle: -90, position: 'insideLeft' }}\r\n            />\r\n            <Tooltip \r\n              contentStyle={{\r\n                backgroundColor: 'white',\r\n                border: '1px solid #e5e7eb',\r\n                borderRadius: '8px',\r\n                boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\r\n              }}\r\n              formatter={(value, name) => [\r\n                `${value} units`, \r\n                name === 'production' ? 'Production' : name === 'recycling' ? 'Recycling' : 'Efficiency %'\r\n              ]}\r\n              labelFormatter={(label) => `Month: ${label}`}\r\n            />\r\n            <Legend \r\n              wrapperStyle={{ paddingTop: '20px' }}\r\n              iconType=\"line\"\r\n            />\r\n            <Line \r\n              type=\"monotone\" \r\n              dataKey=\"production\" \r\n              stroke=\"#0077B6\" \r\n              strokeWidth={3}\r\n              dot={{ fill: '#0077B6', strokeWidth: 2, r: 4 }}\r\n              activeDot={{ r: 6, stroke: '#0077B6', strokeWidth: 2 }}\r\n              name=\"Production Output\"\r\n            />\r\n            <Line \r\n              type=\"monotone\" \r\n              dataKey=\"recycling\" \r\n              stroke=\"#00B4D8\" \r\n              strokeWidth={3}\r\n              dot={{ fill: '#00B4D8', strokeWidth: 2, r: 4 }}\r\n              activeDot={{ r: 6, stroke: '#00B4D8', strokeWidth: 2 }}\r\n              name=\"Recycling Volume\"\r\n            />\r\n            <Line \r\n              type=\"monotone\" \r\n              dataKey=\"efficiency\" \r\n              stroke=\"#10B981\" \r\n              strokeWidth={2}\r\n              strokeDasharray=\"5 5\"\r\n              dot={{ fill: '#10B981', strokeWidth: 2, r: 3 }}\r\n              activeDot={{ r: 5, stroke: '#10B981', strokeWidth: 2 }}\r\n              name=\"Recycling Efficiency %\"\r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n        \r\n        {/* Chart Insights */}\r\n        <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"bg-blue-50 rounded-lg p-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"w-3 h-3 bg-blue-500 rounded-full\"></div>\r\n              <span className=\"text-sm font-medium text-blue-800\">Production Trend</span>\r\n            </div>\r\n            <p className=\"text-xs text-blue-600 mt-1\">\r\n              {monthlyData.length > 0 \r\n                ? `Peak production in ${monthlyData.reduce((max, item) => item.production > max.production ? item : max, monthlyData[0]).month} (${Math.max(...monthlyData.map(d => d.production))} units)`\r\n                : 'Loading production data...'\r\n              }\r\n            </p>\r\n          </div>\r\n          <div className=\"bg-cyan-50 rounded-lg p-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"w-3 h-3 bg-cyan-500 rounded-full\"></div>\r\n              <span className=\"text-sm font-medium text-cyan-800\">Recycling Trend</span>\r\n            </div>\r\n            <p className=\"text-xs text-cyan-600 mt-1\">\r\n              {monthlyData.length > 0 \r\n                ? `Highest recycling in ${monthlyData.reduce((max, item) => item.recycling > max.recycling ? item : max, monthlyData[0]).month} (${Math.max(...monthlyData.map(d => d.recycling))} units)`\r\n                : 'Loading recycling data...'\r\n              }\r\n            </p>\r\n          </div>\r\n          <div className=\"bg-green-50 rounded-lg p-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\r\n              <span className=\"text-sm font-medium text-green-800\">Efficiency Trend</span>\r\n            </div>\r\n            <p className=\"text-xs text-green-600 mt-1\">\r\n              {monthlyData.length > 0 \r\n                ? `Best efficiency in ${monthlyData.reduce((max, item) => item.efficiency > max.efficiency ? item : max, monthlyData[0]).month} (${Math.max(...monthlyData.map(d => d.efficiency)).toFixed(1)}%)`\r\n                : 'Loading efficiency data...'\r\n              }\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recycling Statistics Chart */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Recycling Statistics</h4>\r\n        <p className=\"text-sm text-gray-600 mb-4\">Track recycling request status and performance metrics</p>\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          <div>\r\n            <h5 className=\"text-sm font-medium text-gray-700 mb-3\">Recycling Request Status</h5>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={[\r\n                    { name: 'Completed', value: recyclingStats?.completedRequests || 0, color: '#10B981' },\r\n                    { name: 'Pending', value: recyclingStats?.pendingRequests || 0, color: '#F59E0B' },\r\n                    { name: 'Approved', value: recyclingStats?.approvedRequests || 0, color: '#3B82F6' },\r\n                    { name: 'Rejected', value: recyclingStats?.rejectedRequests || 0, color: '#EF4444' }\r\n                  ]}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  labelLine={false}\r\n                  label={({ name, value, percent }) => `${name}: ${value}`}\r\n                  outerRadius={70}\r\n                  fill=\"#8884d8\"\r\n                  dataKey=\"value\"\r\n                >\r\n                  {[\r\n                    { name: 'Completed', value: recyclingStats?.completedRequests || 0, color: '#10B981' },\r\n                    { name: 'Pending', value: recyclingStats?.pendingRequests || 0, color: '#F59E0B' },\r\n                    { name: 'Approved', value: recyclingStats?.approvedRequests || 0, color: '#3B82F6' },\r\n                    { name: 'Rejected', value: recyclingStats?.rejectedRequests || 0, color: '#EF4444' }\r\n                  ].map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={entry.color} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip \r\n                  contentStyle={{\r\n                    backgroundColor: 'white',\r\n                    border: '1px solid #e5e7eb',\r\n                    borderRadius: '8px',\r\n                    boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\r\n                  }}\r\n                  formatter={(value, name) => [`${value} requests`, name]}\r\n                />\r\n                <Legend \r\n                  wrapperStyle={{ paddingTop: '20px' }}\r\n                  iconType=\"circle\"\r\n                />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n          <div>\r\n            <h5 className=\"text-sm font-medium text-gray-700 mb-3\">Recycling Performance Metrics</h5>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex justify-between items-center p-3 bg-green-50 rounded-lg\">\r\n                <span className=\"text-sm font-medium text-green-800\">Total Requests</span>\r\n                <span className=\"text-lg font-bold text-green-900\">{recyclingStats?.totalRequests || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center p-3 bg-blue-50 rounded-lg\">\r\n                <span className=\"text-sm font-medium text-blue-800\">Total Weight Recycled</span>\r\n                <span className=\"text-lg font-bold text-blue-900\">{recyclingStats?.totalWeight || 0} kg</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center p-3 bg-purple-50 rounded-lg\">\r\n                <span className=\"text-sm font-medium text-purple-800\">Total Points Awarded</span>\r\n                <span className=\"text-lg font-bold text-purple-900\">{recyclingStats?.totalPoints || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center p-3 bg-orange-50 rounded-lg\">\r\n                <span className=\"text-sm font-medium text-orange-800\">Completion Rate</span>\r\n                <span className=\"text-lg font-bold text-orange-900\">\r\n                  {recyclingStats?.totalRequests > 0 \r\n                    ? ((recyclingStats?.completedRequests / recyclingStats?.totalRequests) * 100).toFixed(1)\r\n                    : 0\r\n                  }%\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Generate Reports</h4>\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          <button className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\">\r\n            Inventory Report\r\n          </button>\r\n          <button className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors\">\r\n            Order Report\r\n          </button>\r\n          <button className=\"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 transition-colors\">\r\n            Production Report\r\n          </button>\r\n          <button className=\"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors\">\r\n            Recycling Report\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderSettingsTab = () => (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Title */}\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Factory Settings</h2>\r\n        <p className=\"text-gray-600\">Configure factory settings and preferences</p>\r\n      </div>\r\n      \r\n      <h3 className=\"text-lg font-semibold text-gray-800\">Configuration</h3>\r\n      \r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Factory Information</h4>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Factory Name</label>\r\n              <input type=\"text\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"RO Filter Factory\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Location</label>\r\n              <input type=\"text\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"Colombo, Sri Lanka\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Contact Email</label>\r\n              <input type=\"email\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"factory@aqualink.com\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Inventory Settings</h4>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Default Min Stock Level</label>\r\n              <input type=\"number\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"10\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Default Max Stock Level</label>\r\n              <input type=\"number\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"100\" />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">Auto-reorder Threshold</label>\r\n              <input type=\"number\" className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\" defaultValue=\"20\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h4 className=\"text-md font-semibold text-gray-800 mb-4\">Quick Actions</h4>\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          <button className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors\">\r\n            Save Settings\r\n          </button>\r\n          <button className=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors\">\r\n            Reset to Default\r\n          </button>\r\n          <button className=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors\">\r\n            Export Configuration\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Creative Logout Section */}\r\n      <div className=\"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-lg shadow-md p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h4 className=\"text-lg font-semibold text-red-800 mb-2\">ðŸ­ Factory Session Management</h4>\r\n            <p className=\"text-red-600 text-sm\">Securely exit the Factory Command Center when your work is complete</p>\r\n          </div>\r\n          <div className=\"flex flex-col space-y-2\">\r\n            <button \r\n              onClick={handleCreativeLogout}\r\n              className=\"group relative overflow-hidden bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-3 rounded-lg font-semibold hover:from-red-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl\"\r\n            >\r\n              <span className=\"relative z-10 flex items-center space-x-2\">\r\n                <span className=\"group-hover:animate-bounce\">ðŸšª</span>\r\n                <span>Secure Logout</span>\r\n              </span>\r\n              <div className=\"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\r\n            </button>\r\n            <button \r\n              onClick={() => {\r\n                if (window.confirm('âš ï¸ This will close all factory operations. Continue?')) {\r\n                  handleCreativeLogout();\r\n                }\r\n              }}\r\n              className=\"text-xs text-red-600 hover:text-red-800 underline\"\r\n            >\r\n              Emergency Shutdown\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const handleEmptyBin = async (binId) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/RecyclingBins/${binId}/empty`);\r\n      alert('Bin emptied successfully!');\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error('Error emptying bin:', error);\r\n      alert('Error emptying bin. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleCompleteRequest = async (requestId) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/RecyclingRequests/${requestId}/complete`);\r\n      alert('Request completed successfully!');\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error('Error completing request:', error);\r\n      alert('Error completing request. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleViewRequest = (request) => {\r\n    // Implement detailed view modal\r\n    console.log('Viewing request:', request);\r\n  };\r\n\r\n  const handleViewAllRequests = () => {\r\n    // Navigate to full requests page\r\n    console.log('Viewing all requests');\r\n  };\r\n\r\n  const handleGenerateRecyclingReport = () => {\r\n    // Generate and download recycling report\r\n    console.log('Generating recycling report');\r\n  };\r\n\r\n  const renderTabContent = () => {\r\n    switch (activeTab) {\r\n      case 'overview':\r\n        return renderOverviewTab();\r\n      case 'orders':\r\n        return renderOrdersTab();\r\n      case 'inventory':\r\n        return renderInventoryTab();\r\n      case 'recycling':\r\n        return renderRecyclingTab();\r\n      case 'reports':\r\n        return renderReportsTab();\r\n      case 'settings':\r\n        return renderSettingsTab();\r\n      default:\r\n        return renderOverviewTab();\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <div className=\"flex items-center justify-center h-64\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header with integrated navigation */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          {/* Top header */}\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center py-4 gap-4\">\r\n            <div>\r\n              <div className=\"flex items-center space-x-2 mb-1\">\r\n                <span className=\"text-2xl\">ðŸ­</span>\r\n                <h1 className=\"text-2xl font-bold text-blue-600\">\r\n                  Factory Manager Dashboard\r\n                </h1>\r\n              </div>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Welcome back, {user?.name || 'Factory Manager'} â€¢ {new Date().toLocaleDateString()}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\r\n                <span className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></span>\r\n                <span>System Online</span>\r\n              </div>\r\n              {/* Creative Logout Button */}\r\n              <button \r\n                onClick={handleCreativeLogout}\r\n                className=\"group relative overflow-hidden bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-2 rounded-lg font-semibold text-sm hover:from-red-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl\"\r\n              >\r\n                <span className=\"relative z-10 flex items-center space-x-2\">\r\n                  <span>ðŸšª</span>\r\n                  <span>Exit Factory</span>\r\n                </span>\r\n                <div className=\"absolute inset-0 bg-gradient-to-r from-red-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Main navigation tabs */}\r\n          <nav className=\"flex flex-wrap gap-2\" aria-label=\"Tabs\">\r\n            {tabs.map((tab) => (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`flex items-center py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200 ${\r\n                  activeTab === tab.id\r\n                    ? 'bg-blue-50 text-blue-700 border-2 border-blue-200 shadow-sm'\r\n                    : 'text-gray-600 hover:text-gray-800 hover:bg-gray-50 border-2 border-transparent'\r\n                }`}\r\n              >\r\n                <span className=\"mr-2 text-lg\">{tab.icon}</span>\r\n                <span className=\"hidden sm:inline\">{tab.name}</span>\r\n                <span className=\"sm:hidden\">{tab.name.split(' ')[0]}</span>\r\n              </button>\r\n            ))}\r\n          </nav>\r\n          \r\n          {/* Tab Descriptions and Quick Actions */}\r\n          <div className=\"py-3 border-t border-gray-200\">\r\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3\">\r\n              <p className=\"text-sm text-gray-600\">\r\n                {tabs.find(tab => tab.id === activeTab)?.description || 'Select a tab to manage factory operations'}\r\n              </p>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                <button \r\n                  onClick={handleRefreshData}\r\n                  className=\"text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full hover:bg-blue-100 transition-colors duration-200\"\r\n                >\r\n                  ðŸ”„ Refresh Data\r\n                </button>\r\n                <button \r\n                  onClick={() => setShowAddProductForm(true)}\r\n                  className=\"text-xs bg-green-50 text-green-700 px-3 py-1 rounded-full hover:bg-green-100 transition-colors duration-200\"\r\n                >\r\n                  âž• Add Product\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Main content area */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Breadcrumb Navigation */}\r\n        <div className=\"mb-6\">\r\n          <nav className=\"flex items-center space-x-2 text-sm text-gray-500\">\r\n            <span>ðŸ­</span>\r\n            <span>Factory Manager</span>\r\n            <span>â€º</span>\r\n            <span className=\"text-blue-600 font-medium\">\r\n              {tabs.find(tab => tab.id === activeTab)?.name || 'Overview'}\r\n            </span>\r\n          </nav>\r\n        </div>\r\n        \r\n        {/* Tab Content */}\r\n        {renderTabContent()}\r\n      </div>\r\n\r\n      {/* Add Product Form Modal */}\r\n      {showAddProductForm && (\r\n        <AddProductForm\r\n          onProductAdded={handleProductAdded}\r\n          onClose={handleCloseAddProductForm}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FactoryDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}