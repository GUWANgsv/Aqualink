{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BranchRecycleBin(_ref){let{branchId,branchName}=_ref;const[bin,setBin]=useState(null);const[loading,setLoading]=useState(true);const[showUpdateModal,setShowUpdateModal]=useState(false);const[formErrors,setFormErrors]=useState({});const[formData,setFormData]=useState({currentLevel:'',notes:''});// New state for recycling requests\nconst[recyclingRequests,setRecyclingRequests]=useState([]);const[requestsLoading,setRequestsLoading]=useState(true);const[approvalLoading,setApprovalLoading]=useState(false);const[notification,setNotification]=useState(null);useEffect(()=>{fetchBin();fetchRecyclingRequests();},[]);const fetchBin=async()=>{try{setLoading(true);console.log('🔍 Fetching recycling bin for branch:',branchId);const token=localStorage.getItem('token');if(!token){console.error('❌ No authentication token found');return;}// If branchId is the default fallback, try to get all bins and find the first one\nlet response;if(branchId==='BRANCH001'){console.log('⚠️  Using fallback branchId, fetching all bins');response=await axios.get(`http://localhost:5000/RecyclingBins`,{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});}else{response=await axios.get(`http://localhost:5000/RecyclingBins/branch/${branchId}`,{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});}const bins=response.data.bins||[];console.log('✅ Recycling bin response:',response.data);console.log('📊 Bin data received:',bins.length>0?{binId:bins[0].binId,currentLevel:bins[0].currentLevel,capacity:bins[0].capacity,fillPercentage:bins[0].fillPercentage,status:bins[0].status}:'No bins');if(bins.length===0){console.log('⚠️  No recycling bin found for this branch');setBin(null);}else{// Use the first (and only) bin\nsetBin(bins[0]);console.log('✅ Using bin:',bins[0].binId,'with level:',bins[0].currentLevel+'kg/'+bins[0].capacity+'kg');}}catch(error){console.error('❌ Error fetching recycling bin:',error);if(error.response){console.error('Response status:',error.response.status);console.error('Response data:',error.response.data);}setBin(null);}finally{setLoading(false);}};const fetchRecyclingRequests=async()=>{try{setRequestsLoading(true);console.log('🔍 Fetching recycling requests for branch:',branchId);const token=localStorage.getItem('token');if(!token){console.error('❌ No authentication token found');return;}// If branchId is the default fallback, try to get all requests\nlet response;if(branchId==='BRANCH001'){console.log('⚠️  Using fallback branchId, fetching all requests');response=await axios.get(`http://localhost:5000/RecyclingRequests`,{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});}else{response=await axios.get(`http://localhost:5000/RecyclingRequests/branch/${branchId}`,{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});}console.log('✅ Recycling requests response:',response.data);setRecyclingRequests(response.data.requests||[]);}catch(error){console.error('❌ Error fetching recycling requests:',error);if(error.response){console.error('Response status:',error.response.status);console.error('Response data:',error.response.data);}setRecyclingRequests([]);}finally{setRequestsLoading(false);}};const handleApproveRequest=async requestId=>{try{setApprovalLoading(true);console.log('🔄 Approving recycling request:',requestId);const token=localStorage.getItem('token');if(!token){console.error('❌ No authentication token found');return;}const response=await axios.put(`http://localhost:5000/RecyclingRequests/${requestId}/approve`,{},{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});console.log('✅ Approval API response:',response.data);// Force refresh both bin and requests data with a small delay\nsetTimeout(async()=>{console.log('🔄 Refreshing bin and requests data...');await Promise.all([fetchBin(),fetchRecyclingRequests()]);console.log('✅ Data refreshed successfully');},500);// Show success message\nshowNotification('Recycling request approved successfully! The bin has been updated.','success');console.log('✅ Recycling request approved successfully');}catch(error){console.error('❌ Error approving recycling request:',error);if(error.response){console.error('Response status:',error.response.status);console.error('Response data:',error.response.data);}showNotification('Failed to approve recycling request. Please try again.','error');}finally{setApprovalLoading(false);}};const handleRejectRequest=async requestId=>{try{setApprovalLoading(true);console.log('🔄 Rejecting recycling request:',requestId);const token=localStorage.getItem('token');if(!token){console.error('❌ No authentication token found');return;}await axios.put(`http://localhost:5000/RecyclingRequests/${requestId}/reject`,{},{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'}});// Refresh requests data\nawait fetchRecyclingRequests();showNotification('Recycling request rejected successfully.','success');console.log('✅ Recycling request rejected successfully');}catch(error){console.error('❌ Error rejecting recycling request:',error);if(error.response){console.error('Response status:',error.response.status);console.error('Response data:',error.response.data);}showNotification('Failed to reject recycling request. Please try again.','error');}finally{setApprovalLoading(false);}};const validateForm=()=>{const errors={};if(!formData.currentLevel||formData.currentLevel<0){errors.currentLevel='Current level must be a non-negative number';}if(parseInt(formData.currentLevel)>100){errors.currentLevel='Current level cannot exceed 100kg capacity';}setFormErrors(errors);return Object.keys(errors).length===0;};const handleUpdate=async e=>{e.preventDefault();try{const binData={notes:formData.notes};await axios.put(`http://localhost:5000/RecyclingBins/${bin._id}`,binData);setShowUpdateModal(false);resetForm();fetchBin();}catch(error){console.error('Error updating bin notes:',error);}};const resetForm=()=>{setFormData({currentLevel:'',notes:''});setFormErrors({});};const openUpdateModal=()=>{setFormData({currentLevel:bin.currentLevel.toString(),notes:bin.notes||''});setShowUpdateModal(true);};const emptyBin=async()=>{try{await axios.put(`http://localhost:5000/RecyclingBins/${bin._id}/empty`);fetchBin();}catch(error){console.error('Error emptying bin:',error);}};const notifyFactory=async()=>{try{await axios.put(`http://localhost:5000/RecyclingBins/${bin._id}/notify`);fetchBin();}catch(error){console.error('Error notifying factory:',error);}};const getStatusColor=status=>{switch(status){case'Empty':return'bg-green-100 text-green-800';case'Low':return'bg-blue-100 text-blue-800';case'Medium':return'bg-yellow-100 text-yellow-800';case'High':return'bg-orange-100 text-orange-800';case'Critical':return'bg-red-100 text-red-800';default:return'bg-gray-100 text-gray-800';}};const getFillLevelColor=percentage=>{if(percentage>=80)return'text-red-600';if(percentage>=60)return'text-orange-600';if(percentage>=40)return'text-yellow-600';if(percentage>=20)return'text-blue-600';return'text-green-600';};const getProgressBarColor=percentage=>{if(percentage>=80)return'bg-red-500';if(percentage>=60)return'bg-orange-500';if(percentage>=40)return'bg-yellow-500';if(percentage>=20)return'bg-blue-500';return'bg-green-500';};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const showNotification=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';setNotification({message,type});setTimeout(()=>setNotification(null),5000);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"})});}if(!bin){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No recycling bin found for this branch.\"})});}return/*#__PURE__*/_jsxs(\"div\",{children:[notification&&/*#__PURE__*/_jsx(\"div\",{className:`mb-4 p-4 rounded-lg ${notification.type==='success'?'bg-green-100 border border-green-400 text-green-700':'bg-red-100 border border-red-400 text-red-700'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:notification.type==='success'?'✅':'❌'}),notification.message]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Branch Recycling Bin\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Branch: \",branchName]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>Promise.all([fetchBin(),fetchRecyclingRequests()]),disabled:loading||requestsLoading,className:\"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200 transition-colors disabled:opacity-50\",children:loading||requestsLoading?'🔄 Refreshing...':'🔄 Refresh All'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-semibold text-gray-900\",children:bin.binId}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600\",children:bin.location})]}),/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-3 py-2 text-sm font-semibold rounded-full ${getStatusColor(bin.status)}`,children:bin.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-lg mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700 font-medium\",children:\"Fill Level\"}),/*#__PURE__*/_jsxs(\"span\",{className:`font-bold text-xl ${getFillLevelColor(bin.fillPercentage)}`,children:[bin.fillPercentage.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-4\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-4 rounded-full transition-all duration-300 ${getProgressBarColor(bin.fillPercentage)}`,style:{width:`${bin.fillPercentage}%`}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-8 text-center mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm font-medium\",children:\"Capacity\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:[bin.capacity,\" kg\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm font-medium\",children:\"Current Level\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-green-600\",children:[bin.currentLevel,\" kg\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83C\\uDF31\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-800\",children:\"Recycling Status\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:bin.fillPercentage>=80?'Critical: Bin is nearly full. Factory has been notified.':bin.fillPercentage>=60?'High: Bin is getting full. Monitor closely.':bin.fillPercentage>=40?'Medium: Bin is moderately filled.':bin.fillPercentage>=20?'Low: Bin has some capacity remaining.':'Empty: Bin is ready for recycling.'})]})]})}),bin.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 font-medium mb-2\",children:\"Notes:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:bin.notes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:openUpdateModal,className:\"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\",children:\"Update Notes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:emptyBin,className:\"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors\",children:\"Empty Bin\"}),bin.fillPercentage>=80&&!bin.isNotified&&/*#__PURE__*/_jsx(\"button\",{onClick:notifyFactory,className:\"flex-1 bg-red-600 text-white px-4 py-3 rounded-lg text-sm font-medium hover:bg-red-700 transition-colors\",children:\"Notify Factory\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 mr-2\",children:\"\\u2139\\uFE0F\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Bin filling happens automatically when customers submit recycling requests. Branch managers can only monitor and manage the bin status.\"]})]})}),bin.isNotified&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-600 mr-2\",children:\"\\uD83D\\uDD14\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-orange-800 font-medium\",children:\"Factory has been notified about this bin\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 text-center\",children:[\"Last updated: \",new Date(bin.updatedAt).toLocaleString()]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 max-w-6xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:\"Customer Recycling Requests\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchRecyclingRequests,disabled:requestsLoading,className:\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors disabled:opacity-50\",children:requestsLoading?'Refreshing...':'🔄 Refresh'})]}),requestsLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"})}):recyclingRequests.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No recycling requests found for this branch.\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Waste Weight\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Points Earned\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Request Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:recyclingRequests.map(request=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:request.customerName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:request.customerEmail})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-900 font-medium\",children:[request.wasteWeight,\" kg\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-900\",children:[request.pointsEarned,\" points\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:formatDate(request.requestDate)})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(request.status)}`,children:request.status})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:[request.status==='Pending'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveRequest(request._id),disabled:approvalLoading,className:\"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors disabled:opacity-50\",children:approvalLoading?'Processing...':'✅ Approve'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRejectRequest(request._id),disabled:approvalLoading,className:\"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors disabled:opacity-50\",children:approvalLoading?'Processing...':'❌ Reject'})]}),request.status==='Approved'&&/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-medium\",children:\"\\u2713 Approved\"}),request.status==='Rejected'&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-600 font-medium\",children:\"\\u2717 Rejected\"}),request.status==='Completed'&&/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600 font-medium\",children:\"\\u2713 Completed\"})]})]},request._id))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 mr-2\",children:\"\\uD83D\\uDCA1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-green-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"How it works:\"}),\" When you approve a recycling request, the waste weight is automatically added to the bin's current level. The bin will fill up based on the total weight of approved requests.\"]})]})})]})}),showUpdateModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Update Bin Notes\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Bin ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:bin.binId,disabled:true,className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:bin.location,disabled:true,className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Capacity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:`${bin.capacity} kg`,disabled:true,className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Current Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:`${bin.currentLevel} kg (${bin.fillPercentage.toFixed(1)}%)`,disabled:true,className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Level is automatically updated when customers submit recycling requests\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.notes,onChange:e=>setFormData({...formData,notes:e.target.value}),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\",rows:\"3\",placeholder:\"Optional notes about this bin\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowUpdateModal(false);resetForm();},className:\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",children:\"Update Notes\"})]})]})]})})})]});}export default BranchRecycleBin;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","BranchRecycleBin","_ref","branchId","branchName","bin","setBin","loading","setLoading","showUpdateModal","setShowUpdateModal","formErrors","setFormErrors","formData","setFormData","currentLevel","notes","recyclingRequests","setRecyclingRequests","requestsLoading","setRequestsLoading","approvalLoading","setApprovalLoading","notification","setNotification","fetchBin","fetchRecyclingRequests","console","log","token","localStorage","getItem","error","response","get","headers","bins","data","length","binId","capacity","fillPercentage","status","requests","handleApproveRequest","requestId","put","setTimeout","Promise","all","showNotification","handleRejectRequest","validateForm","errors","parseInt","Object","keys","handleUpdate","e","preventDefault","binData","_id","resetForm","openUpdateModal","toString","emptyBin","notifyFactory","getStatusColor","getFillLevelColor","percentage","getProgressBarColor","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","message","type","arguments","undefined","className","children","onClick","disabled","location","toFixed","style","width","isNotified","updatedAt","toLocaleString","map","request","customerName","customerEmail","wasteWeight","pointsEarned","requestDate","onSubmit","value","onChange","target","rows","placeholder"],"sources":["E:/Y2S2/Project/frontend/src/Components/BranchManager/BranchRecycleBin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction BranchRecycleBin({ branchId, branchName }) {\r\n  const [bin, setBin] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [formData, setFormData] = useState({\r\n    currentLevel: '',\r\n    notes: ''\r\n  });\r\n  \r\n  // New state for recycling requests\r\n  const [recyclingRequests, setRecyclingRequests] = useState([]);\r\n  const [requestsLoading, setRequestsLoading] = useState(true);\r\n  const [approvalLoading, setApprovalLoading] = useState(false);\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchBin();\r\n    fetchRecyclingRequests();\r\n  }, []);\r\n\r\n  const fetchBin = async () => {\r\n    try {\r\n      setLoading(true);\r\n      console.log('🔍 Fetching recycling bin for branch:', branchId);\r\n      \r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.error('❌ No authentication token found');\r\n        return;\r\n      }\r\n      \r\n      // If branchId is the default fallback, try to get all bins and find the first one\r\n      let response;\r\n      if (branchId === 'BRANCH001') {\r\n        console.log('⚠️  Using fallback branchId, fetching all bins');\r\n        response = await axios.get(`http://localhost:5000/RecyclingBins`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n      } else {\r\n        response = await axios.get(`http://localhost:5000/RecyclingBins/branch/${branchId}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n      }\r\n      \r\n      const bins = response.data.bins || [];\r\n      console.log('✅ Recycling bin response:', response.data);\r\n      console.log('📊 Bin data received:', bins.length > 0 ? {\r\n        binId: bins[0].binId,\r\n        currentLevel: bins[0].currentLevel,\r\n        capacity: bins[0].capacity,\r\n        fillPercentage: bins[0].fillPercentage,\r\n        status: bins[0].status\r\n      } : 'No bins');\r\n      \r\n      if (bins.length === 0) {\r\n        console.log('⚠️  No recycling bin found for this branch');\r\n        setBin(null);\r\n      } else {\r\n        // Use the first (and only) bin\r\n        setBin(bins[0]);\r\n        console.log('✅ Using bin:', bins[0].binId, 'with level:', bins[0].currentLevel + 'kg/' + bins[0].capacity + 'kg');\r\n      }\r\n    } catch (error) {\r\n      console.error('❌ Error fetching recycling bin:', error);\r\n      if (error.response) {\r\n        console.error('Response status:', error.response.status);\r\n        console.error('Response data:', error.response.data);\r\n      }\r\n      setBin(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchRecyclingRequests = async () => {\r\n    try {\r\n      setRequestsLoading(true);\r\n      console.log('🔍 Fetching recycling requests for branch:', branchId);\r\n      \r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.error('❌ No authentication token found');\r\n        return;\r\n      }\r\n      \r\n      // If branchId is the default fallback, try to get all requests\r\n      let response;\r\n      if (branchId === 'BRANCH001') {\r\n        console.log('⚠️  Using fallback branchId, fetching all requests');\r\n        response = await axios.get(`http://localhost:5000/RecyclingRequests`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n      } else {\r\n        response = await axios.get(`http://localhost:5000/RecyclingRequests/branch/${branchId}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n      }\r\n      \r\n      console.log('✅ Recycling requests response:', response.data);\r\n      setRecyclingRequests(response.data.requests || []);\r\n    } catch (error) {\r\n      console.error('❌ Error fetching recycling requests:', error);\r\n      if (error.response) {\r\n        console.error('Response status:', error.response.status);\r\n        console.error('Response data:', error.response.data);\r\n      }\r\n      setRecyclingRequests([]);\r\n    } finally {\r\n      setRequestsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleApproveRequest = async (requestId) => {\r\n    try {\r\n      setApprovalLoading(true);\r\n      console.log('🔄 Approving recycling request:', requestId);\r\n      \r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.error('❌ No authentication token found');\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.put(`http://localhost:5000/RecyclingRequests/${requestId}/approve`, {}, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      console.log('✅ Approval API response:', response.data);\r\n      \r\n      // Force refresh both bin and requests data with a small delay\r\n      setTimeout(async () => {\r\n        console.log('🔄 Refreshing bin and requests data...');\r\n        await Promise.all([fetchBin(), fetchRecyclingRequests()]);\r\n        console.log('✅ Data refreshed successfully');\r\n      }, 500);\r\n      \r\n      // Show success message\r\n      showNotification('Recycling request approved successfully! The bin has been updated.', 'success');\r\n      console.log('✅ Recycling request approved successfully');\r\n    } catch (error) {\r\n      console.error('❌ Error approving recycling request:', error);\r\n      if (error.response) {\r\n        console.error('Response status:', error.response.status);\r\n        console.error('Response data:', error.response.data);\r\n      }\r\n      showNotification('Failed to approve recycling request. Please try again.', 'error');\r\n    } finally {\r\n      setApprovalLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRejectRequest = async (requestId) => {\r\n    try {\r\n      setApprovalLoading(true);\r\n      console.log('🔄 Rejecting recycling request:', requestId);\r\n      \r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.error('❌ No authentication token found');\r\n        return;\r\n      }\r\n      \r\n      await axios.put(`http://localhost:5000/RecyclingRequests/${requestId}/reject`, {}, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      // Refresh requests data\r\n      await fetchRecyclingRequests();\r\n      \r\n      showNotification('Recycling request rejected successfully.', 'success');\r\n      console.log('✅ Recycling request rejected successfully');\r\n    } catch (error) {\r\n      console.error('❌ Error rejecting recycling request:', error);\r\n      if (error.response) {\r\n        console.error('Response status:', error.response.status);\r\n        console.error('Response data:', error.response.data);\r\n      }\r\n      showNotification('Failed to reject recycling request. Please try again.', 'error');\r\n    } finally {\r\n      setApprovalLoading(false);\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n\r\n    if (!formData.currentLevel || formData.currentLevel < 0) {\r\n      errors.currentLevel = 'Current level must be a non-negative number';\r\n    }\r\n\r\n    if (parseInt(formData.currentLevel) > 100) {\r\n      errors.currentLevel = 'Current level cannot exceed 100kg capacity';\r\n    }\r\n\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const binData = {\r\n        notes: formData.notes\r\n      };\r\n\r\n      await axios.put(`http://localhost:5000/RecyclingBins/${bin._id}`, binData);\r\n      setShowUpdateModal(false);\r\n      resetForm();\r\n      fetchBin();\r\n    } catch (error) {\r\n      console.error('Error updating bin notes:', error);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      currentLevel: '',\r\n      notes: ''\r\n    });\r\n    setFormErrors({});\r\n  };\r\n\r\n  const openUpdateModal = () => {\r\n    setFormData({\r\n      currentLevel: bin.currentLevel.toString(),\r\n      notes: bin.notes || ''\r\n    });\r\n    setShowUpdateModal(true);\r\n  };\r\n\r\n  const emptyBin = async () => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/RecyclingBins/${bin._id}/empty`);\r\n      fetchBin();\r\n    } catch (error) {\r\n      console.error('Error emptying bin:', error);\r\n    }\r\n  };\r\n\r\n  const notifyFactory = async () => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/RecyclingBins/${bin._id}/notify`);\r\n      fetchBin();\r\n    } catch (error) {\r\n      console.error('Error notifying factory:', error);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Empty': return 'bg-green-100 text-green-800';\r\n      case 'Low': return 'bg-blue-100 text-blue-800';\r\n      case 'Medium': return 'bg-yellow-100 text-yellow-800';\r\n      case 'High': return 'bg-orange-100 text-orange-800';\r\n      case 'Critical': return 'bg-red-100 text-red-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getFillLevelColor = (percentage) => {\r\n    if (percentage >= 80) return 'text-red-600';\r\n    if (percentage >= 60) return 'text-orange-600';\r\n    if (percentage >= 40) return 'text-yellow-600';\r\n    if (percentage >= 20) return 'text-blue-600';\r\n    return 'text-green-600';\r\n  };\r\n\r\n  const getProgressBarColor = (percentage) => {\r\n    if (percentage >= 80) return 'bg-red-500';\r\n    if (percentage >= 60) return 'bg-orange-500';\r\n    if (percentage >= 40) return 'bg-yellow-500';\r\n    if (percentage >= 20) return 'bg-blue-500';\r\n    return 'bg-green-500';\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const showNotification = (message, type = 'success') => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => setNotification(null), 5000);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!bin) {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <p className=\"text-gray-500\">No recycling bin found for this branch.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* Notification */}\r\n      {notification && (\r\n        <div className={`mb-4 p-4 rounded-lg ${\r\n          notification.type === 'success' \r\n            ? 'bg-green-100 border border-green-400 text-green-700' \r\n            : 'bg-red-100 border border-red-400 text-red-700'\r\n        }`}>\r\n          <div className=\"flex items-center\">\r\n            <span className=\"mr-2\">\r\n              {notification.type === 'success' ? '✅' : '❌'}\r\n            </span>\r\n            {notification.message}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900\">Branch Recycling Bin</h2>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <div className=\"text-sm text-gray-600\">\r\n            Branch: {branchName}\r\n          </div>\r\n          <button\r\n            onClick={() => Promise.all([fetchBin(), fetchRecyclingRequests()])}\r\n            disabled={loading || requestsLoading}\r\n            className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200 transition-colors disabled:opacity-50\"\r\n          >\r\n            {loading || requestsLoading ? '🔄 Refreshing...' : '🔄 Refresh All'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Single Bin Display */}\r\n      <div className=\"max-w-2xl mx-auto\">\r\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\r\n          <div className=\"flex justify-between items-start mb-6\">\r\n            <div>\r\n              <h3 className=\"text-2xl font-semibold text-gray-900\">{bin.binId}</h3>\r\n              <p className=\"text-lg text-gray-600\">{bin.location}</p>\r\n            </div>\r\n            <span className={`inline-flex px-3 py-2 text-sm font-semibold rounded-full ${getStatusColor(bin.status)}`}>\r\n              {bin.status}\r\n            </span>\r\n          </div>\r\n\r\n          {/* Fill Level Progress */}\r\n          <div className=\"mb-8\">\r\n            <div className=\"flex justify-between text-lg mb-3\">\r\n              <span className=\"text-gray-700 font-medium\">Fill Level</span>\r\n              <span className={`font-bold text-xl ${getFillLevelColor(bin.fillPercentage)}`}>\r\n                {bin.fillPercentage.toFixed(1)}%\r\n              </span>\r\n            </div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-4\">\r\n              <div\r\n                className={`h-4 rounded-full transition-all duration-300 ${getProgressBarColor(bin.fillPercentage)}`}\r\n                style={{ width: `${bin.fillPercentage}%` }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Capacity Information */}\r\n          <div className=\"grid grid-cols-2 gap-8 text-center mb-8\">\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <p className=\"text-gray-600 text-sm font-medium\">Capacity</p>\r\n              <p className=\"text-2xl font-bold text-blue-600\">{bin.capacity} kg</p>\r\n            </div>\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <p className=\"text-gray-600 text-sm font-medium\">Current Level</p>\r\n              <p className=\"text-2xl font-bold text-green-600\">{bin.currentLevel} kg</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status Information */}\r\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <span className=\"text-2xl\">🌱</span>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <h4 className=\"text-sm font-medium text-blue-800\">Recycling Status</h4>\r\n                <p className=\"text-sm text-blue-700\">\r\n                  {bin.fillPercentage >= 80 \r\n                    ? 'Critical: Bin is nearly full. Factory has been notified.' \r\n                    : bin.fillPercentage >= 60 \r\n                    ? 'High: Bin is getting full. Monitor closely.'\r\n                    : bin.fillPercentage >= 40 \r\n                    ? 'Medium: Bin is moderately filled.'\r\n                    : bin.fillPercentage >= 20 \r\n                    ? 'Low: Bin has some capacity remaining.'\r\n                    : 'Empty: Bin is ready for recycling.'\r\n                  }\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {bin.notes && (\r\n            <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\r\n              <p className=\"text-sm text-gray-600 font-medium mb-2\">Notes:</p>\r\n              <p className=\"text-sm text-gray-900\">{bin.notes}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex space-x-4\">\r\n            <button\r\n              onClick={openUpdateModal}\r\n              className=\"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\"\r\n            >\r\n              Update Notes\r\n            </button>\r\n            <button\r\n              onClick={emptyBin}\r\n              className=\"flex-1 bg-green-600 text-white px-4 py-3 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors\"\r\n            >\r\n              Empty Bin\r\n            </button>\r\n            {bin.fillPercentage >= 80 && !bin.isNotified && (\r\n              <button\r\n                onClick={notifyFactory}\r\n                className=\"flex-1 bg-red-600 text-white px-4 py-3 rounded-lg text-sm font-medium hover:bg-red-700 transition-colors\"\r\n              >\r\n                Notify Factory\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Information about automatic filling */}\r\n          <div className=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\r\n            <div className=\"flex items-center\">\r\n              <span className=\"text-blue-600 mr-2\">ℹ️</span>\r\n              <span className=\"text-sm text-blue-800\">\r\n                <strong>Note:</strong> Bin filling happens automatically when customers submit recycling requests. \r\n                Branch managers can only monitor and manage the bin status.\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {bin.isNotified && (\r\n            <div className=\"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg\">\r\n              <div className=\"flex items-center\">\r\n                <span className=\"text-orange-600 mr-2\">🔔</span>\r\n                <span className=\"text-sm text-orange-800 font-medium\">\r\n                  Factory has been notified about this bin\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Last Updated Info */}\r\n          <div className=\"mt-6 pt-4 border-t border-gray-200\">\r\n            <p className=\"text-xs text-gray-500 text-center\">\r\n              Last updated: {new Date(bin.updatedAt).toLocaleString()}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Customer Recycling Requests Section */}\r\n      <div className=\"mt-8 max-w-6xl mx-auto\">\r\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h3 className=\"text-xl font-semibold text-gray-900\">Customer Recycling Requests</h3>\r\n            <button\r\n              onClick={fetchRecyclingRequests}\r\n              disabled={requestsLoading}\r\n              className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors disabled:opacity-50\"\r\n            >\r\n              {requestsLoading ? 'Refreshing...' : '🔄 Refresh'}\r\n            </button>\r\n          </div>\r\n\r\n          {requestsLoading ? (\r\n            <div className=\"flex items-center justify-center py-8\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n            </div>\r\n          ) : recyclingRequests.length === 0 ? (\r\n            <div className=\"text-center py-8\">\r\n              <p className=\"text-gray-500\">No recycling requests found for this branch.</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Customer\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Waste Weight\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Points Earned\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Request Date\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Status\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Actions\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {recyclingRequests.map((request) => (\r\n                    <tr key={request._id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div>\r\n                          <div className=\"text-sm font-medium text-gray-900\">{request.customerName}</div>\r\n                          <div className=\"text-sm text-gray-500\">{request.customerEmail}</div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm text-gray-900 font-medium\">\r\n                          {request.wasteWeight} kg\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm text-gray-900\">\r\n                          {request.pointsEarned} points\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm text-gray-900\">\r\n                          {formatDate(request.requestDate)}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(request.status)}`}>\r\n                          {request.status}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                        {request.status === 'Pending' && (\r\n                          <div className=\"flex space-x-2\">\r\n                            <button\r\n                              onClick={() => handleApproveRequest(request._id)}\r\n                              disabled={approvalLoading}\r\n                              className=\"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors disabled:opacity-50\"\r\n                            >\r\n                              {approvalLoading ? 'Processing...' : '✅ Approve'}\r\n                            </button>\r\n                            <button\r\n                              onClick={() => handleRejectRequest(request._id)}\r\n                              disabled={approvalLoading}\r\n                              className=\"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors disabled:opacity-50\"\r\n                            >\r\n                              {approvalLoading ? 'Processing...' : '❌ Reject'}\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                        {request.status === 'Approved' && (\r\n                          <span className=\"text-green-600 font-medium\">✓ Approved</span>\r\n                        )}\r\n                        {request.status === 'Rejected' && (\r\n                          <span className=\"text-red-600 font-medium\">✗ Rejected</span>\r\n                        )}\r\n                        {request.status === 'Completed' && (\r\n                          <span className=\"text-blue-600 font-medium\">✓ Completed</span>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n\r\n          {/* Information about the approval process */}\r\n          <div className=\"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n            <div className=\"flex items-center\">\r\n              <span className=\"text-green-600 mr-2\">💡</span>\r\n              <span className=\"text-sm text-green-800\">\r\n                <strong>How it works:</strong> When you approve a recycling request, the waste weight is automatically \r\n                added to the bin's current level. The bin will fill up based on the total weight of approved requests.\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Update Bin Modal */}\r\n      {showUpdateModal && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3\">\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Update Bin Notes</h3>\r\n              <form onSubmit={handleUpdate}>\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Bin ID</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={bin.binId}\r\n                      disabled\r\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Location</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={bin.location}\r\n                      disabled\r\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Capacity</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={`${bin.capacity} kg`}\r\n                      disabled\r\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Current Level</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={`${bin.currentLevel} kg (${bin.fillPercentage.toFixed(1)}%)`}\r\n                      disabled\r\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100\"\r\n                    />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                      Level is automatically updated when customers submit recycling requests\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Notes</label>\r\n                    <textarea\r\n                      value={formData.notes}\r\n                      onChange={(e) => setFormData({...formData, notes: e.target.value})}\r\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2\"\r\n                      rows=\"3\"\r\n                      placeholder=\"Optional notes about this bin\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex justify-end space-x-3 mt-6\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setShowUpdateModal(false);\r\n                      resetForm();\r\n                    }}\r\n                    className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n                  >\r\n                    Update Notes\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BranchRecycleBin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}