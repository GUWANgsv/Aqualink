{"ast":null,"code":"var _jsxFileName = \"E:\\\\Y2S2\\\\Project\\\\frontend\\\\src\\\\Components\\\\Driver\\\\EmergencyRouteMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix for default markers in react-leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\nconst EmergencyRouteMap = ({\n  emergencyRequest,\n  branchLocation,\n  onClose\n}) => {\n  _s();\n  const [route, setRoute] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [distance, setDistance] = useState(null);\n  const [estimatedTime, setEstimatedTime] = useState(null);\n  const [directions, setDirections] = useState([]);\n\n  // Default coordinates for Colombo, Sri Lanka\n  const defaultCenter = [6.9271, 79.8612];\n\n  // Parse coordinates from emergency request with geocoding\n  const [emergencyCoords, setEmergencyCoords] = useState(defaultCenter);\n  const [isGeocoding, setIsGeocoding] = useState(false);\n\n  // Cache for geocoding results to prevent infinite calls\n  const geocodeCache = React.useRef({});\n\n  // Parse branch coordinates (you might need to adjust this based on your branch data structure)\n  const branchCoords = branchLocation ? [branchLocation.lat || 6.9271, branchLocation.lng || 79.8612] : defaultCenter;\n\n  // Geocode address to get actual coordinates (prioritizing local accurate coordinates)\n  const geocodeAddress = React.useCallback(async address => {\n    if (!address) return defaultCenter;\n\n    // Check if we already have coordinates for this address\n    const addressKey = address.toLowerCase().trim();\n    if (geocodeCache[addressKey]) {\n      console.log('ðŸŽ¯ Using cached geocoding result for:', address);\n      return geocodeCache[addressKey];\n    }\n    setIsGeocoding(true);\n    try {\n      console.log('ðŸŒ Processing address:', address);\n\n      // FIRST: Try to get accurate local coordinates\n      const localCoords = getFallbackCoordinates(address);\n      if (localCoords) {\n        console.log('âœ… Using accurate local coordinates for:', address);\n        console.log('ðŸ“ Local coordinates:', localCoords);\n        geocodeCache[addressKey] = localCoords;\n        return localCoords;\n      }\n\n      // SECOND: If no local match, try online geocoding as backup\n      console.log('ðŸŒ No local match found, trying online geocoding...');\n      const strategies = [`${address}, Sri Lanka`, `${address}, Colombo, Sri Lanka`, address, address.split(',')[0] + ', Colombo, Sri Lanka'];\n      for (const searchQuery of strategies) {\n        try {\n          console.log(`ðŸ” Trying online geocoding: \"${searchQuery}\"`);\n          const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(searchQuery)}&limit=5&countrycodes=lk&addressdetails=1`);\n          const data = await response.json();\n          if (data && data.length > 0) {\n            let bestResult = data[0];\n            for (const result of data) {\n              if (result.address && parseFloat(result.lat) > 5.5 && parseFloat(result.lat) < 10.0 && parseFloat(result.lon) > 79.0 && parseFloat(result.lon) < 82.0) {\n                bestResult = result;\n                console.log('ðŸŽ¯ Found online Sri Lankan location:', result.display_name);\n                break;\n              }\n            }\n            const coords = [parseFloat(bestResult.lat), parseFloat(bestResult.lon)];\n            if (coords[0] > 5.5 && coords[0] < 10.0 && coords[1] > 79.0 && coords[1] < 82.0) {\n              console.log('âœ… Online geocoded coordinates:', coords);\n              geocodeCache[addressKey] = coords;\n              return coords;\n            }\n          }\n        } catch (strategyError) {\n          console.log(`âš ï¸ Online strategy failed: ${strategyError.message}`);\n          continue;\n        }\n      }\n\n      // FINAL FALLBACK: Use default coordinates\n      console.log('âš ï¸ All geocoding failed, using default coordinates');\n      geocodeCache[addressKey] = defaultCenter;\n      return defaultCenter;\n    } catch (error) {\n      console.error('âŒ Geocoding failed:', error);\n      geocodeCache[addressKey] = defaultCenter;\n      return defaultCenter;\n    } finally {\n      setIsGeocoding(false);\n    }\n  }, []);\n\n  // Fallback coordinates for common Colombo areas with more specific locations\n  const getFallbackCoordinates = address => {\n    const addressLower = address.toLowerCase();\n    console.log('ðŸ” Checking address for local coordinates:', address);\n    console.log('ðŸ” Address in lowercase:', addressLower);\n\n    // Check for specific known address patterns first\n    if (addressLower.includes('maharagama') && addressLower.includes('high level road')) {\n      console.log('ðŸŽ¯ Detected Maharagama High Level Road address');\n      console.log('ðŸ“ Returning Maharagama coordinates: [6.8481, 79.9285]');\n      return [6.8481, 79.9285]; // Accurate Maharagama High Level Road coordinates\n    }\n    if (addressLower.includes('borella') && addressLower.includes('baseline road')) {\n      console.log('ðŸŽ¯ Detected Borella Baseline Road address');\n      console.log('ðŸ“ Returning Borella coordinates: [6.9047, 79.8844]');\n      return [6.9047, 79.8844]; // Accurate Borella Baseline Road coordinates\n    }\n\n    // More specific Colombo area coordinates\n    const areaCoordinates = {\n      // Borella area - more specific\n      'borella': [6.9047, 79.8844],\n      'baseline road': [6.9047, 79.8844],\n      'baseline': [6.9047, 79.8844],\n      'borella baseline': [6.9047, 79.8844],\n      // Colombo postal codes with specific areas\n      'colombo 01': [6.9300, 79.8400],\n      // Fort\n      'colombo 02': [6.9200, 79.8500],\n      // Slave Island\n      'colombo 03': [6.9100, 79.8500],\n      // Kollupitiya\n      'colombo 04': [6.9000, 79.8600],\n      // Bambalapitiya\n      'colombo 05': [6.8900, 79.8600],\n      // Wellawatta\n      'colombo 06': [6.8800, 79.8700],\n      // Mount Lavinia\n      'colombo 07': [6.8700, 79.8700],\n      // Dehiwala\n      'colombo 08': [6.9047, 79.8844],\n      // Borella\n      'colombo 09': [6.8900, 79.8800],\n      // Dematagoda\n      'colombo 10': [6.9400, 79.8500],\n      // Maradana\n      'colombo 11': [6.9400, 79.8500],\n      // Pettah\n      'colombo 12': [6.9500, 79.8400],\n      // Kotahena\n      'colombo 13': [6.9600, 79.8300],\n      // Modara\n      'colombo 14': [6.9700, 79.8200],\n      // Grandpass\n      'colombo 15': [6.9800, 79.8100],\n      // Mattakkuliya\n\n      // Specific areas with more accurate coordinates\n      'kollupitiya': [6.9100, 79.8500],\n      'bambalapitiya': [6.8900, 79.8600],\n      'pettah': [6.9400, 79.8500],\n      'fort': [6.9300, 79.8400],\n      'slave island': [6.9200, 79.8500],\n      'union place': [6.9200, 79.8500],\n      'liberty plaza': [6.9100, 79.8500],\n      'galle road': [6.9100, 79.8500],\n      'maradana': [6.9400, 79.8500],\n      'dematagoda': [6.8900, 79.8800],\n      'wellawatta': [6.8900, 79.8600],\n      'mount lavinia': [6.8800, 79.8700],\n      'dehiwala': [6.8700, 79.8700],\n      // Southern Colombo areas with accurate coordinates\n      'maharagama': [6.8481, 79.9285],\n      // More accurate Maharagama coordinates\n      'high level road': [6.8481, 79.9285],\n      // High Level Road in Maharagama\n      'maharagama high level': [6.8481, 79.9285],\n      'nugegoda': [6.8631, 79.8996],\n      'kottawa': [6.8400, 79.9500],\n      'homagama': [6.8400, 80.0000],\n      'piliyandala': [6.8500, 79.9000],\n      'kaduwela': [6.9300, 79.9800],\n      'avissawella': [6.9500, 80.2000],\n      'rathmalana': [6.8200, 79.8800],\n      'moratuwa': [6.8000, 79.9000],\n      'panadura': [6.7200, 79.9000],\n      'kalutara': [6.5800, 79.9600]\n    };\n\n    // Find matching area - check for multiple keywords with priority\n    const priorityAreas = ['maharagama', 'high level road', 'nugegoda', 'kottawa', 'homagama'];\n\n    // First, check priority areas (more specific locations)\n    for (const priorityArea of priorityAreas) {\n      if (addressLower.includes(priorityArea) && areaCoordinates[priorityArea]) {\n        console.log(`ðŸŽ¯ Found priority area: \"${priorityArea}\" for address: \"${address}\"`);\n        console.log(`ðŸ“ Using coordinates: ${areaCoordinates[priorityArea][0]}, ${areaCoordinates[priorityArea][1]}`);\n        console.log(`ðŸ“ Returning priority coordinates: [${areaCoordinates[priorityArea][0]}, ${areaCoordinates[priorityArea][1]}]`);\n        return areaCoordinates[priorityArea];\n      }\n    }\n\n    // Then check all other areas\n    for (const [area, coords] of Object.entries(areaCoordinates)) {\n      if (addressLower.includes(area)) {\n        console.log(`ðŸŽ¯ Found matching area: \"${area}\" for address: \"${address}\"`);\n        console.log(`ðŸ“ Using coordinates: ${coords[0]}, ${coords[1]}`);\n        return coords;\n      }\n    }\n\n    // If no specific match, try to extract Colombo postal code\n    const colomboMatch = addressLower.match(/colombo\\s*(\\d+)/);\n    if (colomboMatch) {\n      const postalCode = `colombo ${colomboMatch[1]}`;\n      if (areaCoordinates[postalCode]) {\n        console.log(`ðŸŽ¯ Found Colombo postal code: ${postalCode}`);\n        return areaCoordinates[postalCode];\n      }\n    }\n\n    // Default to Colombo center if no area match\n    console.log('ðŸŽ¯ No specific area found, using default Colombo center coordinates');\n    return [6.9271, 79.8612];\n  };\n\n  // Calculate distance between two points using Haversine formula\n  const calculateDistance = (lat1, lng1, lat2, lng2) => {\n    const R = 6371; // Earth's radius in km\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLng = (lng2 - lng1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  };\n\n  // Calculate estimated travel time (assuming average speed of 40 km/h in city traffic)\n  const calculateEstimatedTime = distanceKm => {\n    const averageSpeed = 40; // km/h\n    const timeInHours = distanceKm / averageSpeed;\n    const hours = Math.floor(timeInHours);\n    const minutes = Math.round((timeInHours - hours) * 60);\n    if (hours > 0) {\n      return `${hours}h ${minutes}m`;\n    } else {\n      return `${minutes}m`;\n    }\n  };\n\n  // Calculate road distance along the route\n  const calculateRoadDistance = route => {\n    let totalDistance = 0;\n    for (let i = 0; i < route.length - 1; i++) {\n      const segmentDistance = calculateDistance(route[i][0], route[i][1], route[i + 1][0], route[i + 1][1]);\n      totalDistance += segmentDistance;\n    }\n    return totalDistance;\n  };\n\n  // Calculate route - simplified to prevent unresponsiveness\n  const calculateRoute = React.useCallback(async () => {\n    // Prevent multiple simultaneous calculations\n    if (loading) {\n      console.log('âš ï¸ Route calculation already in progress, skipping...');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      console.log('ðŸš€ Starting route calculation...');\n      console.log('ðŸ“ Branch coords:', branchCoords);\n      console.log('ðŸ“ Emergency coords:', emergencyCoords);\n\n      // Create simple route immediately\n      const simpleRoute = [branchCoords, emergencyCoords];\n      setRoute(simpleRoute);\n\n      // Calculate distance and time\n      const routeDistance = calculateDistance(branchCoords[0], branchCoords[1], emergencyCoords[0], emergencyCoords[1]);\n      const calculatedTime = calculateEstimatedTime(routeDistance);\n      setDistance(routeDistance);\n      setEstimatedTime(calculatedTime);\n      console.log(`ðŸ“ Route calculated successfully:`);\n      console.log(`ðŸ“ Distance: ${routeDistance.toFixed(2)} km`);\n      console.log(`â±ï¸ Estimated time: ${calculatedTime}`);\n    } catch (err) {\n      console.error('Error calculating route:', err);\n      setError('Failed to calculate route.');\n      // Fallback to straight line\n      const fallbackRoute = [branchCoords, emergencyCoords];\n      setRoute(fallbackRoute);\n      const fallbackDistance = calculateDistance(branchCoords[0], branchCoords[1], emergencyCoords[0], emergencyCoords[1]);\n      setDistance(fallbackDistance);\n      setEstimatedTime(calculateEstimatedTime(fallbackDistance));\n    } finally {\n      setLoading(false);\n    }\n  }, [branchCoords, emergencyCoords, loading]);\n\n  // Initialize coordinates when component mounts or emergency request changes\n  useEffect(() => {\n    const initializeCoordinates = async () => {\n      if (emergencyRequest !== null && emergencyRequest !== void 0 && emergencyRequest.coordinates) {\n        // If coordinates are provided, use them\n        const coords = [emergencyRequest.coordinates.lat, emergencyRequest.coordinates.lng];\n        console.log('ðŸ“ Using provided coordinates:', coords);\n        setEmergencyCoords(coords);\n      } else if (emergencyRequest !== null && emergencyRequest !== void 0 && emergencyRequest.brigadeLocation) {\n        // If only address is provided, geocode it\n        console.log('ðŸŒ Processing address for geocoding:', emergencyRequest.brigadeLocation);\n        console.log('ðŸ” Address type:', typeof emergencyRequest.brigadeLocation);\n        console.log('ðŸ“ Full emergency request:', emergencyRequest);\n        const coords = await geocodeAddress(emergencyRequest.brigadeLocation);\n        console.log('ðŸ“ Final geocoded coordinates:', coords);\n        setEmergencyCoords(coords);\n      } else {\n        console.log('ðŸ“ No address provided, using default coordinates');\n        setEmergencyCoords(defaultCenter);\n      }\n    };\n    initializeCoordinates();\n  }, [emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.coordinates, emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.brigadeLocation]);\n\n  // Automatically calculate route when coordinates are updated\n  useEffect(() => {\n    if (emergencyCoords && branchCoords && emergencyRequest && !loading) {\n      console.log('ðŸ”„ Auto-calculating route after coordinate update');\n      calculateRoute();\n    }\n  }, [emergencyCoords, branchCoords, calculateRoute]);\n\n  // Get simple route - just a straight line with one intermediate point\n  const getRealRoadRoute = async (start, end) => {\n    console.log('ðŸ›£ï¸ Creating simple route...');\n\n    // Just create a basic route with one intermediate point\n    const midLat = (start[0] + end[0]) / 2;\n    const midLng = (start[1] + end[1]) / 2;\n    const simpleRoute = [start, [midLat, midLng], end];\n    console.log('âœ… Simple route created:', simpleRoute);\n    return simpleRoute;\n  };\n\n  // Manual route calculation trigger\n\n  // Calculate center point for map\n  const mapCenter = [(branchCoords[0] + emergencyCoords[0]) / 2, (branchCoords[1] + emergencyCoords[1]) / 2];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900\",\n            children: \"Emergency Route Map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-blue-900 mb-2\",\n            children: \"Emergency Details:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Location:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 20\n                }, this), \" \", emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.brigadeLocation]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Brigade:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 20\n                }, this), \" \", emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.brigadeName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Water Level:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 20\n                }, this), \" \", emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.waterLevel]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Priority:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 20\n                }, this), \" \", emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.priority]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Branch:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 20\n                }, this), \" \", (branchLocation === null || branchLocation === void 0 ? void 0 : branchLocation.name) || 'Colombo Central Branch']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Branch Address:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 20\n                }, this), \" \", (branchLocation === null || branchLocation === void 0 ? void 0 : branchLocation.address) || '123 Galle Road, Colombo 07']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 17\n              }, this), distance && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Distance:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 33\n                }, this), \" \", distance.toFixed(2), \" km\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 30\n              }, this), estimatedTime && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Est. Time:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 38\n                }, this), \" \", estimatedTime]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 35\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-gray-600\",\n            children: \"Calculating route...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-yellow-800\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-4 bg-green-50 border border-green-200 rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-green-700 mb-3\",\n            children: \"\\uD83D\\uDEE3\\uFE0F Emergency Water Delivery Route\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3 p-3 bg-white border border-green-300 rounded-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-green-800 mb-1\",\n              children: \"\\uD83D\\uDCCD DESTINATION ADDRESS:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-base font-bold text-gray-900\",\n              children: (emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.brigadeLocation) || 'Address not provided'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this), isGeocoding && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 flex items-center text-blue-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: \"Automatically finding exact location...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), !isGeocoding && emergencyCoords && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 text-xs text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\uD83D\\uDCCD Coordinates: \", emergencyCoords[0].toFixed(6), \", \", emergencyCoords[1].toFixed(6)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\uD83C\\uDFAF Location verified and ready for navigation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83C\\uDFE2 Brigade:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 18\n              }, this), \" \", emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.brigadeName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDE9A Starting Point:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 18\n              }, this), \" Colombo Central Branch\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83C\\uDF0D Map Location:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 18\n              }, this), \" \", emergencyCoords[0].toFixed(6), \", \", emergencyCoords[1].toFixed(6)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 15\n            }, this), isGeocoding && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-700\",\n                children: \"\\uD83D\\uDD0D Auto-geocoding in progress...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-blue-600\",\n                children: [\"Finding exact location for: \", emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.brigadeLocation]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), route && route.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 pt-2 border-t border-green-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\uD83D\\uDCCF Road Distance:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 22\n                }, this), \" \", distance ? `${distance.toFixed(2)} km` : 'Auto-calculating...']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u23F1\\uFE0F Estimated Time:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 22\n                }, this), \" \", estimatedTime || 'Auto-calculating...']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-96 w-full border border-gray-300 rounded-md\",\n          children: /*#__PURE__*/_jsxDEV(MapContainer, {\n            center: mapCenter,\n            zoom: 12,\n            style: {\n              height: '100%',\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n              attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Marker, {\n              position: branchCoords,\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium text-green-700\",\n                    children: \"\\uD83C\\uDFE2 Your Branch\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Name:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 44\n                    }, this), \" \", (branchLocation === null || branchLocation === void 0 ? void 0 : branchLocation.name) || 'Colombo Central Branch']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Address:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 44\n                    }, this), \" \", (branchLocation === null || branchLocation === void 0 ? void 0 : branchLocation.address) || '123 Galle Road, Colombo 07']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Coordinates:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 44\n                    }, this), \" \", branchCoords[0].toFixed(6), \", \", branchCoords[1].toFixed(6)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-600 mt-1\",\n                    children: \"\\uD83D\\uDCCD Starting point for emergency delivery\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Marker, {\n              position: emergencyCoords,\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-4 text-center max-w-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-bold text-red-600 text-lg mb-3\",\n                    children: \"\\uD83D\\uDD25\\uD83D\\uDE92 Emergency Water Request\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm font-medium text-yellow-800 mb-1\",\n                      children: \"\\uD83D\\uDCCD DESTINATION ADDRESS:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 512,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-base font-bold text-gray-900 leading-tight\",\n                      children: emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.brigadeLocation\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 513,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\uD83C\\uDFE2 Brigade:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 517,\n                        columnNumber: 26\n                      }, this), \" \", emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.brigadeName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 517,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\uD83D\\uDCA7 Water Level:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 518,\n                        columnNumber: 26\n                      }, this), \" \", emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.waterLevel, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 518,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\u26A1 Priority:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 519,\n                        columnNumber: 26\n                      }, this), \" \", emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.priority]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 519,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\u23F0 Request Time:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 520,\n                        columnNumber: 26\n                      }, this), \" \", new Date(emergencyRequest === null || emergencyRequest === void 0 ? void 0 : emergencyRequest.createdAt).toLocaleString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 520,\n                      columnNumber: 23\n                    }, this), distance && /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\uD83D\\uDCCF Distance:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 521,\n                        columnNumber: 39\n                      }, this), \" \", distance.toFixed(2), \" km\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 521,\n                      columnNumber: 36\n                    }, this), estimatedTime && /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\u23F1\\uFE0F Est. Time:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 522,\n                        columnNumber: 44\n                      }, this), \" \", estimatedTime]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-4 p-2 bg-red-100 rounded-md\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-red-700 font-medium\",\n                      children: \"\\uD83D\\uDEA8 URGENT: Water delivery required immediately\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 526,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 15\n            }, this), route && route.length > 1 && (() => {\n              console.log('ðŸ—ºï¸ Rendering route line with coordinates:', route);\n              return /*#__PURE__*/_jsxDEV(Polyline, {\n                positions: route.map(coord => [coord[0], coord[1]]),\n                color: \"red\",\n                weight: 4,\n                opacity: 0.8,\n                dashArray: \"10, 10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 19\n              }, this);\n            })(), route && route.length > 2 && route.slice(1, -1).map((waypoint, index) => /*#__PURE__*/_jsxDEV(Marker, {\n              position: waypoint,\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium text-blue-700\",\n                    children: [\"\\uD83D\\uDEE3\\uFE0F Route Waypoint \", index + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 551,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm\",\n                    children: [\"Coordinates: \", waypoint[0].toFixed(6), \", \", waypoint[1].toFixed(6)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 552,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-600 mt-1\",\n                    children: \"Part of emergency delivery route\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 19\n              }, this)\n            }, `waypoint-${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this), directions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-blue-800 mb-3\",\n            children: \"\\uD83E\\uDDED Turn-by-Turn Directions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-h-48 overflow-y-auto\",\n            children: directions.map((direction, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start space-x-3 py-2 border-b border-blue-100 last:border-b-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-medium\",\n                children: direction.step\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-blue-800 font-medium\",\n                  children: direction.instruction\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-blue-600\",\n                  children: [direction.distance, \" \\u2022 \", direction.road]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 573,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: [distance && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\uD83D\\uDCCF Road distance: \", distance.toFixed(2), \" km\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 28\n            }, this), directions.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\uD83E\\uDDED \", directions.length, \" turn-by-turn directions provided\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 41\n            }, this), !loading && !route && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-yellow-600\",\n              children: \"\\u26A0\\uFE0F Route not calculated yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: calculateRoute,\n              disabled: loading,\n              className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: loading ? 'Calculating...' : 'ðŸ”„ Recalculate Route'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onClose,\n              className: \"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 391,\n    columnNumber: 5\n  }, this);\n};\n_s(EmergencyRouteMap, \"2VV4Gh0yYlfO1UK+sTgxIb3lv0o=\");\n_c = EmergencyRouteMap;\nexport default EmergencyRouteMap;\nvar _c;\n$RefreshReg$(_c, \"EmergencyRouteMap\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","Popup","Polyline","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","EmergencyRouteMap","emergencyRequest","branchLocation","onClose","_s","route","setRoute","loading","setLoading","error","setError","distance","setDistance","estimatedTime","setEstimatedTime","directions","setDirections","defaultCenter","emergencyCoords","setEmergencyCoords","isGeocoding","setIsGeocoding","geocodeCache","useRef","branchCoords","lat","lng","geocodeAddress","useCallback","address","addressKey","toLowerCase","trim","console","log","localCoords","getFallbackCoordinates","strategies","split","searchQuery","response","fetch","encodeURIComponent","data","json","length","bestResult","result","parseFloat","lon","display_name","coords","strategyError","message","addressLower","includes","areaCoordinates","priorityAreas","priorityArea","area","Object","entries","colomboMatch","match","postalCode","calculateDistance","lat1","lng1","lat2","lng2","R","dLat","Math","PI","dLng","a","sin","cos","c","atan2","sqrt","calculateEstimatedTime","distanceKm","averageSpeed","timeInHours","hours","floor","minutes","round","calculateRoadDistance","totalDistance","i","segmentDistance","calculateRoute","simpleRoute","routeDistance","calculatedTime","toFixed","err","fallbackRoute","fallbackDistance","initializeCoordinates","coordinates","brigadeLocation","getRealRoadRoute","start","end","midLat","midLng","mapCenter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","brigadeName","waterLevel","priority","name","center","zoom","style","height","width","attribution","url","position","Date","createdAt","toLocaleString","positions","map","coord","color","weight","opacity","dashArray","slice","waypoint","index","direction","step","instruction","road","disabled","_c","$RefreshReg$"],"sources":["E:/Y2S2/Project/frontend/src/Components/Driver/EmergencyRouteMap.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\n// Fix for default markers in react-leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\r\n});\r\n\r\nconst EmergencyRouteMap = ({ emergencyRequest, branchLocation, onClose }) => {\r\n  const [route, setRoute] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [distance, setDistance] = useState(null);\r\n  const [estimatedTime, setEstimatedTime] = useState(null);\r\n  const [directions, setDirections] = useState([]);\r\n\r\n  // Default coordinates for Colombo, Sri Lanka\r\n  const defaultCenter = [6.9271, 79.8612];\r\n  \r\n  // Parse coordinates from emergency request with geocoding\r\n  const [emergencyCoords, setEmergencyCoords] = useState(defaultCenter);\r\n  const [isGeocoding, setIsGeocoding] = useState(false);\r\n  \r\n  // Cache for geocoding results to prevent infinite calls\r\n  const geocodeCache = React.useRef({});\r\n\r\n  // Parse branch coordinates (you might need to adjust this based on your branch data structure)\r\n  const branchCoords = branchLocation ? \r\n    [branchLocation.lat || 6.9271, branchLocation.lng || 79.8612] : \r\n    defaultCenter;\r\n\r\n  // Geocode address to get actual coordinates (prioritizing local accurate coordinates)\r\n  const geocodeAddress = React.useCallback(async (address) => {\r\n    if (!address) return defaultCenter;\r\n    \r\n    // Check if we already have coordinates for this address\r\n    const addressKey = address.toLowerCase().trim();\r\n    if (geocodeCache[addressKey]) {\r\n      console.log('ðŸŽ¯ Using cached geocoding result for:', address);\r\n      return geocodeCache[addressKey];\r\n    }\r\n    \r\n    setIsGeocoding(true);\r\n    try {\r\n      console.log('ðŸŒ Processing address:', address);\r\n      \r\n      // FIRST: Try to get accurate local coordinates\r\n      const localCoords = getFallbackCoordinates(address);\r\n      if (localCoords) {\r\n        console.log('âœ… Using accurate local coordinates for:', address);\r\n        console.log('ðŸ“ Local coordinates:', localCoords);\r\n        geocodeCache[addressKey] = localCoords;\r\n        return localCoords;\r\n      }\r\n      \r\n      // SECOND: If no local match, try online geocoding as backup\r\n      console.log('ðŸŒ No local match found, trying online geocoding...');\r\n      \r\n      const strategies = [\r\n        `${address}, Sri Lanka`,\r\n        `${address}, Colombo, Sri Lanka`,\r\n        address,\r\n        address.split(',')[0] + ', Colombo, Sri Lanka'\r\n      ];\r\n      \r\n      for (const searchQuery of strategies) {\r\n        try {\r\n          console.log(`ðŸ” Trying online geocoding: \"${searchQuery}\"`);\r\n          \r\n          const response = await fetch(\r\n            `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(searchQuery)}&limit=5&countrycodes=lk&addressdetails=1`\r\n          );\r\n          \r\n          const data = await response.json();\r\n          \r\n          if (data && data.length > 0) {\r\n            let bestResult = data[0];\r\n            \r\n            for (const result of data) {\r\n              if (result.address && \r\n                  parseFloat(result.lat) > 5.5 && parseFloat(result.lat) < 10.0 &&\r\n                  parseFloat(result.lon) > 79.0 && parseFloat(result.lon) < 82.0) {\r\n                bestResult = result;\r\n                console.log('ðŸŽ¯ Found online Sri Lankan location:', result.display_name);\r\n                break;\r\n              }\r\n            }\r\n            \r\n            const coords = [parseFloat(bestResult.lat), parseFloat(bestResult.lon)];\r\n            \r\n            if (coords[0] > 5.5 && coords[0] < 10.0 && coords[1] > 79.0 && coords[1] < 82.0) {\r\n              console.log('âœ… Online geocoded coordinates:', coords);\r\n              geocodeCache[addressKey] = coords;\r\n              return coords;\r\n            }\r\n          }\r\n        } catch (strategyError) {\r\n          console.log(`âš ï¸ Online strategy failed: ${strategyError.message}`);\r\n          continue;\r\n        }\r\n      }\r\n      \r\n      // FINAL FALLBACK: Use default coordinates\r\n      console.log('âš ï¸ All geocoding failed, using default coordinates');\r\n      geocodeCache[addressKey] = defaultCenter;\r\n      return defaultCenter;\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Geocoding failed:', error);\r\n      geocodeCache[addressKey] = defaultCenter;\r\n      return defaultCenter;\r\n    } finally {\r\n      setIsGeocoding(false);\r\n    }\r\n  }, []);\r\n\r\n  // Fallback coordinates for common Colombo areas with more specific locations\r\n  const getFallbackCoordinates = (address) => {\r\n    const addressLower = address.toLowerCase();\r\n    console.log('ðŸ” Checking address for local coordinates:', address);\r\n    console.log('ðŸ” Address in lowercase:', addressLower);\r\n    \r\n    // Check for specific known address patterns first\r\n    if (addressLower.includes('maharagama') && addressLower.includes('high level road')) {\r\n      console.log('ðŸŽ¯ Detected Maharagama High Level Road address');\r\n      console.log('ðŸ“ Returning Maharagama coordinates: [6.8481, 79.9285]');\r\n      return [6.8481, 79.9285]; // Accurate Maharagama High Level Road coordinates\r\n    }\r\n    \r\n    if (addressLower.includes('borella') && addressLower.includes('baseline road')) {\r\n      console.log('ðŸŽ¯ Detected Borella Baseline Road address');\r\n      console.log('ðŸ“ Returning Borella coordinates: [6.9047, 79.8844]');\r\n      return [6.9047, 79.8844]; // Accurate Borella Baseline Road coordinates\r\n    }\r\n    \r\n    // More specific Colombo area coordinates\r\n    const areaCoordinates = {\r\n      // Borella area - more specific\r\n      'borella': [6.9047, 79.8844],\r\n      'baseline road': [6.9047, 79.8844],\r\n      'baseline': [6.9047, 79.8844],\r\n      'borella baseline': [6.9047, 79.8844],\r\n      \r\n      // Colombo postal codes with specific areas\r\n      'colombo 01': [6.9300, 79.8400], // Fort\r\n      'colombo 02': [6.9200, 79.8500], // Slave Island\r\n      'colombo 03': [6.9100, 79.8500], // Kollupitiya\r\n      'colombo 04': [6.9000, 79.8600], // Bambalapitiya\r\n      'colombo 05': [6.8900, 79.8600], // Wellawatta\r\n      'colombo 06': [6.8800, 79.8700], // Mount Lavinia\r\n      'colombo 07': [6.8700, 79.8700], // Dehiwala\r\n      'colombo 08': [6.9047, 79.8844], // Borella\r\n      'colombo 09': [6.8900, 79.8800], // Dematagoda\r\n      'colombo 10': [6.9400, 79.8500], // Maradana\r\n      'colombo 11': [6.9400, 79.8500], // Pettah\r\n      'colombo 12': [6.9500, 79.8400], // Kotahena\r\n      'colombo 13': [6.9600, 79.8300], // Modara\r\n      'colombo 14': [6.9700, 79.8200], // Grandpass\r\n      'colombo 15': [6.9800, 79.8100], // Mattakkuliya\r\n      \r\n      // Specific areas with more accurate coordinates\r\n      'kollupitiya': [6.9100, 79.8500],\r\n      'bambalapitiya': [6.8900, 79.8600],\r\n      'pettah': [6.9400, 79.8500],\r\n      'fort': [6.9300, 79.8400],\r\n      'slave island': [6.9200, 79.8500],\r\n      'union place': [6.9200, 79.8500],\r\n      'liberty plaza': [6.9100, 79.8500],\r\n      'galle road': [6.9100, 79.8500],\r\n      'maradana': [6.9400, 79.8500],\r\n      'dematagoda': [6.8900, 79.8800],\r\n      'wellawatta': [6.8900, 79.8600],\r\n      'mount lavinia': [6.8800, 79.8700],\r\n      'dehiwala': [6.8700, 79.8700],\r\n      \r\n      // Southern Colombo areas with accurate coordinates\r\n      'maharagama': [6.8481, 79.9285], // More accurate Maharagama coordinates\r\n      'high level road': [6.8481, 79.9285], // High Level Road in Maharagama\r\n      'maharagama high level': [6.8481, 79.9285],\r\n      'nugegoda': [6.8631, 79.8996],\r\n      'kottawa': [6.8400, 79.9500],\r\n      'homagama': [6.8400, 80.0000],\r\n      'piliyandala': [6.8500, 79.9000],\r\n      'kaduwela': [6.9300, 79.9800],\r\n      'avissawella': [6.9500, 80.2000],\r\n      'rathmalana': [6.8200, 79.8800],\r\n      'moratuwa': [6.8000, 79.9000],\r\n      'panadura': [6.7200, 79.9000],\r\n      'kalutara': [6.5800, 79.9600]\r\n    };\r\n    \r\n    // Find matching area - check for multiple keywords with priority\r\n    const priorityAreas = ['maharagama', 'high level road', 'nugegoda', 'kottawa', 'homagama'];\r\n    \r\n    // First, check priority areas (more specific locations)\r\n    for (const priorityArea of priorityAreas) {\r\n      if (addressLower.includes(priorityArea) && areaCoordinates[priorityArea]) {\r\n        console.log(`ðŸŽ¯ Found priority area: \"${priorityArea}\" for address: \"${address}\"`);\r\n        console.log(`ðŸ“ Using coordinates: ${areaCoordinates[priorityArea][0]}, ${areaCoordinates[priorityArea][1]}`);\r\n        console.log(`ðŸ“ Returning priority coordinates: [${areaCoordinates[priorityArea][0]}, ${areaCoordinates[priorityArea][1]}]`);\r\n        return areaCoordinates[priorityArea];\r\n      }\r\n    }\r\n    \r\n    // Then check all other areas\r\n    for (const [area, coords] of Object.entries(areaCoordinates)) {\r\n      if (addressLower.includes(area)) {\r\n        console.log(`ðŸŽ¯ Found matching area: \"${area}\" for address: \"${address}\"`);\r\n        console.log(`ðŸ“ Using coordinates: ${coords[0]}, ${coords[1]}`);\r\n        return coords;\r\n      }\r\n    }\r\n    \r\n    // If no specific match, try to extract Colombo postal code\r\n    const colomboMatch = addressLower.match(/colombo\\s*(\\d+)/);\r\n    if (colomboMatch) {\r\n      const postalCode = `colombo ${colomboMatch[1]}`;\r\n      if (areaCoordinates[postalCode]) {\r\n        console.log(`ðŸŽ¯ Found Colombo postal code: ${postalCode}`);\r\n        return areaCoordinates[postalCode];\r\n      }\r\n    }\r\n    \r\n    // Default to Colombo center if no area match\r\n    console.log('ðŸŽ¯ No specific area found, using default Colombo center coordinates');\r\n    return [6.9271, 79.8612];\r\n  };\r\n\r\n  // Calculate distance between two points using Haversine formula\r\n  const calculateDistance = (lat1, lng1, lat2, lng2) => {\r\n    const R = 6371; // Earth's radius in km\r\n    const dLat = (lat2 - lat1) * Math.PI / 180;\r\n    const dLng = (lng2 - lng1) * Math.PI / 180;\r\n    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n      Math.sin(dLng/2) * Math.sin(dLng/2);\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n    return R * c;\r\n  };\r\n\r\n  // Calculate estimated travel time (assuming average speed of 40 km/h in city traffic)\r\n  const calculateEstimatedTime = (distanceKm) => {\r\n    const averageSpeed = 40; // km/h\r\n    const timeInHours = distanceKm / averageSpeed;\r\n    const hours = Math.floor(timeInHours);\r\n    const minutes = Math.round((timeInHours - hours) * 60);\r\n    \r\n    if (hours > 0) {\r\n      return `${hours}h ${minutes}m`;\r\n    } else {\r\n      return `${minutes}m`;\r\n    }\r\n  };\r\n\r\n  // Calculate road distance along the route\r\n  const calculateRoadDistance = (route) => {\r\n    let totalDistance = 0;\r\n    for (let i = 0; i < route.length - 1; i++) {\r\n      const segmentDistance = calculateDistance(\r\n        route[i][0], route[i][1],\r\n        route[i + 1][0], route[i + 1][1]\r\n      );\r\n      totalDistance += segmentDistance;\r\n    }\r\n    return totalDistance;\r\n  };\r\n\r\n  // Calculate route - simplified to prevent unresponsiveness\r\n  const calculateRoute = React.useCallback(async () => {\r\n    // Prevent multiple simultaneous calculations\r\n    if (loading) {\r\n      console.log('âš ï¸ Route calculation already in progress, skipping...');\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      console.log('ðŸš€ Starting route calculation...');\r\n      console.log('ðŸ“ Branch coords:', branchCoords);\r\n      console.log('ðŸ“ Emergency coords:', emergencyCoords);\r\n      \r\n      // Create simple route immediately\r\n      const simpleRoute = [branchCoords, emergencyCoords];\r\n      setRoute(simpleRoute);\r\n      \r\n      // Calculate distance and time\r\n      const routeDistance = calculateDistance(\r\n        branchCoords[0], branchCoords[1],\r\n        emergencyCoords[0], emergencyCoords[1]\r\n      );\r\n      const calculatedTime = calculateEstimatedTime(routeDistance);\r\n      \r\n      setDistance(routeDistance);\r\n      setEstimatedTime(calculatedTime);\r\n      \r\n      console.log(`ðŸ“ Route calculated successfully:`);\r\n      console.log(`ðŸ“ Distance: ${routeDistance.toFixed(2)} km`);\r\n      console.log(`â±ï¸ Estimated time: ${calculatedTime}`);\r\n      \r\n    } catch (err) {\r\n      console.error('Error calculating route:', err);\r\n      setError('Failed to calculate route.');\r\n      // Fallback to straight line\r\n      const fallbackRoute = [branchCoords, emergencyCoords];\r\n      setRoute(fallbackRoute);\r\n      const fallbackDistance = calculateDistance(\r\n        branchCoords[0], branchCoords[1],\r\n        emergencyCoords[0], emergencyCoords[1]\r\n      );\r\n      setDistance(fallbackDistance);\r\n      setEstimatedTime(calculateEstimatedTime(fallbackDistance));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [branchCoords, emergencyCoords, loading]);\r\n\r\n  // Initialize coordinates when component mounts or emergency request changes\r\n  useEffect(() => {\r\n    const initializeCoordinates = async () => {\r\n      if (emergencyRequest?.coordinates) {\r\n        // If coordinates are provided, use them\r\n        const coords = [emergencyRequest.coordinates.lat, emergencyRequest.coordinates.lng];\r\n        console.log('ðŸ“ Using provided coordinates:', coords);\r\n        setEmergencyCoords(coords);\r\n      } else if (emergencyRequest?.brigadeLocation) {\r\n        // If only address is provided, geocode it\r\n        console.log('ðŸŒ Processing address for geocoding:', emergencyRequest.brigadeLocation);\r\n        console.log('ðŸ” Address type:', typeof emergencyRequest.brigadeLocation);\r\n        console.log('ðŸ“ Full emergency request:', emergencyRequest);\r\n        \r\n        const coords = await geocodeAddress(emergencyRequest.brigadeLocation);\r\n        console.log('ðŸ“ Final geocoded coordinates:', coords);\r\n        setEmergencyCoords(coords);\r\n      } else {\r\n        console.log('ðŸ“ No address provided, using default coordinates');\r\n        setEmergencyCoords(defaultCenter);\r\n      }\r\n    };\r\n\r\n    initializeCoordinates();\r\n  }, [emergencyRequest?.coordinates, emergencyRequest?.brigadeLocation]);\r\n\r\n  // Automatically calculate route when coordinates are updated\r\n  useEffect(() => {\r\n    if (emergencyCoords && branchCoords && emergencyRequest && !loading) {\r\n      console.log('ðŸ”„ Auto-calculating route after coordinate update');\r\n      calculateRoute();\r\n    }\r\n  }, [emergencyCoords, branchCoords, calculateRoute]);\r\n\r\n  // Get simple route - just a straight line with one intermediate point\r\n  const getRealRoadRoute = async (start, end) => {\r\n    console.log('ðŸ›£ï¸ Creating simple route...');\r\n    \r\n    // Just create a basic route with one intermediate point\r\n    const midLat = (start[0] + end[0]) / 2;\r\n    const midLng = (start[1] + end[1]) / 2;\r\n    \r\n    const simpleRoute = [start, [midLat, midLng], end];\r\n    \r\n    console.log('âœ… Simple route created:', simpleRoute);\r\n    return simpleRoute;\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // Manual route calculation trigger\r\n\r\n\r\n  // Calculate center point for map\r\n  const mapCenter = [\r\n    (branchCoords[0] + emergencyCoords[0]) / 2,\r\n    (branchCoords[1] + emergencyCoords[1]) / 2\r\n  ];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n      <div className=\"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white\">\r\n        <div className=\"mt-3\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">\r\n              Emergency Route Map\r\n            </h3>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-md\">\r\n            <h4 className=\"font-medium text-blue-900 mb-2\">Emergency Details:</h4>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <p><strong>Location:</strong> {emergencyRequest?.brigadeLocation}</p>\r\n                <p><strong>Brigade:</strong> {emergencyRequest?.brigadeName}</p>\r\n                <p><strong>Water Level:</strong> {emergencyRequest?.waterLevel}</p>\r\n                <p><strong>Priority:</strong> {emergencyRequest?.priority}</p>\r\n              </div>\r\n              <div>\r\n                <p><strong>Branch:</strong> {branchLocation?.name || 'Colombo Central Branch'}</p>\r\n                <p><strong>Branch Address:</strong> {branchLocation?.address || '123 Galle Road, Colombo 07'}</p>\r\n                {distance && <p><strong>Distance:</strong> {distance.toFixed(2)} km</p>}\r\n                {estimatedTime && <p><strong>Est. Time:</strong> {estimatedTime}</p>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {loading && (\r\n            <div className=\"text-center py-4\">\r\n              <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n              <p className=\"mt-2 text-gray-600\">Calculating route...</p>\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md\">\r\n              <p className=\"text-yellow-800\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Route Information */}\r\n          <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-md\">\r\n            <h4 className=\"font-medium text-green-700 mb-3\">ðŸ›£ï¸ Emergency Water Delivery Route</h4>\r\n            \r\n            {/* Destination Address - Most Prominent */}\r\n            <div className=\"mb-3 p-3 bg-white border border-green-300 rounded-md\">\r\n              <p className=\"text-sm font-medium text-green-800 mb-1\">ðŸ“ DESTINATION ADDRESS:</p>\r\n              <p className=\"text-base font-bold text-gray-900\">{emergencyRequest?.brigadeLocation || 'Address not provided'}</p>\r\n              {isGeocoding && (\r\n                <div className=\"mt-2 flex items-center text-blue-600\">\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2\"></div>\r\n                  <span className=\"text-sm\">Automatically finding exact location...</span>\r\n                </div>\r\n              )}\r\n              {!isGeocoding && emergencyCoords && (\r\n                <div className=\"mt-2 text-xs text-gray-600\">\r\n                  <p>ðŸ“ Coordinates: {emergencyCoords[0].toFixed(6)}, {emergencyCoords[1].toFixed(6)}</p>\r\n                  <p>ðŸŽ¯ Location verified and ready for navigation</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"text-sm space-y-1\">\r\n              <p><strong>ðŸ¢ Brigade:</strong> {emergencyRequest?.brigadeName}</p>\r\n              <p><strong>ðŸšš Starting Point:</strong> Colombo Central Branch</p>\r\n              <p><strong>ðŸŒ Map Location:</strong> {emergencyCoords[0].toFixed(6)}, {emergencyCoords[1].toFixed(6)}</p>\r\n              {isGeocoding && (\r\n                <div className=\"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md\">\r\n                  <p className=\"text-sm text-blue-700\">ðŸ” Auto-geocoding in progress...</p>\r\n                  <p className=\"text-xs text-blue-600\">Finding exact location for: {emergencyRequest?.brigadeLocation}</p>\r\n                </div>\r\n              )}\r\n              {route && route.length > 0 && (\r\n                <div className=\"mt-2 pt-2 border-t border-green-200\">\r\n                  <p><strong>ðŸ“ Road Distance:</strong> {distance ? `${distance.toFixed(2)} km` : 'Auto-calculating...'}</p>\r\n                  <p><strong>â±ï¸ Estimated Time:</strong> {estimatedTime || 'Auto-calculating...'}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"h-96 w-full border border-gray-300 rounded-md\">\r\n            <MapContainer\r\n              center={mapCenter}\r\n              zoom={12}\r\n              style={{ height: '100%', width: '100%' }}\r\n            >\r\n              <TileLayer\r\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n              />\r\n              \r\n              {/* Branch Marker */}\r\n              <Marker position={branchCoords}>\r\n                <Popup>\r\n                  <div className=\"p-2\">\r\n                    <h4 className=\"font-medium text-green-700\">ðŸ¢ Your Branch</h4>\r\n                    <p className=\"text-sm\"><strong>Name:</strong> {branchLocation?.name || 'Colombo Central Branch'}</p>\r\n                    <p className=\"text-sm\"><strong>Address:</strong> {branchLocation?.address || '123 Galle Road, Colombo 07'}</p>\r\n                    <p className=\"text-sm\"><strong>Coordinates:</strong> {branchCoords[0].toFixed(6)}, {branchCoords[1].toFixed(6)}</p>\r\n                    <p className=\"text-xs text-gray-600 mt-1\">ðŸ“ Starting point for emergency delivery</p>\r\n                  </div>\r\n                </Popup>\r\n              </Marker>\r\n              \r\n              {/* Emergency Location Marker */}\r\n              <Marker position={emergencyCoords}>\r\n                <Popup>\r\n                  <div className=\"p-4 text-center max-w-sm\">\r\n                    <h4 className=\"font-bold text-red-600 text-lg mb-3\">ðŸ”¥ðŸš’ Emergency Water Request</h4>\r\n                    \r\n                    {/* Address Display - Most Prominent */}\r\n                    <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md\">\r\n                      <p className=\"text-sm font-medium text-yellow-800 mb-1\">ðŸ“ DESTINATION ADDRESS:</p>\r\n                      <p className=\"text-base font-bold text-gray-900 leading-tight\">{emergencyRequest?.brigadeLocation}</p>\r\n                    </div>\r\n                    \r\n                    <div className=\"space-y-2 text-sm\">\r\n                      <p><strong>ðŸ¢ Brigade:</strong> {emergencyRequest?.brigadeName}</p>\r\n                      <p><strong>ðŸ’§ Water Level:</strong> {emergencyRequest?.waterLevel}%</p>\r\n                      <p><strong>âš¡ Priority:</strong> {emergencyRequest?.priority}</p>\r\n                      <p><strong>â° Request Time:</strong> {new Date(emergencyRequest?.createdAt).toLocaleString()}</p>\r\n                      {distance && <p><strong>ðŸ“ Distance:</strong> {distance.toFixed(2)} km</p>}\r\n                      {estimatedTime && <p><strong>â±ï¸ Est. Time:</strong> {estimatedTime}</p>}\r\n                    </div>\r\n                    \r\n                    <div className=\"mt-4 p-2 bg-red-100 rounded-md\">\r\n                      <p className=\"text-xs text-red-700 font-medium\">ðŸš¨ URGENT: Water delivery required immediately</p>\r\n                    </div>\r\n                  </div>\r\n                </Popup>\r\n              </Marker>\r\n              \r\n              {/* Route Line Visualization */}\r\n              {route && route.length > 1 && (() => {\r\n                console.log('ðŸ—ºï¸ Rendering route line with coordinates:', route);\r\n                return (\r\n                  <Polyline\r\n                    positions={route.map(coord => [coord[0], coord[1]])}\r\n                    color=\"red\"\r\n                    weight={4}\r\n                    opacity={0.8}\r\n                    dashArray=\"10, 10\"\r\n                  />\r\n                );\r\n              })()}\r\n              \r\n              {/* Route Waypoint Markers */}\r\n              {route && route.length > 2 && route.slice(1, -1).map((waypoint, index) => (\r\n                <Marker key={`waypoint-${index}`} position={waypoint}>\r\n                  <Popup>\r\n                    <div className=\"p-2\">\r\n                      <h4 className=\"font-medium text-blue-700\">ðŸ›£ï¸ Route Waypoint {index + 1}</h4>\r\n                      <p className=\"text-sm\">Coordinates: {waypoint[0].toFixed(6)}, {waypoint[1].toFixed(6)}</p>\r\n                      <p className=\"text-xs text-gray-600 mt-1\">Part of emergency delivery route</p>\r\n                    </div>\r\n                  </Popup>\r\n                </Marker>\r\n              ))}\r\n            </MapContainer>\r\n          </div>\r\n\r\n          {/* Turn-by-Turn Directions Panel */}\r\n          {directions.length > 0 && (\r\n            <div className=\"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md\">\r\n              <h4 className=\"font-medium text-blue-800 mb-3\">ðŸ§­ Turn-by-Turn Directions</h4>\r\n              <div className=\"max-h-48 overflow-y-auto\">\r\n                {directions.map((direction, index) => (\r\n                  <div key={index} className=\"flex items-start space-x-3 py-2 border-b border-blue-100 last:border-b-0\">\r\n                    <div className=\"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-medium\">\r\n                      {direction.step}\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"text-sm text-blue-800 font-medium\">{direction.instruction}</p>\r\n                      <p className=\"text-xs text-blue-600\">{direction.distance} â€¢ {direction.road}</p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mt-4 flex justify-between items-center\">\r\n            <div className=\"text-sm text-gray-600\">\r\n              {distance && <p>ðŸ“ Road distance: {distance.toFixed(2)} km</p>}\r\n              {directions.length > 0 && <p>ðŸ§­ {directions.length} turn-by-turn directions provided</p>}\r\n              {!loading && !route && (\r\n                <p className=\"text-yellow-600\">âš ï¸ Route not calculated yet</p>\r\n              )}\r\n            </div>\r\n            <div className=\"flex space-x-3\">\r\n              <button\r\n                onClick={calculateRoute}\r\n                disabled={loading}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {loading ? 'Calculating...' : 'ðŸ”„ Recalculate Route'}\r\n              </button>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700\"\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmergencyRouteMap;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}